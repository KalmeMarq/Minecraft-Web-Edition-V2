var Ht=Object.defineProperty;var Bt=(l,t,e)=>t in l?Ht(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var i=(l,t,e)=>(Bt(l,typeof t!="symbol"?t+"":t,e),e);import{C as X,S as F,T as N,R as C,G as ht,A as Gt,L as _t,s as At,a as Vt,B as Yt,b as kt,N as Kt,f as Xt}from"./vendor.521708c7.js";const jt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}};jt();class zt{async setContent(t){try{await navigator.clipboard.writeText(t)}catch{}}async getContent(){try{return await navigator.clipboard.readText()}catch{return""}}}class Rt{constructor(t){i(this,"reloaderCount");i(this,"reloadedCount");i(this,"waitingReloaders");this.reloaderCount=t.length,this.reloadedCount=0,this.waitingReloaders=new Set(t),(s=>s.reduce((n,a)=>n.then(()=>(this.waitingReloaders.delete(a),this.reloadedCount++,a.reload())),Promise.resolve()))(t)}getProgress(){return this.reloadedCount/this.reloaderCount}isComplete(){return this.getProgress()===1}}class H{constructor(t,e){i(this,"namespace");i(this,"path");if(e)this.path=e,this.namespace=t;else{const s=this.splitLocation(t);this.path=s.path,this.namespace=s.namespace}}splitLocation(t){const e=t.substring(0,t.indexOf(":"));return{namespace:e.length===0?"minecraft":e,path:t.substring(t.indexOf(":")+1,t.length)}}getFullPath(){return`${this.namespace}:${this.path}`}equals(t){return t===this?!0:t instanceof H?t.namespace===this.namespace&&t.path===this.path:!1}}class A{static getAlpha(t){return t>>>24}static getRed(t){return t>>16&255}static getGreen(t){return t>>8&255}static getBlue(t){return t&255}static getArgb(t,e,s,n){return t<<24|e<<16|s<<8|n}static getRgb(t,e,s){return t<<16|e<<8|s}static mixColor(t,e){return A.getArgb(A.getAlpha(t)*A.getAlpha(e)/255,A.getRed(t)*A.getRed(e)/255,A.getGreen(t)*A.getGreen(e)/255,A.getBlue(t)*A.getBlue(e)/255)}}const z=class{static create(){const t=new Map;return new class extends z{constructor(){super(...arguments);i(this,"map",t)}get(e){var s;return(s=this.map.get(e))!=null?s:e}hasTranslation(e){return this.map.has(e)}isRightToLeft(){return!1}}}static getInstance(){return z.instance}static setInstance(t){z.instance=t}};let J=z;i(J,"DEFAULT_LANGUAGE","en_us"),i(J,"instance",z.create());const ut={ALT:new H("minecraft:alt"),ILLAGERALT:new H("minecraft:illageralt"),DEFAULT:new H("minecraft:default")};class D{constructor(t,e,s,n,a,r){i(this,"container");i(this,"text");i(this,"x");i(this,"y");i(this,"color");i(this,"shadow");i(this,"fontType");this.container=new X,this.text=e,this.fontType=t,this.x=s,this.y=n,this.color=a,this.shadow=r,this.container.position.set(this.x,this.y)}static textShadow(t,e,s,n=16777215,a=ut.DEFAULT){return new D(a,t,e,s,n,!0).draw()}shadowC(t){const e=(t>>16&255)*.25<<16,s=(t>>8&255)*.25<<8,n=(t&255)*.25;return e|s|n}static getWidth(t,e=ut.DEFAULT){const s=U.getInstance(),n=typeof t=="string"?new v(t):t,a=s.fonts.find(h=>h.location.equals(e));if(!a)return 0;let r=0;const o=[];n instanceof u?o.push(...n.getTranslation()):o.push(n),n.siblings.forEach(h=>{h instanceof u?o.push(...h.getTranslation(),h):o.push(h)});for(let h=0;h<o.length;h++){const g=o[h];for(const d of g.text)r+=a.glyphs[d].getAdvance()}return r}draw(){var r,o;const e=U.getInstance().fonts.find(h=>h.location.equals(this.fontType));if(!e)return this;let s=0,n=0;this.container.removeChildren();const a=[];this.text instanceof u?a.push(...this.text.getTranslation()):a.push(this.text),this.text.siblings.forEach(h=>{h instanceof u?a.push(...h.getTranslation(),h):a.push(h)});for(let h=0;h<a.length;h++){const g=a[h],d=g.text,S=(o=(r=g.style.getColor())==null?void 0:r.getRgb())!=null?o:this.color;for(const L of d){const b=e.glyphs[L];if(L!==" "){const P=new F(b.texture);if(P.position.set(s,n+b.bearingY()),this.shadow){const I=new F(b.texture);I.position.set(s+1,n+b.bearingY()+1),I.tint=this.shadowC(S),this.container.addChild(I)}this.container.addChild(P),P.tint=S}s+=b.getAdvance()}}return this}setText(t){return this.text=typeof t=="string"?new v(t):t,this.draw(),this}setColor(t){return this.color=t,this.draw(),this}}class Ct{constructor(t,e){i(this,"rgb");i(this,"name");this.rgb=t,this.name=e!=null?e:null}getRgb(){return this.rgb}static fromRgb(t){return new Ct(t)}}const _=class{constructor(t,e){i(this,"color");i(this,"font");this.color=t,this.font=e}getColor(){return this.color}isEmpty(){return this==_.EMPTY}getFont(){return this.font!==null?this.font:ut.DEFAULT}withColor(t){return typeof t=="number"?new _(Ct.fromRgb(t),this.font):new _(t,this.font)}withFont(t){return new _(this.color,t)}};let xt=_;i(xt,"EMPTY",new _(null,null));class v{constructor(t){i(this,"siblings",[]);i(this,"text");i(this,"style",xt.EMPTY);this.text=t}asString(){let t=this.text;return this.siblings.forEach(e=>{t=e.asString()}),t}append(t){return this.siblings.push(typeof t=="string"?new v(t):t),this}formatted(t){return t.getColorValue()&&(this.style=this.style.withColor(t.getColorValue())),this}}class T extends v{}const Et=class extends v{constructor(t,...e){super(t);i(this,"translations",[]);i(this,"languageCache");i(this,"key");i(this,"args");this.key=t,this.args=e}updateTranslations(){const t=J.getInstance();if(t===this.languageCache)return;this.languageCache=t;const e=t.get(this.key);let s=[];this.forEachPart(e,n=>{s.push(n)}),this.translations=s}forEachPart(t,e){const s=t.split(/%s/g);for(let n=0;n<s.length;n++)s[n]!==""&&e(new T(s[n].replace(/%%/g,"%"))),s[n+1]!==void 0&&e(this.getArg(n))}getArg(t){if(t>=this.args.length)throw new Error("No more args man. sry...");const e=this.args[t];return e instanceof v?e:e===null?Et.NULL_ARGUMENT:new T(e.toString())}getTranslation(){return this.updateTranslations(),this.translations}};let u=Et;i(u,"ARG_FORMAT",/%(?:(\\d+)\\$)?([A-Za-z%]|$)/),i(u,"NULL_ARGUMENT",new T("null"));class dt{createSprite(t,e,s,n,a,r,o,h,g){const d=(h!=null?h:256)/(g!=null?g:256),S=new F(new N(t,new C(n*d,a*d,r*d,o*d)));return S.position.set(e,s),S}static createSprite(t,e,s,n,a,r,o,h,g){const d=(h!=null?h:256)/(g!=null?g:256),S=new F(new N(t,new C(n*d,a*d,r*d,o*d)));return S.position.set(e,s),S}createStringWithShadow(t,e,s,n,a){return D.textShadow(typeof t=="string"?new v(t):t,e,s,n,a)}static createStringWithShadow(t,e,s,n,a){return D.textShadow(typeof t=="string"?new v(t):t,e,s,n,a)}createTextWithShadow(t,e,s,n,a){return D.textShadow(t,e,s,n,a)}static createTextWithShadow(t,e,s,n,a){return D.textShadow(t,e,s,n,a)}createCenteredText(t,e,s,n,a){return D.textShadow(typeof t=="string"?new v(t):t,e-D.getWidth(typeof t=="string"?new v(t):t)/2,s,n,a)}}class qt{constructor(){i(this,"container");this.container=new ht}init(){}drawBar(t){this.container.clear(),this.container.beginFill(16777215),this.container.drawRect(0,0,200,1),this.container.drawRect(0,1,1,12),this.container.drawRect(0,13,200,1),this.container.drawRect(199,1,1,12),this.container.drawRect(2,2,196*t,10),this.container.endFill()}setProgress(t){this.drawBar(t)}}const q=class{constructor(t,e){i(this,"container");i(this,"mcUI");i(this,"reload");i(this,"bar");i(this,"completeAfterTimer");i(this,"progress");i(this,"isFading");i(this,"showingLogg",!1);i(this,"logo");i(this,"bg");i(this,"oldW");i(this,"oldH");this.container=new X,this.mcUI=t,this.reload=e,this.bar=new qt,this.completeAfterTimer=-1,this.progress=0,this.oldW=0,this.oldH=0,this.isFading=!1,this.container.sortableChildren=!0}init(){const t=window.innerWidth/3,e=window.innerHeight/3;this.oldW=t,this.oldH=e;const s=new ht;s.beginFill(this.mcUI.gameOptions.monochromeLogo?q.MONOCHROME_BLACK:q.MOJANG_RED),s.drawRect(0,0,t,e),s.endFill(),this.bg=s,this.container.addChild(s);let n=this.reload.getProgress();this.progress=this.progress*.95+n*.050000012,this.bar.setProgress(this.progress),this.bar.container.zIndex=10,this.bar.container.position.set(t/2-100,e/1.5-7),this.container.addChild(this.bar.container)}update(t){var n,a,r,o,h,g;const e=this.mcUI.getScaledWidth(),s=this.mcUI.getScaledHeight();if(!this.showingLogg&&this.mcUI.textures["minecraft:textures/gui/title/mojangstudios.png"]){const d=this.mcUI.textures["minecraft:textures/gui/title/mojangstudios.png"],S=dt.createSprite(d.baseTexture,0,0,0,0,512,256);S.width=128,S.height=64;const L=dt.createSprite(d.baseTexture,128,0,0,256,512,256);L.width=128,L.height=64;const b=new X;b.position.set(e/2-128,s/1.5-7-14-64-20),b.addChild(S,L),this.container.addChild(b),this.showingLogg=!0,this.logo=b}(this.oldH!==s||this.oldW!==e)&&((n=this.bg)==null||n.clear(),(a=this.bg)==null||a.beginFill(this.mcUI.gameOptions.monochromeLogo?q.MONOCHROME_BLACK:q.MOJANG_RED),(r=this.bg)==null||r.drawRect(0,0,e,s),(o=this.bg)==null||o.endFill()),this.progress=this.progress*.95+this.reload.getProgress()*.05,this.bar.setProgress(this.progress),this.bar.container.position.set(e/2-100,s/1.5-7),(h=this.logo)==null||h.position.set(e/2-128,s/1.5-7-14-64-20),this.completeAfterTimer!==-1&&this.completeAfterTimer++,this.isFading?this.container.alpha-=t*.05:.99999-this.progress<9e-5&&(this.isFading=!0,(g=this.mcUI.screen)==null||g.initScreen(this.mcUI,this.mcUI.getScaledWidth(),this.mcUI.getScaledHeight())),this.container.alpha<=0&&this.mcUI.setOverlay(null)}};let j=q;i(j,"MOJANG_RED",A.getRgb(239,50,61)),i(j,"MONOCHROME_BLACK",A.getRgb(0,0,0)),i(j,"PRISMARINE",A.getRgb(96,164,144));class Jt{constructor(t,e){i(this,"tickDelta");i(this,"lastFrameDuration");i(this,"prevTimeMillis");i(this,"tickTime");this.tickDelta=0,this.lastFrameDuration=0,this.tickTime=1e3/t,this.prevTimeMillis=e}beginRenderTick(t){this.lastFrameDuration=(t-this.prevTimeMillis)/this.tickTime,this.prevTimeMillis=t,this.tickDelta+=this.lastFrameDuration;let e=~~this.tickDelta;return this.tickDelta-=e,e}}const M=class{constructor(t,e,s,n,a,r,o){i(this,"image");i(this,"texture");i(this,"offsetX");i(this,"offsetY");i(this,"width");i(this,"height");i(this,"advance");i(this,"ascent");this.image=t,this.offsetX=e,this.offsetY=s,this.width=n,this.height=a,this.advance=r,this.ascent=o,this.texture=new N(this.image.baseTexture,new C(this.offsetX,this.offsetY,this.width,this.height))}static getColorAtPixel(t,e,s){const n=4*(t.width*s+e);return{r:t.data[n+0],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]}}static getActualGlyphWidth(t,e,s,n,a){(M.TEMPCTX.canvas.width!==n||M.f)&&(M.TEMPCTX.canvas.width=n),(M.TEMPCTX.canvas.height!==a||M.f)&&(M.TEMPCTX.canvas.height=a),M.TEMPCTX.drawImage(t,e,s,n,a,0,0,n,a);const r=M.TEMPCTX.getImageData(0,0,n,a);let o;for(o=n-1;o>=0;--o)for(let h=0;h<a;++h)if(M.getColorAtPixel(r,o,h).a!==0)return o+1;return o+1}getAdvance(){return this.advance}bearingY(){return 7-this.ascent-3*2+6}};let $=M;i($,"TEMPCTX",document.createElement("canvas").getContext("2d")),i($,"f",!0),(()=>{M.TEMPCTX.imageSmoothingEnabled=!1})();const et=class{constructor(t){i(this,"mc");i(this,"cX");i(this,"cY");this.mc=t,this.cX=-1,this.cY=-1}cursorMove(t,e){if(this.mc.overlay===null&&this.mc.screen){const s=t/(window.innerWidth/this.mc.getScaledWidth()),n=e/(window.innerHeight/this.mc.getScaledHeight()),a=(t-this.cX)/(window.innerWidth/this.mc.getScaledWidth()),r=(e-this.cY)/(window.innerHeight/this.mc.getScaledHeight());this.mc.screen.mouseDragged(s,n,0,a,r)}this.cX=t,this.cY=e}cursorButton(t,e,s,n){if(this.mc.overlay===null&&this.mc.screen){const a=t/(window.innerWidth/this.mc.getScaledWidth()),r=e/(window.innerHeight/this.mc.getScaledHeight());n===1?this.mc.screen.mouseClicked(a,r,s):this.mc.screen.mouseReleased(a,r,s)}}keyPress(t,e,s,n){this.mc.overlay===null&&this.mc.screen&&(n===1?this.mc.screen.keyPressed(t,e,s):this.mc.screen.keyReleased(t,e,s))}onChar(t){const e=this.mc.screen;if(!(e==null||this.mc.overlay!==null))for(const s of t)e.charTyped(s)}setup(){document.addEventListener("mousemove",t=>this.cursorMove(t.clientX,t.clientY)),document.addEventListener("mousedown",t=>this.cursorButton(t.clientX,t.clientY,t.button,1)),document.addEventListener("mouseup",t=>this.cursorButton(t.clientX,t.clientY,t.button,0)),document.addEventListener("keydown",t=>{t.code==="Tab"&&t.preventDefault(),et.codes[t.code]=!0,this.keyPress(t.key,t.code,t.keyCode,1),["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","_"," ","(",")","[","]","{","}","!",'"',"'","#","$","%","&","/","=","?","|","\\","@","\xA3","\xA7","*","+","`","\xB4","^","~",",",";",".",":","-"].includes(t.key)&&this.onChar(t.key)}),document.addEventListener("keyup",t=>{t.code==="Tab"&&t.preventDefault(),et.codes[t.code]=!1,this.keyPress(t.key,t.code,t.keyCode,0)})}static isKeyPressed(t){return et.codes[t]}getX(){return this.cX}getY(){return this.cY}};let W=et;i(W,"codes",{});const bt=class{constructor(){i(this,"splashTexts");this.splashTexts=[]}async reload(){(await(await fetch(bt.RESOURCE.path)).text()).split(`
`).forEach(e=>{this.splashTexts.push(e.trim())})}get(){const t=new Date;return t.getMonth()+1===12&&t.getDate()===24?"Merry X-mas!":t.getMonth()+1===1&&t.getDate()===1?"Happy new year!":t.getMonth()+1===10&&t.getDate()===31?"OOoooOOOoooo! Spooky!":this.splashTexts.length<1?"missingno":this.splashTexts[Math.round(Math.random()*this.splashTexts.length)]}};let yt=bt;i(yt,"RESOURCE",new H("texts/splashes.txt"));const V=class{constructor(t){i(this,"translationKey");V.ALL_VALUES.push(this),this.translationKey=t}static values(){return V.ALL_VALUES}getTranslationKey(){return this.translationKey}};let k=V;i(k,"ALL_VALUES",[]),i(k,"OFF",new V("OFF")),i(k,"FAST",new V("Fast")),i(k,"FANCY",new V("Fancy"));const O=class{constructor(t){i(this,"name");O.ALL_VALUES.push(this),this.name=t}getName(){return this.name}static values(){return this.ALL_VALUES}};let E=O;i(E,"ALL_VALUES",[]),i(E,"MASTER",new O("master")),i(E,"MUSIC",new O("music")),i(E,"RECORDS",new O("record")),i(E,"WEATHER",new O("weather")),i(E,"BLOCKS",new O("block")),i(E,"HOSTILE",new O("hostile")),i(E,"NEUTRAL",new O("neutral")),i(E,"PLAYERS",new O("player")),i(E,"AMBIENT",new O("ambient")),i(E,"VOICE",new O("voice"));class gt{constructor(t){i(this,"mc");i(this,"monochromeLogo");i(this,"guiScale");i(this,"language");i(this,"hudHidden");i(this,"hideLightningFlashes");i(this,"rawMouseInput");i(this,"autoJump");i(this,"autoSuggestions");i(this,"chatColors");i(this,"chatLinks");i(this,"chatLinksPrompt");i(this,"enableVsync");i(this,"entityShadows");i(this,"forceUnicodeFont");i(this,"invertYMouse");i(this,"discreteMouseScroll");i(this,"realmsNotifications");i(this,"allowServerListing");i(this,"reducedDebugInfo");i(this,"showSubtitles");i(this,"backgroundForChatOnly");i(this,"touchscreen");i(this,"fullscreen");i(this,"bobView");i(this,"sneakToggled");i(this,"sprintToggled");i(this,"skipMultiplayerWarning");i(this,"hideMatchedNames");i(this,"showAutosaveIndicator");i(this,"cloudRenderMode");i(this,"chatScale",1);i(this,"chatWidth",1);i(this,"chatHeightUnfocused",.44366195797920227);i(this,"chatHeightFocused",1);i(this,"chatDelay",0);i(this,"mouseSensitivity");i(this,"chatOpacity");i(this,"requestSave");i(this,"soundVolumeLevels");this.mc=t,this.requestSave=!1,this.monochromeLogo=!0,this.guiScale=3,this.hudHidden=!1,this.language="en_us",this.hideLightningFlashes=!1,this.rawMouseInput=!0,this.autoJump=!0,this.autoSuggestions=!0,this.chatColors=!0,this.chatLinks=!0,this.chatLinksPrompt=!0,this.enableVsync=!0,this.entityShadows=!0,this.forceUnicodeFont=!1,this.invertYMouse=!1,this.discreteMouseScroll=!1,this.realmsNotifications=!0,this.allowServerListing=!0,this.reducedDebugInfo=!1,this.showSubtitles=!1,this.backgroundForChatOnly=!0,this.touchscreen=!1,this.fullscreen=!1,this.bobView=!0,this.sneakToggled=!1,this.sprintToggled=!1,this.skipMultiplayerWarning=!1,this.hideMatchedNames=!0,this.showAutosaveIndicator=!0,this.cloudRenderMode=k.FANCY,this.chatWidth=320,this.chatOpacity=1,this.mouseSensitivity=.5,this.soundVolumeLevels=E.values().map(e=>[e,1])}load(){let t=null;if(!(t=localStorage.getItem("optionsv1")))return;window.addEventListener("storage",s=>{var n;this.requestSave?this.requestSave=!1:s.key==="optionsv1"&&localStorage.setItem(s.key,(n=s.oldValue)!=null?n:"")});const e={};t.split(`
`).map(s=>s.trim()).forEach(s=>{const n=s.split(":").slice(0,2);e[n[0]]=n[1]}),this.accept(new class{constructor(){i(this,"options",e)}visitInt(s,n){const a=this.options[s];return a&&parseInt(a)||n}visitFloat(s,n){const a=this.options[s];return a&&parseFloat(a)||n}visitBoolean(s,n){const a=this.options[s];return a?a.toLowerCase()==="true":n}visitString(s,n){var a;return(a=this.options[s])!=null?a:n}visitObject(s,n,a,r){const o=this.options[s];return o===null?n:a(o)}})}save(){let t="";this.accept(new class{add(e,s){t+=`${e}:${s}
`}visitInt(e,s){return this.add(e,s),s}visitFloat(e,s){return this.add(e,s),s}visitBoolean(e,s){return this.add(e,s),s}visitString(e,s){return this.add(e,s),s}visitObject(e,s,n,a){return this.add(e,a(s)),s}}),this.requestSave=!0,localStorage.setItem("optionsv1",t)}accept(t){this.monochromeLogo=t.visitBoolean("monochromeLogo",this.monochromeLogo),this.guiScale=t.visitInt("guiScale",this.guiScale),this.hudHidden=t.visitBoolean("hudHidden",this.hudHidden),this.language=t.visitString("language",this.language),this.hideLightningFlashes=t.visitBoolean("hideLightningFlashes",this.hideLightningFlashes),this.rawMouseInput=t.visitBoolean("rawMouseInput",this.rawMouseInput),this.autoJump=t.visitBoolean("autoJump",this.autoJump),this.autoSuggestions=t.visitBoolean("autoSuggestions",this.autoSuggestions),this.chatColors=t.visitBoolean("chatColors",this.chatColors),this.chatLinks=t.visitBoolean("chatLinks",this.chatLinks),this.chatLinksPrompt=t.visitBoolean("chatLinksPrompt",this.chatLinksPrompt),this.enableVsync=t.visitBoolean("enableVsync",this.enableVsync),this.entityShadows=t.visitBoolean("entityShadows",this.entityShadows),this.forceUnicodeFont=t.visitBoolean("forceUnicodeFont",this.forceUnicodeFont),this.invertYMouse=t.visitBoolean("invertYMouse",this.invertYMouse),this.discreteMouseScroll=t.visitBoolean("discreteMouseScroll",this.discreteMouseScroll),this.realmsNotifications=t.visitBoolean("realmsNotifications",this.realmsNotifications),this.allowServerListing=t.visitBoolean("allowServerListing",this.allowServerListing),this.reducedDebugInfo=t.visitBoolean("reducedDebugInfo",this.reducedDebugInfo),this.showSubtitles=t.visitBoolean("showSubtitles",this.showSubtitles),this.backgroundForChatOnly=t.visitBoolean("backgroundForChatOnly",this.backgroundForChatOnly),this.touchscreen=t.visitBoolean("touchscreen",this.touchscreen),this.fullscreen=t.visitBoolean("fullscreen",this.fullscreen),this.bobView=t.visitBoolean("bobView",this.bobView),this.sneakToggled=t.visitBoolean("sneakToggled",this.sneakToggled),this.sprintToggled=t.visitBoolean("sprintToggled",this.sprintToggled),this.skipMultiplayerWarning=t.visitBoolean("skipMultiplayerWarning",this.skipMultiplayerWarning),this.hideMatchedNames=t.visitBoolean("hideMatchedNames",this.hideMatchedNames),this.showAutosaveIndicator=t.visitBoolean("showAutosaveIndicator",this.showAutosaveIndicator),this.cloudRenderMode=t.visitObject("renderClouds",this.cloudRenderMode,gt.loadCloudRenderMode,gt.saveCloudRenderMode),this.chatScale=t.visitFloat("chatScale",this.chatScale),this.chatWidth=t.visitInt("chatWidth",this.chatWidth),this.chatHeightUnfocused=t.visitFloat("chatHeightUnfocused",this.chatHeightUnfocused),this.chatHeightFocused=t.visitFloat("chatHeightFocused",this.chatHeightFocused),this.chatDelay=t.visitFloat("chatDelay",this.chatDelay),this.chatOpacity=t.visitFloat("chatOpacity",this.chatOpacity),this.mouseSensitivity=t.visitFloat("mouseSensitivity",this.mouseSensitivity);let e=0;for(const[s,n]of this.soundVolumeLevels)this.soundVolumeLevels[e]=[s,t.visitFloat(`soundCategory_${s.getName()}`,n)],e++}static loadCloudRenderMode(t){switch(t){case"true":return k.FANCY;case"fast":return k.FAST}return k.OFF}static saveCloudRenderMode(t){switch(t){case k.FANCY:return"true";case k.FAST:return"fast"}return"false"}setSoundVolume(t,e){let s=this.soundVolumeLevels.findIndex(n=>n[0].getName()===t.getName());s!==-1&&(this.soundVolumeLevels[s]=[t,e])}getSoundVolume(t){var e,s;return(s=(e=this.soundVolumeLevels.find(n=>n[0].getName()===t.getName()))==null?void 0:e[1])!=null?s:1}}class pt{constructor(t,e,s,n){i(this,"code");i(this,"region");i(this,"name");i(this,"rightToLeft");this.code=t,this.region=e,this.name=s,this.rightToLeft=n}getCode(){return this.code}getName(){return this.name}getRegion(){return this.region}isRightToLeft(){return this.rightToLeft}toString(){return`${this.name} (${this.region})`}[Symbol.toString()](){return`${this.name} (${this.region})`}equals(t){return this===t?!0:t instanceof pt?this.code===t.code:!1}}class Lt extends J{constructor(t,e){super();i(this,"translations");i(this,"rightToLeft");this.translations=t,this.rightToLeft=e}static async load(t){const e=new Map;let s=!1;for(const n of t){s||(s=n.isRightToLeft());const a=await(await fetch(`lang/${n.getCode()}.json`)).json();Object.entries(a).forEach(([r,o])=>{e.set(r,o)})}return new Lt(new Map(e),s)}get(t){var e;return(e=this.translations.get(t))!=null?e:t}hasTranslation(t){return this.translations.has(t)}isRightToLeft(){return this.rightToLeft}}const Y=class{constructor(t){i(this,"languageDefs",new Map([["en_us",Y.ENGLISH_US]]));i(this,"currentLanguageCode");i(this,"language",Y.ENGLISH_US);this.currentLanguageCode=t}static async loadAvailableLanguages(){const t=await(await fetch("pack.mcmeta")).json(),e=new Map;for(const[s,n]of Object.entries(t.language))e.set(s,new pt(s,n.region,n.name,n.bidirectional));return e}async reload(){var n,a;this.languageDefs=await Y.loadAvailableLanguages();const t=(n=this.languageDefs.get(Y.DEFAULT_LANGUAGE_CODE))!=null?n:Y.ENGLISH_US;this.language=(a=this.languageDefs.get(this.currentLanguageCode))!=null?a:t;const e=[t];this.language!==t&&e.push(this.language);const s=await Lt.load(e);J.setInstance(s)}setLanguage(t){this.currentLanguageCode=t.getCode(),this.language=t}getLanguage(t){return t?this.languageDefs.get(t):this.language}getAllLanguages(){return new Set(Array.from(this.languageDefs.values()).sort((t,e)=>t.getCode()<e.getCode()?-1:t.getCode()>e.getCode()?1:0))}};let ot=Y;i(ot,"DEFAULT_LANGUAGE_CODE","en_us"),i(ot,"ENGLISH_US",new pt("en_us","US","English",!1));class Dt{asyncLoader(t,e){return new Promise(s=>{t.loader.add(e).load(()=>{s(t.loader.resources[e])})})}async reload(){var e;const t=U.getInstance();Object.values(t.textures).forEach(s=>{var n,a;s&&((n=Yt.removeFromCache(s.baseTexture))==null||n.destroy(),(a=N.removeFromCache(s))==null||a.destroy())}),t.loader.resources={},t.textures={},await new Promise(s=>{t.loader.add([{name:"minecraft:textures/gui/title/mojangstudios.png",url:"textures/gui/title/mojangstudios.png"}]).load(()=>{t.textures["minecraft:textures/gui/title/mojangstudios.png"]=t.loader.resources["minecraft:textures/gui/title/mojangstudios.png"].texture,s()})}),await new Promise(s=>{setTimeout(s,3e3)});for(const s of Object.values(ut)){const n=await(await fetch(`font/${s.path}.json`)).json(),a={};for(const r of n.providers){const o=new H(r.file),h=await this.asyncLoader(t,`textures/${o.path}`),g=h.data,d=h.texture,S=(e=r.ascent)!=null?e:7,L=d.width,b=d.height,P=L/r.chars[0].length,I=b/r.chars.length;for(let Q=0;Q<r.chars.length;Q++){let Tt=0;for(const Ot of r.chars[Q])Ot!==" "&&(a[Ot]=new $(d,Tt*P,Q*I,P,I,$.getActualGlyphWidth(g,Tt*P,Q*I,P,I)+1,S)),Tt++}a[" "]=new $(d,0,0,4,I,4,S)}t.fonts.push({location:s,glyphs:a})}}}class It{async reload(){await new Promise((t,e)=>{const s=U.getInstance();s.loader.add([{name:"minecraft:textures/gui/widgets.png",url:"textures/gui/widgets.png"},{name:"background",url:"textures/gui/background.png"},{name:"vignette",url:"textures/misc/vignette.png"},{name:"minecraft:textures/gui/accessibility.png",url:"textures/gui/accessibility.png"},{name:"minecraft:textures/gui/title/minecraft.png",url:"textures/gui/title/minecraft.png"},{name:"minecraft:textures/gui/title/edition.png",url:"textures/gui/title/edition.png"}]).load(()=>{s.textures["minecraft:textures/gui/widgets.png"]=s.loader.resources["minecraft:textures/gui/widgets.png"].texture,s.textures.background=s.loader.resources.background.texture,s.textures.vignette=s.loader.resources.vignette.texture,s.textures["minecraft:textures/gui/accessibility.png"]=s.loader.resources["minecraft:textures/gui/accessibility.png"].texture,s.textures["minecraft:textures/gui/title/minecraft.png"]=s.loader.resources["minecraft:textures/gui/title/minecraft.png"].texture,s.textures["minecraft:textures/gui/title/edition.png"]=s.loader.resources["minecraft:textures/gui/title/edition.png"].texture,t()})})}}const wt=class{constructor(t,e){i(this,"app");i(this,"root");i(this,"screen");i(this,"overlay");i(this,"loader");i(this,"clipboard");i(this,"inputHandler");i(this,"fps",0);i(this,"nextUpdateTime",0);i(this,"currFps",-1);i(this,"renderTickCounter",new Jt(20,0));i(this,"textures");i(this,"fonts",[]);i(this,"titleGetter");i(this,"splashTextLoader");i(this,"gameOptions");i(this,"scaleFactor");i(this,"languageManager");wt.instance=this,this.titleGetter=t,this.app=new Gt({width:window.innerWidth,height:window.innerHeight,resizeTo:window}),this.gameOptions=new gt(this),this.gameOptions.load(),this.scaleFactor=this.calculateScaleFactor(this.gameOptions.guiScale),this.loader=new _t,this.textures={},this.languageManager=new ot(this.gameOptions.language),this.clipboard=new zt,this.root=new X,this.screen=null,this.overlay=null,this.inputHandler=new W(this),this.inputHandler.setup(),this.splashTextLoader=new yt,this.setOverlay(new j(this,new Rt([new Dt,new It,this.languageManager,this.splashTextLoader,...e]))),setTimeout(()=>this.setScreen(this.titleGetter()),0)}reloadResources(){this.setOverlay(new j(this,new Rt([new Dt,new It,this.languageManager,this.splashTextLoader])))}async run(){At.SCALE_MODE=Vt.NEAREST,At.ROUND_PIXELS=!1,this.app.stage.addChild(this.root),this.root.scale.set(this.gameOptions.guiScale),this.root.sortableChildren=!0,window.addEventListener("resize",()=>{this.windowResized()});const t=()=>{this.update(),requestAnimationFrame(t)};this.nextUpdateTime=Date.now(),requestAnimationFrame(t),document.body.appendChild(this.app.view)}update(){var e,s;const t=this.renderTickCounter.beginRenderTick(Date.now());for(let n=0;n<Math.min(10,t);++n)this.tick();for((e=this.overlay)==null||e.update(this.renderTickCounter.lastFrameDuration),(s=this.screen)==null||s.update(this.inputHandler.getX()/this.gameOptions.guiScale,this.inputHandler.getY()/this.gameOptions.guiScale,this.renderTickCounter.lastFrameDuration),++this.fps;Date.now()>=this.nextUpdateTime+1e3;)this.currFps=this.fps,this.nextUpdateTime+=1e3,this.fps=0}tick(){var t;(t=this.screen)==null||t.tick()}windowResized(){var e;const t=this.calculateScaleFactor(this.gameOptions.guiScale);this.scaleFactor=t,this.root.scale.set(t),(this.overlay===null||this.overlay&&this.overlay.isFading)&&((e=this.screen)==null||e.resize(this,this.getScaledWidth(),this.getScaledHeight()))}setScreen(t){this.screen&&(this.screen.removed(),this.screen.container.parent.removeChild(this.screen.container)),this.screen=t,this.screen===null&&(this.screen=this.titleGetter()),this.screen&&(this.overlay===null&&this.screen.initScreen(this,this.getScaledWidth(),this.getScaledHeight()),this.root.addChild(this.screen.container))}setOverlay(t){this.overlay&&this.overlay.container.parent.removeChild(this.overlay.container),this.overlay=t,this.overlay&&(this.overlay.init(),this.overlay.container.zIndex=1e3,this.root.addChild(this.overlay.container))}getScaledWidth(){return window.innerWidth/this.scaleFactor}getScaledHeight(){return window.innerHeight/this.scaleFactor}getSplashTextLoader(){return this.splashTextLoader}updateGuiScale(t){this.gameOptions.guiScale=t,this.root.scale.set(this.gameOptions.guiScale),this.windowResized()}static getInstance(){return wt.instance}calculateScaleFactor(t){let e;for(e=1;e!==t&&e<window.innerWidth&&e<window.innerHeight&&window.innerWidth/(e+1)>=320&&window.innerHeight/(e+1)>=240-10;++e);return e}};let U=wt;i(U,"instance");class y extends dt{constructor(t=new v("")){super();i(this,"container",new X);i(this,"widgets",[]);i(this,"initialized",!1);i(this,"width",0);i(this,"height",0);i(this,"mc",U.getInstance());i(this,"title");i(this,"focused",null);i(this,"dragging",!1);this.title=typeof t=="string"?new v(t):t}initScreen(t,e,s){this.mc=t,this.width=e,this.height=s,this.container.removeChildren(),this.widgets=[],this.setFocused(null),this.init(),this.initialized=!0}resize(t,e,s){this.initScreen(t,e,s)}init(){}isDragging(){return this.dragging}setDragging(t){this.dragging=t}getFocused(){return this.focused}setFocused(t){this.focused=t}focusOn(t){this.setFocused(t)}hoveredElement(t,e){for(let s=0;s<this.widgets.length;s++)if(!!this.widgets[s].isMouseOver(t,e))return this.widgets[s]}changeFocus(t){let e=!1;const s=this.getFocused();if(e=s!==null,e&&s&&s.changeFocus(t))return!0;let n=this.widgets.indexOf(s),a=e&&n>=0?n+(t?1:0):t?0:this.widgets.length;if(a===this.widgets.length)return this.setFocused(null),!1;for(;a<this.widgets.length;){if(this.widgets[t?a:a-1<0?this.widgets.length-1:a-1].changeFocus(t))return this.setFocused(this.widgets[a]),!0;a=a+(t?1:-1),a<0&&(a=this.widgets.length-1),a>=this.widgets.length&&(a=0)}return this.setFocused(null),!1}mouseClicked(t,e,s){var n;for(let a=0;a<this.widgets.length;a++)if(!!this.widgets[a].mouseClicked(t,e,s))return this.setFocused(this.widgets[a]),s===0&&this.setDragging(!0),!0;return(n=this.getFocused())==null||n.changeFocus(!0),this.setFocused(null),!1}mouseReleased(t,e,s){var n,a;return this.setDragging(!1),(a=(n=this.hoveredElement(t,e))==null?void 0:n.mouseReleased(t,e,s))!=null?a:!1}mouseMoved(t,e){}mouseDragged(t,e,s,n,a){return this.getFocused()!==null&&this.isDragging()&&s===0?this.getFocused().mouseDragged(t,e,s,n,a):!1}setInitialFocus(t){this.setFocused(t)}mouseScroll(t,e,s){var n,a;return(a=(n=this.hoveredElement(t,e))==null?void 0:n.mouseScroll(t,e,s))!=null?a:!1}isMouseOver(t,e){return!1}keyPressed(t,e,s){if(e==="Escape"&&this.shouldCloseOnEsc())return this.onClose(),!0;if(e==="Tab"){let n=!y.hasShiftDown();return this.changeFocus(n)||this.changeFocus(n),!1}return this.getFocused()!==null&&this.getFocused().keyPressed(t,e,s)}keyReleased(t,e,s){return this.getFocused()!==null&&this.getFocused().keyReleased(t,e,s)}charTyped(t){return this.getFocused()!==null&&this.getFocused().charTyped(t)}tick(){}removed(){}update(t,e,s){if(!!this.initialized)for(let n=0;n<this.widgets.length;n++)this.widgets[n].update(t,e,s)}openURL(t){window.open(t,"_blank","noopener,noreferrer")}shouldCloseOnEsc(){return!0}onClose(){this.mc.setScreen(null)}addWidget(t){return this.widgets.push(t),t.init(),this.container.addChild(t.container),t}addGuiText(t){return this.container.addChild(t.container),t}addBackground(){var e;const t=(e=this.mc)==null?void 0:e.textures.background;if(t){const s=new kt(t,this.width,this.height);s.tileScale.set(2,2);const n=new ht;n.beginFill(0,.78),n.drawRect(0,0,this.width,this.height),n.endFill(),this.container.addChild(s,n)}}static hasControlDown(){return W.isKeyPressed("ControlLeft")||W.isKeyPressed("ControlRight")}static hasShiftDown(){return W.isKeyPressed("ShiftLeft")||W.isKeyPressed("ShiftRight")}static hasAltDown(){return W.isKeyPressed("AltLeft")||W.isKeyPressed("AltRight")}static isCut(t){return t==="KeyX"&&y.hasControlDown()&&!y.hasShiftDown()&&!y.hasAltDown()}static isPaste(t){return t==="KeyV"&&y.hasControlDown()&&!y.hasShiftDown()&&!y.hasAltDown()}static isCopy(t){return t==="KeyC"&&y.hasControlDown()&&!y.hasShiftDown()&&!y.hasAltDown()}static isSelectAll(t){return t==="KeyA"&&y.hasControlDown()&&!y.hasShiftDown()&&!y.hasAltDown()}}const B=class extends dt{constructor(t,e,s,n,a){super();i(this,"container");i(this,"initialized");i(this,"width");i(this,"height");i(this,"x");i(this,"y");i(this,"message");i(this,"_message_Gui");i(this,"hovered");i(this,"active",!0);i(this,"visible",!0);i(this,"focused",!1);i(this,"alpha",1);this.initialized=!1,this.container=new X,this.x=~~t,this.y=~~e,this.width=~~s,this.height=~~n,this.message=a,this.hovered=!1}init(){this.container.visible=this.visible,this.createLayout(),this.initialized=!0}createLayout(){const t=U.getInstance(),e=this.getUY(this.isHovered()),s=this.createSprite(t.textures[B.WIDGETS_TEXTURE.getFullPath()].baseTexture,0,0,0,46+e*20,this.width/2,20),n=this.createSprite(t.textures[B.WIDGETS_TEXTURE.getFullPath()].baseTexture,this.width/2,0,200-this.width/2,46+e*20,this.width/2,20);s.name="bgL",n.name="bgR",this._message_Gui=this.createCenteredText(this.message,this.width/2,(this.height-8)/2,this.active?B.activeColor:B.lockedColor),this.container.position.set(this.x,this.y),this.container.addChild(s,n,this._message_Gui.container)}updateLayout(t){var e;if(!!this.initialized)if(t)(e=this._message_Gui)==null||e.container.position.set(this.width/2-D.getWidth(this.getMessage())/2,(this.height-8)/2);else{const s=this.getUY(this.isHovered());this.container.getChildByName("bgL").texture.frame=new C(0,46+s*20,this.width/2,20),this.container.getChildByName("bgR").texture.frame=new C(200-this.width/2,46+s*20,this.width/2,20)}}updateGuiTexts(){this._message_Gui&&this._message_Gui.setText(this.message).setColor(this.active?B.activeColor:B.lockedColor)}update(t,e,s){this.initialized||this.init();const n=this.isOver(t,e);this.hovered&&!n?(this.hovered=!1,this.updateLayout()):n&&!this.hovered&&(this.hovered=!0,this.updateLayout())}tick(){}onClick(t,e){}onRelease(t,e){}onDrag(t,e,s,n){}mouseClicked(t,e,s){return!this.active||!this.visible?!1:this.isValidClickButton(s)&&this.isOver(t,e)?(this.onClick(t,e),!0):!1}mouseReleased(t,e,s){return this.isValidClickButton(s)?(this.onRelease(t,e),!0):!1}mouseDragged(t,e,s,n,a){return this.isValidClickButton(s)?(this.onDrag(t,e,n,a),!0):!1}mouseMoved(t,e){}mouseScroll(t,e,s){return!1}isMouseOver(t,e){return this.isOver(t,e)}keyPressed(t,e,s){return!1}keyReleased(t,e,s){return!1}charTyped(t){return!1}isOver(t,e){return this.active&&this.visible&&t>=this.x&&e>=this.y&&t<this.x+this.width&&e<this.y+this.height}isValidClickButton(t){return t===0}setMessage(t){var e;this.message=t,(e=this._message_Gui)==null||e.setText(t),this.updateLayout(!0)}getMessage(){return this.message}setWidth(t){this.width=t}getWidth(){return this.width}changeFocus(t){return!this.active||!this.visible?!1:(this.focused=!this.focused,this.onFocusedChanged(this.focused),this.updateLayout(),this.focused)}onFocusedChanged(t){}setActive(t){const e=this.active;this.active=t,e!==this.active&&(this.updateLayout(),this.updateGuiTexts())}setAlpha(t){this.alpha=t,this.container.alpha=t}isHovered(){return this.focused||this.hovered}getUY(t){return this.active?t?2:1:0}};let R=B;i(R,"WIDGETS_TEXTURE",new H("textures/gui/widgets.png")),i(R,"activeColor",16777215),i(R,"lockedColor",10526880);class Pt extends R{constructor(t,e,s,n,a){super(t,e,s,n,a)}onClick(t,e){this.onPress()}keyPressed(t,e,s){return!this.active||!this.visible?!1:e==="Enter"||e=="Space"?(this.onPress(),!0):!1}}class w extends Pt{constructor(t,e,s,n,a,r){super(t,e,s,n,typeof a=="string"?new v(a):a);i(this,"onPressFunc");this.onPressFunc=r}onPress(){this.onPressFunc(this)}}class Mt extends w{constructor(t,e,s,n,a,r,o,h,g,d){super(t,e,s,n,g,d);i(this,"texture");i(this,"u");i(this,"v");i(this,"hoveredVOffset");this.texture=h,this.u=a,this.v=r,this.hoveredVOffset=o}createLayout(){const t=U.getInstance(),e=this.createSprite(t.textures[this.texture.getFullPath()].baseTexture,0,0,this.u,this.v+(this.isHovered()?this.hoveredVOffset:0),this.width,this.height);e.name="bg",this.container.position.set(this.x,this.y),this.container.addChild(e)}updateLayout(){!this.initialized||(this.container.getChildByName("bg").texture.frame=new C(this.u,this.v+(this.isHovered()?this.hoveredVOffset:0),this.width,this.height))}}class $t extends y{constructor(t){super("Create New World");i(this,"prevScreen");this.prevScreen=t}init(){this.addBackground(),this.addGuiText(this.createCenteredText(this.title,this.width/2,20,16777215));const t=this.height/3+24;this.addWidget(new w(this.width/2-100,t,200,20,"Flat",()=>{})),this.addWidget(new w(this.width/2-100,t+24,200,20,"Void",()=>{})),this.addWidget(new w(this.width/2-100,t+48,200,20,"Default (In development)",()=>{})),this.addWidget(new w(this.width/2-100,t+96,200,20,"Cancel",()=>{this.mc.setScreen(this.prevScreen)}))}}const f=class{constructor(t,e,s,n,a){i(this,"name");i(this,"code");i(this,"modifier");i(this,"stringValue");i(this,"colorIndex");i(this,"colorValue");typeof s=="boolean"&&n===void 0?(this.name=t,this.code=e,this.modifier=s,this.colorIndex=-1,this.colorValue=null,this.stringValue="\xA7"+e):typeof s=="number"?(this.name=t,this.code=e,this.modifier=!1,this.colorIndex=s,this.colorValue=n,this.stringValue="\xA7"+e):(this.name=t,this.code=e,this.modifier=s,this.colorIndex=n,this.colorValue=a,this.stringValue="\xA7"+e)}getCode(){return this.code}getColorIndex(){return this.colorIndex}isModifier(){return this.modifier}isColor(){return!this.modifier&&this!==f.RESET}getColorValue(){return this.colorValue}};let p=f;i(p,"BLACK",new f("BLACK","0",0,0)),i(p,"DARK_BLUE",new f("DARK_BLUE","1",1,170)),i(p,"DARK_GREEN",new f("DARK_GREEN","2",2,43520)),i(p,"DARK_AQUA",new f("DARK_AQUA","3",3,43690)),i(p,"DARK_RED",new f("DARK_RED","4",4,11141120)),i(p,"DARK_PURPLE",new f("DARK_PURPLE","5",5,11141290)),i(p,"GOLD",new f("GOLD","6",6,16755200)),i(p,"GRAY",new f("GRAY","7",7,11184810)),i(p,"DARK_GRAY",new f("DARK_GRAY","8",8,5592405)),i(p,"BLUE",new f("BLUE","9",9,5592575)),i(p,"GREEN",new f("GREEN","a",10,5635925)),i(p,"AQUA",new f("AQUA","b",11,5636095)),i(p,"RED",new f("RED","c",12,16733525)),i(p,"LIGHT_PURPLE",new f("LIGHT_PURPLE","d",13,16733695)),i(p,"YELLOW",new f("YELLOW","e",14,16777045)),i(p,"WHITE",new f("WHITE","f",15,16777215)),i(p,"OBFUSCATED",new f("OBFUSCATED","k",!0)),i(p,"BOLD",new f("BOLD","l",!0)),i(p,"STRIKETHROUGH",new f("STRIKETHROUGH","m",!0)),i(p,"UNDERLINE",new f("UNDERLINE","n",!0)),i(p,"ITALIC",new f("ITALIC","o",!0)),i(p,"RESET",new f("RESET","r",-1,null));const st=class extends y{constructor(t){super();i(this,"endCredits");i(this,"baseSpeed");i(this,"speed");i(this,"spaceKeyPressed");i(this,"mKeyPressed");i(this,"pressedCtrlKeys");i(this,"credits");i(this,"centeredLines");i(this,"creditsHeight");i(this,"time");i(this,"bg");i(this,"bgOv");i(this,"vig");i(this,"guiTexts",[]);i(this,"guiTextCont",new X);this.time=0,this.endCredits=t,this.baseSpeed=t?.5:.75,this.speed=this.baseSpeed,this.spaceKeyPressed=!1,this.mKeyPressed=!1,this.creditsHeight=1/0,this.pressedCtrlKeys=new Set}getSpeed(){return this.spaceKeyPressed&&this.mKeyPressed?this.baseSpeed*(20+this.pressedCtrlKeys.size*15):this.spaceKeyPressed?this.baseSpeed*(5+this.pressedCtrlKeys.size*15):this.baseSpeed}init(){this.addBackground(),this.addVignette(),this.credits===void 0?(this.credits=[],this.centeredLines=new Set,this.load("texts/credits.json").then(t=>{var e,s;this.readCredits(t),this.creditsHeight=((s=(e=this.credits)==null?void 0:e.length)!=null?s:0)*12,this.createCreditTexts()})):(this.guiTexts=[],this.guiTextCont.removeChildren(),this.createCreditTexts()),this.container.addChild(this.guiTextCont)}createCreditTexts(){if(!this.credits)return;let t=this.width/2-137,s=this.height+50+100;for(let n=0;n<this.credits.length;n++){const a=this.createTextWithShadow(this.credits[n],t,s,16777215);this.guiTexts.push(a),this.guiTextCont.addChild(a.container),s+=12}}update(t,e,s){var a;this.time+=s*this.speed;const n=-this.time;super.update(t,e,s);for(let r=0;r<this.guiTexts.length;r++)this.guiTexts[r].container.y<-20||this.guiTexts[r].container.y>this.height+30?(this.guiTexts[r].container.visible=!1,this.guiTexts[r].container.renderable=!1):(this.guiTexts[r].container.renderable=!0,this.guiTexts[r].container.visible=!0),this.guiTexts[r].container.y=this.guiTexts[r].y+n;(a=this.bg)==null||a.tilePosition.set(0,n)}async load(t){return await(await fetch(t)).text()}readCredits(t){const e=JSON.parse(t);for(const s of e){this.addText(st.SEPARATOR_LINE,!0),this.addText(new T(s.section).formatted(p.YELLOW),!0),this.addText(st.SEPARATOR_LINE,!0),this.addEmptyLine(),this.addEmptyLine();for(const n of s.titles){this.addText(new T(n.title).formatted(p.GRAY));for(const a of n.names)this.addText(new T(st.CENTERED_LINE_PREFIX+a).formatted(p.WHITE));this.addEmptyLine(),this.addEmptyLine()}}}addText(t,e){var s,n,a,r;e&&((a=this.centeredLines)==null||a.add((n=(s=this.credits)==null?void 0:s.length)!=null?n:0)),(r=this.credits)==null||r.push(typeof t=="string"?new v(t):t)}addEmptyLine(){var t;(t=this.credits)==null||t.push(new v(""))}keyPressed(t,e,s){return e==="ControlLeft"||e==="ControlRight"?this.pressedCtrlKeys.add(e):e==="Space"?this.spaceKeyPressed=!0:e==="KeyM"&&(this.mKeyPressed=!0),this.speed=this.getSpeed(),super.keyPressed(t,e,s)}keyReleased(t,e,s){return e==="Space"?this.spaceKeyPressed=!1:e==="ControlLeft"||e==="ControlRight"?this.pressedCtrlKeys.delete(e):e==="KeyM"&&(this.mKeyPressed=!1),this.speed=this.getSpeed(),super.keyReleased(t,e,s)}addBackground(){var e;const t=(e=this.mc)==null?void 0:e.textures.background;t&&(this.bg=new kt(t,this.width,this.height),this.bg.tileScale.set(3,3),this.bgOv=new ht,this.bgOv.beginFill(0,.82),this.bgOv.drawRect(0,0,this.width,this.height),this.bgOv.endFill(),this.container.addChild(this.bg,this.bgOv))}addVignette(){var e;const t=(e=this.mc)==null?void 0:e.textures.vignette;if(t){this.container.sortableChildren=!0,this.vig=new Kt(t,128,128,128,128),this.vig.width=this.width,this.vig.height=this.height;const s=new Xt.ColorMatrixFilter;s.negative(!0),s.blendMode=2,this.vig.zIndex=10,this.vig.filters=[s],this.container.addChild(this.vig)}}tick(){let t=this.creditsHeight+this.height+this.height+24;this.time>t&&this.mc.setScreen(null)}};let ct=st;i(ct,"SEPARATOR_LINE",new T("============").formatted(p.WHITE)),i(ct,"CENTERED_LINE_PREFIX","           ");const ft=class{static onOrOff(t){return t?ft.ON:ft.OFF}static composeToggleText(t,e){return new v("").append(t).append(": ").append(this.onOrOff(e))}static composeGenericOptionText(t,e){return new u("options.generic_value",t,e)}};let m=ft;i(m,"ON",new u("gui.oN")),i(m,"OFF",new u("gui.oFF")),i(m,"DONE",new u("gui.done")),i(m,"CANCEL",new u("gui.cancel")),i(m,"YES",new u("gui.yes")),i(m,"NO",new u("gui.no")),i(m,"PROCEED",new u("gui.proceed")),i(m,"BACK",new u("gui.back"));class K{static of(t,e,s){if(e&&s){const n=[...e],a=[...s];return new class extends K{getCurrent(){return t()?a:n}getDefaults(){return n}}}else{const n=[...t];return new class extends K{getCurrent(){return n}getDefaults(){return n}}}}}class St{constructor(t){i(this,"initialIndex");i(this,"value");i(this,"valueToText");i(this,"_values",K.of([]));i(this,"optionTextOmitted");this.valueToText=t,this.value=null,this.initialIndex=0,this.optionTextOmitted=!1}values(t,e,s){return s?this._values=K.of(t,e,s):e?this._values=K.of(()=>!1,t,e):this._values=K.of(t),this}initially(t){this.value=t;const e=this._values.getDefaults().indexOf(t);return e!=-1&&(this.initialIndex=e),this}omitKeyText(){return this.optionTextOmitted=!0,this}build(t,e,s,n,a,r=(o,h)=>{}){const o=this._values.getDefaults(),h=this.value!=null?this.value:o[this.initialIndex],g=this.valueToText(h),d=this.optionTextOmitted?g:m.composeGenericOptionText(a,g);return new rt(t,e,s,n,d,a,this.initialIndex,h,this._values,this.valueToText,r,this.optionTextOmitted)}}const it=class extends Pt{constructor(t,e,s,n,a,r,o,h,g,d,S,L){super(t,e,s,n,a);i(this,"optionText");i(this,"index");i(this,"value");i(this,"values");i(this,"valueToText");i(this,"onValueChangeCallback");i(this,"optionTextOmitted");this.optionText=r,this.index=o,this.value=h,this.values=g,this.valueToText=d,this.onValueChangeCallback=S,this.optionTextOmitted=L}onPress(){this.cycle(1)}cycle(t){const e=this.values.getCurrent();this.index=Math.floor((this.index+t)%e.length);const s=e[this.index];this.internalSetValue(s),this.onValueChangeCallback(this,s)}getValue(t){if(t!==void 0){const e=this.values.getCurrent();return e[Math.floor((this.index+t)%e.length)]}else return this.value}internalSetValue(t){const e=this.composeText(t);this.setMessage(e),this.value=t}composeText(t){return this.optionTextOmitted?this.valueToText(t):this.composeGenericOptionText(t)}composeGenericOptionText(t){return m.composeGenericOptionText(this.optionText,this.valueToText(t))}static builder(t){return new St(t)}static onOffBuilder(t,e){return t&&e?new St(s=>s!==!1?t:e).values(it.BOOLEAN_VALUES):typeof t=="boolean"?it.onOffBuilder().initially(t):new St(s=>s!==!1?m.ON:m.OFF).values(it.BOOLEAN_VALUES)}};let rt=it;i(rt,"BOOLEAN_VALUES",[!0,!1]);class Ut{constructor(t){i(this,"key");this.key=new u(t)}getDisplayPrefix(){return this.key}getPixelLabel(t){return new u("options.pixel_value",this.getDisplayPrefix(),t)}getPercentLabel(t){return new u("options.percent_value",this.getDisplayPrefix(),~~(t*100))}getPercentAdditionLabel(t){return new u("options.percent_add_value",this.getDisplayPrefix(),t)}getGenericLabel(t){return typeof t=="number"&&this.getGenericLabel(new T(t.toString())),new u("options.generic_value",this.getDisplayPrefix(),t)}}class x extends Ut{constructor(t,e,s,n){super(t);i(this,"getter");i(this,"setter");i(this,"buttonBuilderFactory");this.getter=e,this.setter=s,this.buttonBuilderFactory=n}static createFromEnum(t,e,s,n,a){return new x(t,n,a,()=>rt.builder(s).values(e))}static create(t,e,s){return new x(t,e,s,rt.onOffBuilder)}createButton(t,e,s,n){return this.buttonBuilderFactory().initially(this.getter(t)).build(e,s,n,20,this.getDisplayPrefix(),(a,r)=>{this.setter(t,this,r),t.save()})}}class Qt extends R{constructor(t,e,s,n,a,r){super(t,e,s,n,typeof a=="string"?new v(a):a);i(this,"value");this.value=r}createLayout(){const t=U.getInstance(),e=this.getUY(this.isHovered()),s=this.createSprite(t.textures[R.WIDGETS_TEXTURE.getFullPath()].baseTexture,0,0,0,46+0*20,this.width/2,20),n=this.createSprite(t.textures[R.WIDGETS_TEXTURE.getFullPath()].baseTexture,this.width/2,0,200-this.width/2,46+0*20,this.width/2,20);s.name="bgL",n.name="bgR";const a=this.createSprite(t.textures[R.WIDGETS_TEXTURE.getFullPath()].baseTexture,~~(this.value*(this.width-8)),0,0,46+e*20,4,20),r=this.createSprite(t.textures[R.WIDGETS_TEXTURE.getFullPath()].baseTexture,~~(this.value*(this.width-8))+4,0,200-4,46+e*20,4,20);a.name="TbgL",r.name="TbgR",this._message_Gui=this.createCenteredText(this.message,this.width/2,(this.height-8)/2,this.active?R.activeColor:R.lockedColor),this.container.position.set(this.x,this.y),this.container.addChild(s,n,a,r,this._message_Gui.container)}updateLayout(t){var e;if(!!this.initialized)if(t)(e=this._message_Gui)==null||e.container.position.set(this.width/2-D.getWidth(this.getMessage())/2,(this.height-8)/2);else{const s=this.getUY(this.isHovered());this.container.getChildByName("bgL").texture.frame=new C(0,46+0*20,this.width/2,20),this.container.getChildByName("bgR").texture.frame=new C(200-this.width/2,46+0*20,this.width/2,20),this.container.getChildByName("TbgL").texture.frame=new C(0,46+s*20,4,20),this.container.getChildByName("TbgR").texture.frame=new C(200-4,46+s*20,4,20),this.container.getChildByName("TbgL").position.set(~~(this.value*(this.width-8)),0),this.container.getChildByName("TbgR").position.set(~~(this.value*(this.width-8))+4,0)}}onClick(t,e){this.setValueFromMouse(t)}keyPressed(t,e,s){const n=e==="ArrowLeft";if(n||e==="ArrowRight"){const a=n?-1:1;this.setValue(this.value+a/(this.width-8))}return!1}onDrag(t,e,s,n){this.setValueFromMouse(t),super.onDrag(t,e,s,n)}setValueFromMouse(t){this.setValue((t-(this.x+4))/(this.width-8))}setValue(t){const e=this.value;this.value=Math.min(1,Math.max(t,0)),e!==this.value&&this.applyValue(),this.updateMessage(),this.updateLayout()}}class Wt extends Qt{constructor(t,e,s,n,a,r){super(e,s,n,a,new T(""),r);i(this,"options");this.options=t}}class Zt extends Wt{constructor(t,e,s,n,a,r){super(t,e,s,n,a,r.getRatio(r.get(t)));i(this,"option");this.option=r,this.updateMessage()}applyValue(){this.option.set(this.options,this.option.getValue(this.value)),this.options.save()}updateMessage(){this.setMessage(this.option.getDisplayString(this.options))}}const te=(l,t,e)=>t+l*(e-t);class Z extends Ut{constructor(t,e,s,n,a,r,o){super(t);i(this,"step");i(this,"min");i(this,"max");i(this,"getter");i(this,"setter");i(this,"displayStringGetter");this.min=e,this.max=s,this.step=n,this.getter=a,this.setter=r,this.displayStringGetter=o}createButton(t,e,s,n){return new Zt(t,e,s,n,20,this)}getRatio(t){return Math.min(1,Math.max(0,(this.adjust(t)-this.min)/(this.max-this.min)))}getValue(t){return this.adjust(te(Math.min(Math.max(t,0),1),this.min,this.max))}adjust(t){return this.step>0&&(t=this.step*Math.round(t/this.step)),Math.min(this.max,Math.max(t,this.min))}getMin(){return this.min}getMax(){return this.max}setMax(t){this.max=t}set(t,e){this.setter(t,e)}get(t){return this.getter(t)}getDisplayString(t){return this.displayStringGetter(t,this)}}class c{}i(c,"HUD_HIDDEN",x.create("Hide HUD",t=>t.hudHidden,(t,e,s)=>{t.hudHidden=s})),i(c,"MONOCHROME_LOGO",x.create("Monochrome Logo",t=>t.monochromeLogo,(t,e,s)=>{t.monochromeLogo=s})),i(c,"HIDE_LIGHTNING_FLASHES",x.create("Hide Lightning Flashes",t=>t.hideLightningFlashes,(t,e,s)=>{t.hideLightningFlashes=s})),i(c,"RAW_MOUSE_INPUT",x.create("Raw Mouse Input",t=>t.rawMouseInput,(t,e,s)=>{t.rawMouseInput=s})),i(c,"AUTO_JUMP",x.create("Auto-Jump",t=>t.autoJump,(t,e,s)=>{t.autoJump=s})),i(c,"AUTO_SUGGESTIONS",x.create("Auto Suggest Commands",t=>t.autoSuggestions,(t,e,s)=>{t.autoSuggestions=s})),i(c,"CHAT_COLOR",x.create("Chat Color",t=>t.chatColors,(t,e,s)=>{t.chatColors=s})),i(c,"HIDE_MATCHED_NAMES",x.create("Hide Matched Names",t=>t.hideMatchedNames,(t,e,s)=>{t.hideMatchedNames=s})),i(c,"CHAT_LINKS",x.create("Chat Links",t=>t.chatLinks,(t,e,s)=>{t.chatLinks=s})),i(c,"CHAT_LINKS_PROMPT",x.create("Chat Links Prompt",t=>t.chatLinksPrompt,(t,e,s)=>{t.chatLinksPrompt=s})),i(c,"DISCRETE_MOUSE_SCROLL",x.create("Discrete Mouse Scroll",t=>t.discreteMouseScroll,(t,e,s)=>{t.discreteMouseScroll=s})),i(c,"VSYNC",x.create("Vsync",t=>t.enableVsync,(t,e,s)=>{t.enableVsync=s})),i(c,"ENTITY_SHADOWS",x.create("Entity Shadows",t=>t.entityShadows,(t,e,s)=>{t.entityShadows=s})),i(c,"FORCE_UNICODE_FONT",x.create("Force Unicode Font",t=>t.forceUnicodeFont,(t,e,s)=>{t.forceUnicodeFont=s})),i(c,"INVERT_MOUSE",x.create("Invert Mouse",t=>t.invertYMouse,(t,e,s)=>{t.invertYMouse=s})),i(c,"REALMS_NOTIFICATIONS",x.create("Realms Notifications",t=>t.realmsNotifications,(t,e,s)=>{t.realmsNotifications=s})),i(c,"ALLOW_SERVER_LISTING",x.create("Allow Server Listing",t=>t.allowServerListing,(t,e,s)=>{t.allowServerListing=s})),i(c,"REDUCED_DEBUG_INFO",x.create("Reduced Debug Info",t=>t.reducedDebugInfo,(t,e,s)=>{t.reducedDebugInfo=s})),i(c,"SUBTITLES",x.create("Show Subtitles",t=>t.showSubtitles,(t,e,s)=>{t.showSubtitles=s})),i(c,"CLOUDS",x.createFromEnum("Clouds",k.values(),t=>new u(t.getTranslationKey()),t=>t.cloudRenderMode,(t,e,s)=>{t.cloudRenderMode=s})),i(c,"SENSITIVITY",new Z("Sensitivity",0,1,0,t=>t.mouseSensitivity,(t,e)=>{t.mouseSensitivity=e},(t,e)=>{const s=e.getRatio(e.get(t));return s==0?e.getGenericLabel(new u("Min")):s==1?e.getGenericLabel(new u("Max")):e.getPercentLabel(2*s)})),i(c,"CHAT_HEIGHT_FOCUSED",new Z("options.chat.height.focused",0,1,0,t=>t.chatHeightFocused,(t,e)=>{t.chatHeightFocused=e},(t,e)=>{const s=e.getRatio(e.get(t));return e.getPixelLabel(Math.floor(s*160+20))})),i(c,"CHAT_HEIGHT",new Z("options.chat.height.unfocused",0,1,0,t=>t.chatHeightUnfocused,(t,e)=>{t.chatHeightUnfocused=e},(t,e)=>{const s=e.getRatio(e.get(t));return e.getPixelLabel(Math.floor(s*160+20))})),i(c,"CHAT_OPACITY",new Z("options.chat.opacity",0,1,0,t=>t.chatOpacity,(t,e)=>{t.chatOpacity=e},(t,e)=>{const s=e.getRatio(e.get(t));return e.getPercentLabel(s*.9+.1)})),i(c,"CHAT_SCALE",new Z("options.chat.scale",0,1,0,t=>t.chatScale,(t,e)=>{t.chatScale=e},(t,e)=>{const s=e.getRatio(e.get(t));return s===0?m.composeToggleText(e.getDisplayPrefix(),!1):e.getPercentLabel(s)}));class G extends y{constructor(t,e){super(e);i(this,"prevScreen");this.prevScreen=t}init(){this.addBackground()}onClose(){var t;(t=this.mc)==null||t.setScreen(this.prevScreen)}}const nt=class extends G{constructor(t){super(t,new T("Accessibility Settings"));i(this,"_title_Gui")}init(){super.init();for(let t=0;t<nt.OPTIONS.length;t++)this.addWidget(nt.OPTIONS[t].createButton(this.mc.gameOptions,this.width/2-155+160*(t%2),42+~~(t/2)*24,150));this.addWidget(new w(this.width/2-155,this.height-27,150,20,new T("Accessibility Guide"),()=>{this.openURL(nt.GUIDE_URL)})).setActive(!0),this.addWidget(new w(this.width/2+5,this.height-27,150,20,m.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}};let tt=nt;i(tt,"GUIDE_URL","https://aka.ms/MinecraftJavaAccessibility"),i(tt,"OPTIONS",[c.AUTO_SUGGESTIONS,c.CHAT_COLOR,c.CHAT_LINKS,c.CHAT_LINKS_PROMPT,c.HIDE_LIGHTNING_FLASHES,c.HIDE_MATCHED_NAMES,c.SUBTITLES,c.MONOCHROME_LOGO,c.CHAT_HEIGHT,c.CHAT_HEIGHT_FOCUSED,c.CHAT_OPACITY,c.CHAT_SCALE]);class ee extends G{constructor(t){super(t,new T("Chat Settings"));i(this,"_title_Gui")}init(){super.init(),this.addWidget(new w(this.width/2-100,this.height-27,200,20,m.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}}class se extends G{constructor(t){super(t,new T("Controls"));i(this,"_title_Gui")}init(){super.init(),this.addWidget(new w(this.width/2-100,this.height-29,200,20,m.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,15,16777215),this.container.addChild(this._title_Gui.container)}}class ie extends G{constructor(t){super(t,new T("Language..."));i(this,"_title_Gui");i(this,"lang")}init(){super.init(),this.lang=this.mc.languageManager.getLanguage();const t=Array.from(this.mc.languageManager.getAllLanguages().values());let e=4*72+3*4,s=this.width/2-e/2,n=40;for(let a=0;a<t.length;a++)this.addWidget(new w(s+76*(a%4),n+~~(a/4)*24,72,20,new T(t[a].getCode()),()=>{this.lang=t[a]}));this.addWidget(c.FORCE_UNICODE_FONT.createButton(this.mc.gameOptions,this.width/2-155,this.height-38,150)),this.addWidget(new w(this.width/2-155+160,this.height-38,150,20,m.DONE,()=>{var a;((a=this.lang)==null?void 0:a.getCode())!==this.mc.languageManager.getLanguage().getCode()&&(this.mc.languageManager.setLanguage(this.lang),this.mc.gameOptions.language=this.lang.getCode(),this.mc.reloadResources(),this.mc.gameOptions.save()),setTimeout(()=>this.mc.setScreen(this.prevScreen),0)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,16,16777215),this.container.addChild(this._title_Gui.container)}}class ne extends G{constructor(t){super(t,new T("Chat Settings"));i(this,"_title_Gui")}init(){super.init(),this.addWidget(new w(this.width/2-100,this.height-27,200,20,m.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}}class ae extends G{constructor(t){super(t,new T("Skin Customization"));i(this,"_title_Gui")}init(){super.init(),this.addWidget(new w(this.width/2-100,this.height/6,200,20,m.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}}class Ft extends Wt{constructor(t,e,s,n,a){super(t.gameOptions,e,s,a,20,t.gameOptions.getSoundVolume(n));i(this,"category");this.category=n,this.updateMessage()}updateMessage(){const t=this.value===this.getUY(!1)?m.OFF:new T(~~(this.value*100)+"%");this.setMessage(new u("soundCategory."+this.category.getName()).append(": ").append(t))}applyValue(){this.options.setSoundVolume(this.category,this.value),this.options.save()}}class re extends G{constructor(t){super(t,new T("Music and Sound Settings"));i(this,"_title_Gui")}init(){super.init();let t=this.height/6-12,e=0;this.addWidget(new Ft(this.mc,this.width/2-155+e%2*160,t+22*(e>>1),E.MASTER,310)),e+=2;for(const s of E.values())s!=E.MASTER&&(this.addWidget(new Ft(this.mc,this.width/2-155+e%2*160,t+22*(e>>1),s,150)),++e);e%2==1&&++e,this.addWidget(new w(this.width/2-100,t+22*((e+=2)>>1),200,20,m.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,15,16777215),this.container.addChild(this._title_Gui.container)}}const mt=class extends G{constructor(t){super(t,new T("Video Settings"));i(this,"_title_Gui")}init(){super.init();for(let t=0;t<mt.OPTIONS.length;t++)this.addWidget(mt.OPTIONS[t].createButton(this.mc.gameOptions,this.width/2-155+160*(t%2),42+~~(t/2)*24,150));this.addWidget(new w(this.width/2-100,this.height-27,200,20,m.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,5,16777215),this.container.addChild(this._title_Gui.container)}};let vt=mt;i(vt,"OPTIONS",[c.CLOUDS,c.VSYNC,c.ENTITY_SHADOWS]);class he extends y{constructor(t){super(new u("options.title"));i(this,"prevScreen");this.prevScreen=t}init(){super.init(),this.addBackground();const t=this.width/2-155,e=this.height/6+48-6;this.addWidget(c.HUD_HIDDEN.createButton(this.mc.gameOptions,t,this.height/6-12,150)),this.addWidget(c.SENSITIVITY.createButton(this.mc.gameOptions,t,this.height/6-12+24,150)),this.addWidget(new w(t+160,this.height/6-12,150,20,new u("options.online"),()=>{this.mc.setScreen(new ne(this))})),this.addWidget(new w(t,e,150,20,new u("options.skinCustomisation"),()=>{this.mc.setScreen(new ae(this))})),this.addWidget(new w(t+160,e,150,20,new u("options.sounds"),()=>{this.mc.setScreen(new re(this))})),this.addWidget(new w(t,e+24,150,20,new u("options.video"),()=>{this.mc.setScreen(new vt(this))})),this.addWidget(new w(t+160,e+24,150,20,new u("options.controls"),()=>{this.mc.setScreen(new se(this))})),this.addWidget(new w(t,e+48,150,20,new u("options.language"),()=>{this.mc.setScreen(new ie(this))})),this.addWidget(new w(t+160,e+48,150,20,new u("options.chat.title"),()=>{this.mc.setScreen(new ee(this))})),this.addWidget(new w(t,e+72,150,20,new u("options.resourcepack"),()=>{})).setActive(!1),this.addWidget(new w(t+160,e+72,150,20,new u("options.accessibility.title"),()=>{this.mc.setScreen(new tt(this))})),this.addWidget(new w(t+55,e+72+48+6,200,20,m.DONE,()=>{this.mc.setScreen(this.prevScreen)}))}}function Nt(l,t,e){let s=[];return s.push(...e(l-1,t).map(n=>(n.tint=0,n))),s.push(...e(l+1,t).map(n=>(n.tint=0,n))),s.push(...e(l,t-1).map(n=>(n.tint=0,n))),s.push(...e(l,t+1).map(n=>(n.tint=0,n))),s.push(...e(l,t)),s}const at=class extends y{constructor(t){super();i(this,"doBackgroundFade");i(this,"isMinceraft");i(this,"splashText");i(this,"copyrightTextWidth");i(this,"copyrightTextX");i(this,"copyUnderline");i(this,"splashTextScale");i(this,"_splash");i(this,"fpsGuiText");this.splashText="",this.splashTextScale=1,this.doBackgroundFade=t,this.isMinceraft=Math.random()<1e-4,this.copyrightTextWidth=0,this.copyrightTextX=0}init(){var h;this.addBackground(),this.splashText===""&&(this.splashText=this.mc.getSplashTextLoader().get()),this.copyrightTextWidth=D.getWidth(at.COPYRIGHT),this.copyrightTextX=this.width-this.copyrightTextWidth-2;const t=this.width/2-100,e=this.height/4+48,s=this.width/2-137,n=30,a=this.mc.textures["minecraft:textures/gui/title/minecraft.png"].baseTexture,r=new F(new N(this.mc.textures["minecraft:textures/gui/title/edition.png"].baseTexture,new C(0,0,98,14)));r.position.set(s+88,67),this.isMinceraft?this.container.addChild(...Nt(s,n,(g,d)=>{const S=new F(new N(a,new C(0,0,99,44))),L=new F(new N(a,new C(129,0,27,44))),b=new F(new N(a,new C(126,0,3,44))),P=new F(new N(a,new C(99,0,26,44))),I=new F(new N(a,new C(0,45,155,44)));return S.position.set(g,d),L.position.set(g+99,d),b.position.set(g+99+26,d),P.position.set(g+99+26+3,d),I.position.set(g+155,d),[S,L,b,P,I]})):this.container.addChild(...Nt(s,n,(g,d)=>{const S=new F(new N(a,new C(0,0,155,44))),L=new F(new N(a,new C(0,45,155,44)));return S.position.set(g,d),L.position.set(g+155,d),[S,L]})),this.container.addChild(r),this.addWidget(new w(t,e,200,20,new T("Single").append(new v("player").formatted(p.BLUE)).formatted(p.YELLOW),()=>{this.mc.setScreen(new $t(this))})),this.addWidget(new w(t,e+24,200,20,new u("menu.multiplayer"),()=>{})).setActive(!1),this.addWidget(new w(t,e+48,200,20,new u("menu.online"),()=>{})).setActive(!1),this.addWidget(new Mt(t-24,e+72+12,20,20,0,106,20,R.WIDGETS_TEXTURE,new T(""),()=>{this.mc.gameOptions.guiScale===1?(this.mc.updateGuiScale(2),this.mc.gameOptions.save()):this.mc.gameOptions.guiScale===2?(this.mc.updateGuiScale(3),this.mc.gameOptions.save()):this.mc.gameOptions.guiScale===3?(this.mc.updateGuiScale(4),this.mc.gameOptions.save()):(this.mc.updateGuiScale(1),this.mc.gameOptions.save())})),this.addWidget(new w(t,e+72+12,98,20,new u("menu.options"),()=>{this.mc.setScreen(new he(this))})),this.addWidget(new w(t+102,e+72+12,98,20,new u("menu.quit"),()=>{})).setActive(!1),this.addWidget(new Mt(t+204,e+72+12,20,20,0,0,20,at.ACCESSIBILITY_ICON_TEXTURE,new T(""),()=>{this.mc.setScreen(new tt(this))})),this.addGuiText(this.createTextWithShadow(new T("Made by KM. Not official if somehow you couldn't figure that out on your own.").formatted(p.DARK_GRAY),2,2,16777215)),this.addGuiText(this.createStringWithShadow("Minecraft Web v0.0.1-a",2,this.height-10,16777215)),this.addGuiText(this.createStringWithShadow(at.COPYRIGHT,this.copyrightTextX,this.height-10,16777215)),this.copyUnderline=new ht,this.copyUnderline.beginFill(16777215),this.copyUnderline.drawRect(0,0,this.copyrightTextWidth,1),this.copyUnderline.endFill(),this.copyUnderline.position.set(this.copyrightTextX,this.height-1),this.copyUnderline.visible=!1,this.container.addChild(this.copyUnderline);const o=1.8-Math.abs(Math.sin(Date.now()%1e3/1e3*6.2831855)*.1);this.splashTextScale=o*100/(D.getWidth(this.splashText)*1.15+32),this._splash=this.addGuiText(this.createStringWithShadow((h=this.splashText)!=null?h:"",this.width/2+90,62,16776960)),this._splash.container.pivot.x=this._splash.container.width/2,this._splash.container.pivot.y=this._splash.container.height/2,this._splash.container.rotation=-20*Math.PI/180,this._splash.container.scale.set(this.splashTextScale,this.splashTextScale),this.fpsGuiText=this.addGuiText(this.createStringWithShadow(this.mc.currFps+" FPS",2,12,16777215))}mouseClicked(t,e,s){return super.mouseClicked(t,e,s)?!0:t>this.copyrightTextX&&t<this.copyrightTextX+this.copyrightTextWidth&&e>this.height-10&&e<this.height?(this.mc.setScreen(new ct(!1)),!0):!1}update(t,e,s){super.update(t,e,s);const n=1.8-Math.abs(Math.sin(Date.now()%1e3/1e3*6.2831855)*.1);this.splashTextScale=n*100/(D.getWidth(this.splashText)*1.15+32),this._splash&&this._splash.container.scale.set(this.splashTextScale,this.splashTextScale),this.copyUnderline&&(this.copyUnderline.visible=t>this.copyrightTextX&&t<this.copyrightTextX+this.copyrightTextWidth&&e>this.height-10&&e<this.height)}tick(){var t;super.tick(),(t=this.fpsGuiText)==null||t.setText(this.mc.currFps+" FPS")}shouldCloseOnEsc(){return!1}};let lt=at;i(lt,"ACCESSIBILITY_ICON_TEXTURE",new H("textures/gui/accessibility.png")),i(lt,"COPYRIGHT","Copyright Mojang AB. Do not distribute!");const oe=new U(()=>new lt,[]);oe.run();
