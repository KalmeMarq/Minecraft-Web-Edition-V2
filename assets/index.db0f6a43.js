var ce=Object.defineProperty;var le=(d,t,e)=>t in d?ce(d,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[t]=e;var s=(d,t,e)=>(le(d,typeof t!="symbol"?t+"":t,e),e);import{C as st,G as ut,T as O,R as y,A as ue,W as de,S as ge,P as pe,L as me,s as Zt,a as we,B as fe,b as I,c as ae,N as Te,f as Se,d as Le,e as dt,M as gt,D as pt,g as xe}from"./vendor.fcd499c8.js";const ye=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}};ye();const ft=class{static create(){const t=new Map;return new class extends ft{constructor(){super(...arguments);s(this,"map",t)}get(e){var i;return(i=this.map.get(e))!=null?i:e}hasTranslation(e){return this.map.has(e)}isRightToLeft(){return!1}}}static getInstance(){return ft.instance}static setInstance(t){ft.instance=t}};let St=ft;s(St,"DEFAULT_LANGUAGE","en_us"),s(St,"instance",ft.create());class Jt{constructor(t,e){s(this,"rgb");s(this,"name");this.rgb=t,this.name=e!=null?e:null}getRgb(){return this.rgb}getName(){return this.name!==null?this.name:this.getHexCode()}getHexCode(){return`#${(this.rgb>>16&255).toString(16)}${(this.rgb>>8&255).toString(16)}${(this.rgb&255).toString(16)}`}static fromRgb(t){return new Jt(t)}}const ht=class{constructor(t,e){s(this,"color");s(this,"font");this.color=t,this.font=e}getColor(){return this.color}isEmpty(){return this==ht.EMPTY}getFont(){return this.font!==null?this.font:kt.DEFAULT}withColor(t){return typeof t=="number"?new ht(Jt.fromRgb(t),this.font):new ht(t,this.font)}withFont(t){return new ht(this.color,t)}};let Gt=ht;s(Gt,"EMPTY",new ht(null,null));class x{constructor(t){s(this,"siblings",[]);s(this,"text");s(this,"style",Gt.EMPTY);this.text=t}asString(){let t=this.text;return this.siblings.forEach(e=>{t=e.asString()}),t}append(t){return this.siblings.push(typeof t=="string"?new x(t):t),this}formatted(t){return t.getColorValue()&&(this.style=this.style.withColor(t.getColorValue())),this}}class D extends x{}const Et=class extends x{constructor(t,...e){super(t);s(this,"translations",[]);s(this,"languageCache");s(this,"key");s(this,"args");this.key=t,this.args=e}updateTranslations(){const t=St.getInstance();if(t===this.languageCache)return;this.languageCache=t;const e=t.get(this.key);let i=[];this.forEachPart(e,n=>{i.push(n),n instanceof Et&&n.updateTranslations()}),this.siblings.forEach(n=>{n instanceof Et&&n.updateTranslations()}),this.translations=i}forEachPart(t,e){const i=t.split(/%s/g);for(let n=0;n<i.length;n++)i[n]!==""&&e(new D(i[n].replace(/%%/g,"%"))),i[n+1]!==void 0&&e(this.getArg(n))}getArg(t){if(t>=this.args.length)throw new Error("No more args man. sry...");const e=this.args[t];return e instanceof x?e:e===null?Et.NULL_ARGUMENT:new D(e.toString())}getTranslation(){return this.updateTranslations(),this.translations}};let o=Et;s(o,"NULL_ARGUMENT",new D("null"));class te{constructor(t){s(this,"reloaderCount");s(this,"reloadedCount");s(this,"waitingReloaders");this.reloaderCount=t.length,this.reloadedCount=0,this.waitingReloaders=new Set(t),(i=>i.reduce((n,a)=>n.then(()=>(this.waitingReloaders.delete(a),this.reloadedCount++,a.reload())),Promise.resolve()))(t)}getProgress(){return this.reloadedCount/this.reloaderCount}isComplete(){return this.getProgress()===1}}class M{static getAlpha(t){return t>>>24}static getRed(t){return t>>16&255}static getGreen(t){return t>>8&255}static getBlue(t){return t&255}static getArgb(t,e,i,n){return t<<24|e<<16|i<<8|n}static getRgb(t,e,i){return t<<16|e<<8|i}static mixColor(t,e){return M.getArgb(M.getAlpha(t)*M.getAlpha(e)/255,M.getRed(t)*M.getRed(e)/255,M.getGreen(t)*M.getGreen(e)/255,M.getBlue(t)*M.getBlue(e)/255)}}class Ee{constructor(){s(this,"container");this.container=new ut}init(){}drawBar(t){this.container.clear(),this.container.beginFill(16777215),this.container.drawRect(0,0,200,1),this.container.drawRect(0,1,1,12),this.container.drawRect(0,13,200,1),this.container.drawRect(199,1,1,12),this.container.drawRect(2,2,196*t,10),this.container.endFill()}setProgress(t){this.drawBar(t)}}const Tt=class{constructor(t,e){s(this,"container");s(this,"mc");s(this,"reload");s(this,"bar");s(this,"completeAfterTimer");s(this,"progress");s(this,"isFading");s(this,"showingLogg",!1);s(this,"logo");s(this,"bg");s(this,"oldW");s(this,"oldH");this.container=new st,this.mc=t,this.reload=e,this.bar=new Ee,this.completeAfterTimer=-1,this.progress=0,this.oldW=0,this.oldH=0,this.isFading=!1,this.container.sortableChildren=!0}init(){const t=window.innerWidth/3,e=window.innerHeight/3;this.oldW=t,this.oldH=e;const i=new ut;i.beginFill(this.mc.gameOptions.monochromeLogo?Tt.MONOCHROME_BLACK:Tt.MOJANG_RED),i.drawRect(0,0,t,e),i.endFill(),this.bg=i,this.container.addChild(i);let n=this.reload.getProgress();this.progress=this.progress*.95+n*.050000012,this.bar.setProgress(this.progress),this.bar.container.zIndex=10,this.bar.container.position.set(t/2-100,e/1.5-7),this.container.addChild(this.bar.container)}update(t){var n,a,h,l,u,c;const e=this.mc.getScaledWidth(),i=this.mc.getScaledHeight();if(!this.showingLogg&&this.mc.textures["minecraft:textures/gui/title/mojangstudios.png"]){const g=this.mc.textures["minecraft:textures/gui/title/mojangstudios.png"],T=Mt.createSprite(g.baseTexture,0,0,0,0,512,256);T.width=128,T.height=64;const v=Mt.createSprite(g.baseTexture,128,0,0,256,512,256);v.width=128,v.height=64;const b=new st;b.position.set(e/2-128,i/1.5-7-14-64-20),b.addChild(T,v),this.container.addChild(b),this.showingLogg=!0,this.logo=b}(this.oldH!==i||this.oldW!==e)&&((n=this.bg)==null||n.clear(),(a=this.bg)==null||a.beginFill(this.mc.gameOptions.monochromeLogo?Tt.MONOCHROME_BLACK:Tt.MOJANG_RED),(h=this.bg)==null||h.drawRect(0,0,e,i),(l=this.bg)==null||l.endFill()),this.progress=this.progress*.95+this.reload.getProgress()*.05,this.bar.setProgress(this.progress),this.bar.container.position.set(e/2-100,i/1.5-7),(u=this.logo)==null||u.position.set(e/2-128,i/1.5-7-14-64-20),this.completeAfterTimer!==-1&&this.completeAfterTimer++,this.isFading?this.container.alpha-=t*.05:.99999-this.progress<9e-5&&(this.isFading=!0,(c=this.mc.screen)==null||c.initScreen(this.mc,this.mc.getScaledWidth(),this.mc.getScaledHeight())),this.container.alpha<=0&&this.mc.setOverlay(null)}};let mt=Tt;s(mt,"MOJANG_RED",M.getRgb(239,50,61)),s(mt,"MONOCHROME_BLACK",M.getRgb(0,0,0)),s(mt,"PRISMARINE",M.getRgb(96,164,144));const U=class{constructor(t,e,i,n,a,h,l){s(this,"image");s(this,"texture");s(this,"offsetX");s(this,"offsetY");s(this,"width");s(this,"height");s(this,"advance");s(this,"ascent");this.image=t,this.offsetX=e,this.offsetY=i,this.width=n,this.height=a,this.advance=h,this.ascent=l,this.texture=new O(this.image.baseTexture,new y(this.offsetX,this.offsetY,this.width,this.height))}static getColorAtPixel(t,e,i){const n=4*(t.width*i+e);return{r:t.data[n+0],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]}}static getActualGlyphWidth(t,e,i,n,a){(U.TEMPCTX.canvas.width!==n||U.f)&&(U.TEMPCTX.canvas.width=n),(U.TEMPCTX.canvas.height!==a||U.f)&&(U.TEMPCTX.canvas.height=a),U.TEMPCTX.drawImage(t,e,i,n,a,0,0,n,a);const h=U.TEMPCTX.getImageData(0,0,n,a);let l;for(l=n-1;l>=0;--l)for(let u=0;u<a;++u)if(U.getColorAtPixel(h,l,u).a!==0)return l+1;return l+1}getAdvance(){return this.advance}bearingY(){return 7-this.ascent-3*2+6}};let Lt=U;s(Lt,"TEMPCTX",document.createElement("canvas").getContext("2d")),s(Lt,"f",!0),(()=>{U.TEMPCTX.imageSmoothingEnabled=!1})();class Nt{constructor(t,e,i,n){s(this,"code");s(this,"region");s(this,"name");s(this,"rightToLeft");this.code=t,this.region=e,this.name=i,this.rightToLeft=n}getCode(){return this.code}getName(){return this.name}getRegion(){return this.region}isRightToLeft(){return this.rightToLeft}toString(){return`${this.name} (${this.region})`}[Symbol.toString()](){return`${this.name} (${this.region})`}equals(t){return this===t?!0:t instanceof Nt?this.code===t.code:!1}}class qt extends St{constructor(t,e){super();s(this,"translations");s(this,"rightToLeft");this.translations=t,this.rightToLeft=e}static async load(t){const e=new Map;let i=!1;for(const n of t){i||(i=n.isRightToLeft());const a=await(await fetch(`lang/${n.getCode()}.json`)).json();Object.entries(a).forEach(([h,l])=>{e.set(h,l)})}return new qt(new Map(e),i)}get(t){var e;return(e=this.translations.get(t))!=null?e:t}hasTranslation(t){return this.translations.has(t)}isRightToLeft(){return this.rightToLeft}}const ot=class{constructor(t){s(this,"languageDefs",new Map([["en_us",ot.ENGLISH_US]]));s(this,"currentLanguageCode");s(this,"language",ot.ENGLISH_US);this.currentLanguageCode=t}static async loadAvailableLanguages(){const t=await(await fetch("pack.mcmeta")).json(),e=new Map;for(const[i,n]of Object.entries(t.language))e.set(i,new Nt(i,n.region,n.name,n.bidirectional));return e}async reload(){var n,a;this.languageDefs=await ot.loadAvailableLanguages();const t=(n=this.languageDefs.get(ot.DEFAULT_LANGUAGE_CODE))!=null?n:ot.ENGLISH_US;this.language=(a=this.languageDefs.get(this.currentLanguageCode))!=null?a:t;const e=[t];this.language!==t&&e.push(this.language);const i=await qt.load(e);St.setInstance(i)}setLanguage(t){this.currentLanguageCode=t.getCode(),this.language=t}getLanguage(t){return t?this.languageDefs.get(t):this.language}getAllLanguages(){return new Set(Array.from(this.languageDefs.values()).sort((t,e)=>t.getCode()<e.getCode()?-1:t.getCode()>e.getCode()?1:0))}};let Rt=ot;s(Rt,"DEFAULT_LANGUAGE_CODE","en_us"),s(Rt,"ENGLISH_US",new Nt("en_us","US","English",!1));class q{constructor(t,e){s(this,"namespace");s(this,"path");if(e)this.path=e,this.namespace=t;else{const i=this.splitLocation(t);this.path=i.path,this.namespace=i.namespace}}splitLocation(t){const e=t.substring(0,t.indexOf(":"));return{namespace:e.length===0?"minecraft":e,path:t.substring(t.indexOf(":")+1,t.length)}}getFullPath(){return`${this.namespace}:${this.path}`}equals(t){return t===this?!0:t instanceof q?t.namespace===this.namespace&&t.path===this.path:!1}}const $t=class{constructor(){s(this,"splashTexts");this.splashTexts=[]}async reload(){(await(await fetch($t.RESOURCE.path)).text()).split(`
`).forEach(e=>{this.splashTexts.push(e.trim())})}get(){const t=new Date;return t.getMonth()+1===12&&t.getDate()===24?"Merry X-mas!":t.getMonth()+1===1&&t.getDate()===1?"Happy new year!":t.getMonth()+1===10&&t.getDate()===31?"OOoooOOOoooo! Spooky!":this.splashTexts.length<1?"missingno":this.splashTexts[Math.round(Math.random()*this.splashTexts.length)]}};let Kt=$t;s(Kt,"RESOURCE",new q("texts/splashes.txt"));const vt=class{constructor(t){s(this,"mc");s(this,"cX");s(this,"cY");this.mc=t,this.cX=-1,this.cY=-1}cursorMove(t,e){if(this.mc.overlay===null&&this.mc.screen){const i=t/(window.innerWidth/this.mc.getScaledWidth()),n=e/(window.innerHeight/this.mc.getScaledHeight()),a=(t-this.cX)/(window.innerWidth/this.mc.getScaledWidth()),h=(e-this.cY)/(window.innerHeight/this.mc.getScaledHeight());this.mc.screen.mouseDragged(i,n,0,a,h)}this.cX=t,this.cY=e}cursorButton(t,e,i,n){if(this.mc.overlay===null&&this.mc.screen){const a=t/(window.innerWidth/this.mc.getScaledWidth()),h=e/(window.innerHeight/this.mc.getScaledHeight());n===1?this.mc.screen.mouseClicked(a,h,i):this.mc.screen.mouseReleased(a,h,i)}}keyPress(t,e,i,n){this.mc.overlay===null&&this.mc.screen&&(n===1?this.mc.screen.keyPressed(t,e,i):this.mc.screen.keyReleased(t,e,i))}onChar(t){const e=this.mc.screen;if(!(e==null||this.mc.overlay!==null))for(const i of t)e.charTyped(i)}setup(){document.addEventListener("mousemove",t=>this.cursorMove(t.clientX,t.clientY)),document.addEventListener("mousedown",t=>this.cursorButton(t.clientX,t.clientY,t.button,1)),document.addEventListener("mouseup",t=>this.cursorButton(t.clientX,t.clientY,t.button,0)),document.addEventListener("keydown",t=>{t.code==="Tab"&&t.preventDefault(),vt.codes[t.code]=!0,this.keyPress(t.key,t.code,t.keyCode,1),["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","0","1","2","3","4","5","6","7","8","9","_"," ","(",")","[","]","{","}","!",'"',"'","#","$","%","&","/","=","?","|","\\","@","\xA3","\xA7","*","+","`","\xB4","^","~",",",";",".",":","-"].includes(t.key)&&this.onChar(t.key)}),document.addEventListener("keyup",t=>{t.code==="Tab"&&t.preventDefault(),vt.codes[t.code]=!1,this.keyPress(t.key,t.code,t.keyCode,0)})}static isKeyPressed(t){return vt.codes[t]}getX(){return this.cX}getY(){return this.cY}};let z=vt;s(z,"codes",{});class ${static clamp(t,e,i){return Math.min(i,Math.max(t,e))}static mod(t,e){return t%e}}const K=class{constructor(t,e){s(this,"id");s(this,"translationKey");K.ALL_VALUES.push(this),this.id=t,this.translationKey=e}getId(){return this.id}getTranslationKey(){return this.translationKey}static byId(t){return K.ALL_VALUES[$.mod(t,K.ALL_VALUES.length)]}static values(){return K.ALL_VALUES}};let G=K;s(G,"ALL_VALUES",[]),s(G,"OFF",new K(0,"options.ao.off")),s(G,"MIN",new K(1,"options.ao.min")),s(G,"MAX",new K(2,"options.ao.max"));const Y=class{constructor(t,e){s(this,"id");s(this,"translationKey");Y.ALL_VALUES.push(this),this.id=t,this.translationKey=e}getId(){return this.id}getTranslationKey(){return this.translationKey}static byId(t){return Y.ALL_VALUES[$.mod(t,Y.ALL_VALUES.length)]}static values(){return Y.ALL_VALUES}};let tt=Y;s(tt,"ALL_VALUES",[]),s(tt,"OFF",new Y(0,"options.off")),s(tt,"CROSSHAIR",new Y(1,"options.attack.crosshair")),s(tt,"HOTBAR",new Y(2,"options.attack.hotbar"));const X=class{constructor(t,e){s(this,"id");s(this,"translationKey");X.ALL_VALUES.push(this),this.id=t,this.translationKey=e}getId(){return this.id}getTranslationKey(){return this.translationKey}static byId(t){return X.ALL_VALUES[$.mod(t,X.ALL_VALUES.length)]}static values(){return X.ALL_VALUES}};let et=X;s(et,"ALL_VALUES",[]),s(et,"FULL",new X(0,"options.chat.visibility.full")),s(et,"SYSTEM",new X(1,"options.chat.visibility.system")),s(et,"HIDDEN",new X(2,"options.chat.visibility.hidden"));const ct=class{constructor(t){s(this,"translationKey");ct.ALL_VALUES.push(this),this.translationKey=t}static values(){return ct.ALL_VALUES}getTranslationKey(){return this.translationKey}};let P=ct;s(P,"ALL_VALUES",[]),s(P,"OFF",new ct("OFF")),s(P,"FAST",new ct("Fast")),s(P,"FANCY",new ct("Fancy"));const _=class{constructor(t,e){s(this,"id");s(this,"translationKey");_.ALL_VALUES.push(this),this.id=t,this.translationKey=e}getId(){return this.id}getTranslationKey(){return this.translationKey}toString(){switch(this){case _.FAST:return"fast";case _.FANCY:return"fancy";case _.FABULOUS:return"fabulous"}return"null"}static byId(t){return _.ALL_VALUES[$.mod(t,_.ALL_VALUES.length)]}static values(){return _.ALL_VALUES}};let rt=_;s(rt,"ALL_VALUES",[]),s(rt,"FAST",new _(0,"options.graphics.fast")),s(rt,"FANCY",new _(1,"options.graphics.fancy")),s(rt,"FABULOUS",new _(2,"options.graphics.fabulous"));const V=class{constructor(t,e){s(this,"id");s(this,"name");V.ALL_VALUES.push(this),this.id=t,this.name=new o(e)}getId(){return this.id}getName(){return this.name}static byId(t){return V.ALL_VALUES[$.mod(t,V.ALL_VALUES.length)]}static values(){return V.ALL_VALUES}};let J=V;s(J,"ALL_VALUES",[]),s(J,"OFF",new V(0,"options.narrator.off")),s(J,"ALL",new V(1,"options.narrator.all")),s(J,"CHAT",new V(2,"options.narrator.chat")),s(J,"SYSTEM",new V(3,"options.narrator.system"));const j=class{constructor(t,e){s(this,"id");s(this,"translationKey");j.ALL_VALUES.push(this),this.id=t,this.translationKey=e}getTranslationKey(){return this.translationKey}getId(){return this.id}static byId(t){return j.ALL_VALUES[$.mod(t,j.ALL_VALUES.length)]}static values(){return j.ALL_VALUES}};let it=j;s(it,"ALL_VALUES",[]),s(it,"ALL",new j(0,"options.particles.all")),s(it,"DECREASED",new j(1,"options.particles.decreased")),s(it,"MINIMAL",new j(2,"options.particles.minimal"));const H=class{constructor(t,e){s(this,"firstPerson");s(this,"frontView");H.ALL_VALUES.push(this),this.firstPerson=t,this.frontView=e}static ordinal(){return++this.index,this.index}isFirstPerson(){return this.firstPerson}isFrontView(){return this.frontView}next(){return H.ALL_VALUES[(H.ordinal()+1)%H.ALL_VALUES.length]}static values(){return H.ALL_VALUES}};let at=H;s(at,"index",-1),s(at,"ALL_VALUES",[]),s(at,"FIRST_PERSON",new H(!0,!1)),s(at,"THIRD_PERSON_BACK",new H(!1,!1)),s(at,"THIRD_PERSON_FRONT",new H(!1,!0));const k=class{constructor(t){s(this,"name");k.ALL_VALUES.push(this),this.name=t}getName(){return this.name}static values(){return this.ALL_VALUES}};let A=k;s(A,"ALL_VALUES",[]),s(A,"MASTER",new k("master")),s(A,"MUSIC",new k("music")),s(A,"RECORDS",new k("record")),s(A,"WEATHER",new k("weather")),s(A,"BLOCKS",new k("block")),s(A,"HOSTILE",new k("hostile")),s(A,"NEUTRAL",new k("neutral")),s(A,"PLAYERS",new k("player")),s(A,"AMBIENT",new k("ambient")),s(A,"VOICE",new k("voice"));class xt{constructor(t){s(this,"mc");s(this,"monochromeLogo");s(this,"hideLightningFlashes");s(this,"mouseSensitivity");s(this,"viewDistance");s(this,"simulationDistance");s(this,"entityDistanceScaling");s(this,"maxFps");s(this,"cloudRenderMode");s(this,"graphicsMode");s(this,"ao");s(this,"chatVisibility");s(this,"chatOpacity");s(this,"chatLineSpacing");s(this,"textBackgroundOpacity");s(this,"hideServerAddress");s(this,"advancedItemTooltips");s(this,"pauseOnLostFocus");s(this,"overrideWidth");s(this,"overrideHeight");s(this,"heldItemTooltips");s(this,"chatScale");s(this,"chatWidth");s(this,"chatHeightUnfocused");s(this,"chatHeightFocused");s(this,"chatDelay");s(this,"mipmapLevels");s(this,"soundVolumeLevels");s(this,"attackIndicator");s(this,"biomeBlendRadius");s(this,"mouseWheelSensitivity");s(this,"rawMouseInput");s(this,"autoJump");s(this,"autoSuggestions");s(this,"chatColors");s(this,"chatLinks");s(this,"chatLinksPrompt");s(this,"enableVsync");s(this,"entityShadows");s(this,"forceUnicodeFont");s(this,"invertYMouse");s(this,"discreteMouseScroll");s(this,"realmsNotifications");s(this,"allowServerListing");s(this,"reducedDebugInfo");s(this,"showSubtitles");s(this,"backgroundForChatOnly");s(this,"touchscreen");s(this,"fullscreen");s(this,"bobView");s(this,"sneakToggled");s(this,"sprintToggled");s(this,"skipMultiplayerWarning");s(this,"hideMatchedNames");s(this,"showAutosaveIndicator");s(this,"hudHidden");s(this,"perspective");s(this,"debugEnabled");s(this,"smoothCameraEnabled");s(this,"fov");s(this,"distortionEffectScale");s(this,"fovEffectScale");s(this,"gamma");s(this,"guiScale");s(this,"particles");s(this,"narrator");s(this,"language");s(this,"requestSave");this.mc=t,this.requestSave=!1,this.monochromeLogo=!0,this.hideLightningFlashes=!1,this.mouseSensitivity=.5,this.viewDistance=6,this.simulationDistance=6,this.entityDistanceScaling=1,this.maxFps=120,this.cloudRenderMode=P.FANCY,this.graphicsMode=rt.FANCY,this.ao=G.MAX,this.chatVisibility=et.FULL,this.chatOpacity=1,this.chatLineSpacing=0,this.textBackgroundOpacity=.5,this.hideServerAddress=!1,this.advancedItemTooltips=!1,this.pauseOnLostFocus=!0,this.overrideWidth=0,this.overrideHeight=0,this.heldItemTooltips=!0,this.chatScale=1,this.chatWidth=1,this.chatHeightUnfocused=.44366195797920227,this.chatHeightFocused=1,this.chatDelay=0,this.mipmapLevels=4,this.attackIndicator=tt.CROSSHAIR,this.biomeBlendRadius=2,this.mouseWheelSensitivity=1,this.rawMouseInput=!0,this.autoJump=!0,this.autoSuggestions=!0,this.chatColors=!0,this.chatLinks=!0,this.chatLinksPrompt=!0,this.enableVsync=!0,this.entityShadows=!0,this.forceUnicodeFont=!1,this.invertYMouse=!1,this.discreteMouseScroll=!1,this.realmsNotifications=!0,this.allowServerListing=!0,this.reducedDebugInfo=!1,this.showSubtitles=!1,this.backgroundForChatOnly=!0,this.touchscreen=!1,this.fullscreen=!1,this.bobView=!0,this.sneakToggled=!1,this.sprintToggled=!1,this.skipMultiplayerWarning=!1,this.hideMatchedNames=!0,this.showAutosaveIndicator=!0,this.hudHidden=!1,this.perspective=at.FIRST_PERSON,this.debugEnabled=!1,this.smoothCameraEnabled=!1,this.fov=70,this.distortionEffectScale=1,this.fovEffectScale=1,this.gamma=.5,this.guiScale=3,this.particles=it.ALL,this.narrator=J.OFF,this.language="en_us",this.soundVolumeLevels=A.values().map(e=>[e,1])}load(){let t=null;if(!(t=localStorage.getItem("optionsv1")))return;window.addEventListener("storage",i=>{var n;this.requestSave?this.requestSave=!1:i.key==="optionsv1"&&i.newValue!==null&&localStorage.setItem(i.key,(n=i.oldValue)!=null?n:"")});const e={};t.split(`
`).map(i=>i.trim()).forEach(i=>{const n=i.split(":").slice(0,2);e[n[0]]=n[1]}),this.accept(new class{constructor(){s(this,"options",e)}visitInt(i,n){const a=this.options[i];return a&&parseInt(a)||n}visitFloat(i,n){const a=this.options[i];return a&&parseFloat(a)||n}visitBoolean(i,n){const a=this.options[i];return a?a.toLowerCase()==="true":n}visitString(i,n){var a;return(a=this.options[i])!=null?a:n}visitObjectString(i,n,a,h){const l=this.options[i];return l===null&&l===void 0?n:a(l)}visitObjectInt(i,n,a,h){const l=this.options[i];return l!=null?a(parseInt(l)):n}})}save(){let t="";this.accept(new class{add(e,i){t+=`${e}:${i}
`}visitInt(e,i){return this.add(e,i),i}visitFloat(e,i){return this.add(e,i),i}visitBoolean(e,i){return this.add(e,i),i}visitString(e,i){return this.add(e,i),i}visitObjectString(e,i,n,a){return this.add(e,a(i)),i}visitObjectInt(e,i,n,a){return this.add(e,a(i)),i}}),this.requestSave=!0,localStorage.setItem("optionsv1",t)}accept(t){this.autoJump=t.visitBoolean("autoJump",this.autoJump),this.autoSuggestions=t.visitBoolean("autoSuggestions",this.autoSuggestions),this.chatColors=t.visitBoolean("chatColors",this.chatColors),this.chatLinks=t.visitBoolean("chatLinks",this.chatLinks),this.chatLinksPrompt=t.visitBoolean("chatLinksPrompt",this.chatLinksPrompt),this.enableVsync=t.visitBoolean("enableVsync",this.enableVsync),this.entityShadows=t.visitBoolean("entityShadows",this.entityShadows),this.forceUnicodeFont=t.visitBoolean("forceUnicodeFont",this.forceUnicodeFont),this.discreteMouseScroll=t.visitBoolean("discrete_mouse_scroll",this.discreteMouseScroll),this.invertYMouse=t.visitBoolean("invertYMouse",this.invertYMouse),this.realmsNotifications=t.visitBoolean("realmsNotifications",this.realmsNotifications),this.reducedDebugInfo=t.visitBoolean("reducedDebugInfo",this.reducedDebugInfo),this.showSubtitles=t.visitBoolean("showSubtitles",this.showSubtitles),this.touchscreen=t.visitBoolean("touchscreen",this.touchscreen),this.fullscreen=t.visitBoolean("fullscreen",this.fullscreen),this.bobView=t.visitBoolean("bobView",this.bobView),this.sneakToggled=t.visitBoolean("toggleCrouch",this.sneakToggled),this.sprintToggled=t.visitBoolean("toggleSprint",this.sprintToggled),this.monochromeLogo=t.visitBoolean("darkMojangStudiosBackground",this.monochromeLogo),this.hideLightningFlashes=t.visitBoolean("hideLightningFlashes",this.hideLightningFlashes),this.mouseSensitivity=t.visitFloat("mouseSensitivity",this.mouseSensitivity),this.fov=t.visitFloat("fov",(this.fov-70)/40)*40+70,this.distortionEffectScale=t.visitFloat("screenEffectScale",this.distortionEffectScale),this.fovEffectScale=t.visitFloat("fovEffectScale",this.fovEffectScale),this.gamma=t.visitFloat("gamma",this.gamma),this.viewDistance=~~$.clamp(t.visitInt("renderDistance",this.viewDistance),2,16),this.simulationDistance=~~$.clamp(t.visitInt("simulationDistance",this.simulationDistance),5,16),this.entityDistanceScaling=t.visitFloat("entityDistanceScaling",this.entityDistanceScaling),this.guiScale=t.visitInt("guiScale",this.guiScale),this.particles=t.visitObjectInt("particles",this.particles,it.byId,i=>i.getId()),this.maxFps=t.visitInt("maxFps",this.maxFps),this.graphicsMode=t.visitObjectInt("graphicsMode",this.graphicsMode,rt.byId,i=>i.getId()),this.ao=t.visitObjectString("ao",this.ao,xt.loadAo,i=>i.getId()+""),this.biomeBlendRadius=t.visitInt("biomeBlendRadius",this.biomeBlendRadius),this.cloudRenderMode=t.visitObjectString("renderClouds",this.cloudRenderMode,xt.loadCloudRenderMode,xt.saveCloudRenderMode),this.language=t.visitString("lang",this.language),this.chatVisibility=t.visitObjectInt("chatVisibility",this.chatVisibility,et.byId,i=>i.getId()),this.chatOpacity=t.visitFloat("chatOpacity",this.chatOpacity),this.chatLineSpacing=t.visitFloat("chatLineSpacing",this.chatLineSpacing),this.textBackgroundOpacity=t.visitFloat("textBackgroundOpacity",this.textBackgroundOpacity),this.backgroundForChatOnly=t.visitBoolean("backgroundForChatOnly",this.backgroundForChatOnly),this.hideServerAddress=t.visitBoolean("hideServerAddress",this.hideServerAddress),this.advancedItemTooltips=t.visitBoolean("advancedItemTooltips",this.advancedItemTooltips),this.pauseOnLostFocus=t.visitBoolean("pauseOnLostFocus",this.pauseOnLostFocus),this.overrideWidth=t.visitInt("overrideWidth",this.overrideWidth),this.overrideHeight=t.visitInt("overrideHeight",this.overrideHeight),this.heldItemTooltips=t.visitBoolean("heldItemTooltips",this.heldItemTooltips),this.chatHeightFocused=t.visitFloat("chatHeightFocused",this.chatHeightFocused),this.chatDelay=t.visitFloat("chatDelay",this.chatDelay),this.chatHeightUnfocused=t.visitFloat("chatHeightUnfocused",this.chatHeightUnfocused),this.chatScale=t.visitFloat("chatScale",this.chatScale),this.chatWidth=t.visitFloat("chatWidth",this.chatWidth),this.mipmapLevels=t.visitInt("mipmapLevels",this.mipmapLevels),this.attackIndicator=t.visitObjectInt("attackIndicator",this.attackIndicator,tt.byId,i=>i.getId()),this.narrator=t.visitObjectInt("narrator",this.narrator,J.byId,i=>i.getId()),this.mouseWheelSensitivity=t.visitFloat("mouseWheelSensitivity",this.mouseWheelSensitivity),this.rawMouseInput=t.visitBoolean("rawMouseInput",this.rawMouseInput),this.skipMultiplayerWarning=t.visitBoolean("skipMultiplayerWarning",this.skipMultiplayerWarning),this.hideMatchedNames=t.visitBoolean("hideMatchedNames",this.hideMatchedNames),this.showAutosaveIndicator=t.visitBoolean("showAutosaveIndicator",this.showAutosaveIndicator),this.allowServerListing=t.visitBoolean("allowServerListing",this.allowServerListing);let e=0;for(const[i,n]of this.soundVolumeLevels)this.soundVolumeLevels[e]=[i,t.visitFloat(`soundCategory_${i.getName()}`,n)],e++}static loadCloudRenderMode(t){switch(t){case"true":return P.FANCY;case"fast":return P.FAST}return P.OFF}static saveCloudRenderMode(t){switch(t){case P.FANCY:return"true";case P.FAST:return"fast"}return"false"}static loadAo(t){return t.toLowerCase()==="true"?G.MAX:t.toLowerCase()==="false"?G.OFF:G.byId(parseInt(t))}setSoundVolume(t,e){let i=this.soundVolumeLevels.findIndex(n=>n[0].getName()===t.getName());i!==-1&&(this.soundVolumeLevels[i]=[t,e])}getSoundVolume(t){var e,i;return(i=(e=this.soundVolumeLevels.find(n=>n[0].getName()===t.getName()))==null?void 0:e[1])!=null?i:1}}class ve{async setContent(t){try{await navigator.clipboard.writeText(t)}catch{}}async getContent(){try{return await navigator.clipboard.readText()}catch{return""}}}class Ce{constructor(t,e){s(this,"tickDelta");s(this,"lastFrameDuration");s(this,"prevTimeMillis");s(this,"tickTime");this.tickDelta=0,this.lastFrameDuration=0,this.tickTime=1e3/t,this.prevTimeMillis=e}beginRenderTick(t){this.lastFrameDuration=(t-this.prevTimeMillis)/this.tickTime,this.prevTimeMillis=t,this.tickDelta+=this.lastFrameDuration;let e=~~this.tickDelta;return this.tickDelta-=e,e}}class ee{asyncLoader(t,e){return new Promise(i=>{t.loader.add(e).load(()=>{i(t.loader.resources[e])})})}async reload(){var e;const t=W.getInstance();Object.values(t.textures).forEach(i=>{var n,a;i&&((n=fe.removeFromCache(i.baseTexture))==null||n.destroy(),(a=O.removeFromCache(i))==null||a.destroy())}),t.loader.resources={},t.textures={},await new Promise(i=>{t.loader.add([{name:"minecraft:textures/gui/title/mojangstudios.png",url:"textures/gui/title/mojangstudios.png"}]).load(()=>{t.textures["minecraft:textures/gui/title/mojangstudios.png"]=t.loader.resources["minecraft:textures/gui/title/mojangstudios.png"].texture,i()})}),await new Promise(i=>{setTimeout(i,3e3)});for(const i of Object.values(kt)){const n=await(await fetch(`font/${i.path}.json`)).json(),a={};for(const h of n.providers){const l=new q(h.file),u=await this.asyncLoader(t,`textures/${l.path}`),c=u.data,g=u.texture,T=(e=h.ascent)!=null?e:7,v=g.width,b=g.height,C=v/h.chars[0].length,B=b/h.chars.length;for(let F=0;F<h.chars.length;F++){let Vt=0;for(const Qt of h.chars[F])Qt!==" "&&(a[Qt]=new Lt(g,Vt*C,F*B,C,B,Lt.getActualGlyphWidth(c,Vt*C,F*B,C,B)+1,T)),Vt++}a[" "]=new Lt(g,0,0,4,B,4,T)}t.fonts.push({location:i,glyphs:a})}}}class ie{async reload(){await new Promise((t,e)=>{const i=W.getInstance();i.loader.add([{name:"minecraft:textures/gui/title/background/panorama_1.png",url:"textures/gui/title/background/panorama_1.png"},{name:"minecraft:textures/gui/title/background/panorama_2.png",url:"textures/gui/title/background/panorama_2.png"},{name:"minecraft:textures/gui/title/background/panorama_3.png",url:"textures/gui/title/background/panorama_3.png"},{name:"minecraft:textures/gui/title/background/panorama_4.png",url:"textures/gui/title/background/panorama_4.png"},{name:"minecraft:textures/gui/title/background/panorama_5.png",url:"textures/gui/title/background/panorama_5.png"},{name:"minecraft:textures/gui/title/background/panorama_0.png",url:"textures/gui/title/background/panorama_0.png"},{name:"minecraft:textures/gui/widgets.png",url:"textures/gui/widgets.png"},{name:"background",url:"textures/gui/background.png"},{name:"vignette",url:"textures/misc/vignette.png"},{name:"minecraft:textures/gui/accessibility.png",url:"textures/gui/accessibility.png"},{name:"minecraft:textures/gui/title/minecraft.png",url:"textures/gui/title/minecraft.png"},{name:"minecraft:textures/gui/title/edition.png",url:"textures/gui/title/edition.png"}]).load(()=>{i.textures["minecraft:textures/gui/title/background/panorama_1.png"]=i.loader.resources["minecraft:textures/gui/title/background/panorama_1.png"].texture,i.textures["minecraft:textures/gui/title/background/panorama_2.png"]=i.loader.resources["minecraft:textures/gui/title/background/panorama_2.png"].texture,i.textures["minecraft:textures/gui/title/background/panorama_3.png"]=i.loader.resources["minecraft:textures/gui/title/background/panorama_3.png"].texture,i.textures["minecraft:textures/gui/title/background/panorama_4.png"]=i.loader.resources["minecraft:textures/gui/title/background/panorama_4.png"].texture,i.textures["minecraft:textures/gui/title/background/panorama_5.png"]=i.loader.resources["minecraft:textures/gui/title/background/panorama_5.png"].texture,i.textures["minecraft:textures/gui/title/background/panorama_0.png"]=i.loader.resources["minecraft:textures/gui/title/background/panorama_0.png"].texture,i.textures["minecraft:textures/gui/widgets.png"]=i.loader.resources["minecraft:textures/gui/widgets.png"].texture,i.textures.background=i.loader.resources.background.texture,i.textures.vignette=i.loader.resources.vignette.texture,i.textures["minecraft:textures/gui/accessibility.png"]=i.loader.resources["minecraft:textures/gui/accessibility.png"].texture,i.textures["minecraft:textures/gui/title/minecraft.png"]=i.loader.resources["minecraft:textures/gui/title/minecraft.png"].texture,i.textures["minecraft:textures/gui/title/edition.png"]=i.loader.resources["minecraft:textures/gui/title/edition.png"].texture,t()})})}}const Ut=class{constructor(t,e){s(this,"app");s(this,"root");s(this,"screen");s(this,"overlay");s(this,"loader");s(this,"clipboard");s(this,"inputHandler");s(this,"fps",0);s(this,"nextUpdateTime",0);s(this,"currFps",-1);s(this,"renderTickCounter",new Ce(20,0));s(this,"textures");s(this,"fonts",[]);s(this,"titleGetter");s(this,"splashTextLoader");s(this,"gameOptions");s(this,"scaleFactor");s(this,"languageManager");s(this,"threeRenderer");s(this,"scene");s(this,"cameraOrtho");Ut.instance=this,this.titleGetter=t,this.app=new ue({width:window.innerWidth,height:window.innerHeight,resizeTo:window,backgroundAlpha:0,powerPreference:"high-performance"}),this.threeRenderer=new de,this.threeRenderer.setPixelRatio(window.devicePixelRatio||1),this.threeRenderer.setSize(window.innerWidth,window.innerHeight),this.scene=new ge,this.cameraOrtho=new pe(85,window.innerWidth/window.innerHeight,.05,1e3),this.gameOptions=new xt(this),this.gameOptions.load(),this.scaleFactor=this.calculateScaleFactor(this.gameOptions.guiScale),this.loader=new me,this.textures={},this.languageManager=new Rt(this.gameOptions.language),this.clipboard=new ve,this.root=new st,this.screen=null,this.overlay=null,this.inputHandler=new z(this),this.inputHandler.setup(),this.splashTextLoader=new Kt,document.querySelector("link[rel~='icon']").href="./icon_32x32.png",this.setOverlay(new mt(this,new te([new ee,new ie,this.languageManager,this.splashTextLoader,...e]))),setTimeout(()=>this.setScreen(this.titleGetter()),0)}reloadResources(){this.setOverlay(new mt(this,new te([new ee,new ie,this.languageManager,this.splashTextLoader])))}async run(){Zt.SCALE_MODE=we.NEAREST,Zt.ROUND_PIXELS=!1,this.app.stage.addChild(this.root),this.root.scale.set(this.gameOptions.guiScale),this.root.sortableChildren=!0,window.addEventListener("resize",()=>{this.windowResized()});const t=()=>{this.update(),requestAnimationFrame(t)};this.nextUpdateTime=Date.now(),requestAnimationFrame(t),document.body.appendChild(this.threeRenderer.domElement),document.body.appendChild(this.app.view)}update(){var e,i;const t=this.renderTickCounter.beginRenderTick(Date.now());for(let n=0;n<Math.min(10,t);++n)this.tick();for((e=this.overlay)==null||e.update(this.renderTickCounter.lastFrameDuration),(i=this.screen)==null||i.update(this.inputHandler.getX()/this.gameOptions.guiScale,this.inputHandler.getY()/this.gameOptions.guiScale,this.renderTickCounter.lastFrameDuration),this.threeRenderer.render(this.scene,this.cameraOrtho),++this.fps;Date.now()>=this.nextUpdateTime+1e3;)this.currFps=this.fps,this.nextUpdateTime+=1e3,this.fps=0}tick(){var t;(t=this.screen)==null||t.tick()}windowResized(){var e;const t=this.calculateScaleFactor(this.gameOptions.guiScale);this.scaleFactor=t,this.root.scale.set(t),this.cameraOrtho.aspect=window.innerWidth/window.innerHeight,this.cameraOrtho.updateProjectionMatrix(),this.threeRenderer.setSize(window.innerWidth,window.innerHeight),(this.overlay===null||this.overlay&&this.overlay.isFading)&&((e=this.screen)==null||e.resize(this,this.getScaledWidth(),this.getScaledHeight()))}setScreen(t){this.screen&&(this.screen.removed(),this.screen.container.parent.removeChild(this.screen.container)),this.screen=t,this.screen===null&&(this.screen=this.titleGetter()),this.screen&&(this.overlay===null&&this.screen.initScreen(this,this.getScaledWidth(),this.getScaledHeight()),this.root.addChild(this.screen.container))}setOverlay(t){this.overlay&&this.overlay.container.parent.removeChild(this.overlay.container),this.overlay=t,this.overlay&&(this.overlay.init(),this.overlay.container.zIndex=1e3,this.root.addChild(this.overlay.container))}getScaledWidth(){return window.innerWidth/this.scaleFactor}getScaledHeight(){return window.innerHeight/this.scaleFactor}getSplashTextLoader(){return this.splashTextLoader}updateGuiScale(t){this.gameOptions.guiScale=t,this.root.scale.set(this.gameOptions.guiScale),this.windowResized()}static getInstance(){return Ut.instance}calculateScaleFactor(t){let e;for(e=1;e!==t&&e<window.innerWidth&&e<window.innerHeight&&window.innerWidth/(e+1)>=320&&window.innerHeight/(e+1)>=240-10;++e);return e}};let W=Ut;s(W,"instance");const kt={ALT:new q("minecraft:alt"),ILLAGERALT:new q("minecraft:illageralt"),DEFAULT:new q("minecraft:default")};class R{constructor(t,e,i,n,a,h){s(this,"container");s(this,"text");s(this,"x");s(this,"y");s(this,"color");s(this,"shadow");s(this,"fontType");this.container=new st,this.text=e,this.fontType=t,this.x=i,this.y=n,this.color=a,this.shadow=h,this.container.position.set(this.x,this.y)}static textShadow(t,e,i,n=16777215,a=kt.DEFAULT){return new R(a,t,e,i,n,!0).draw()}shadowC(t){const e=(t>>16&255)*.25<<16,i=(t>>8&255)*.25<<8,n=(t&255)*.25;return e|i|n}static getWidth(t,e=kt.DEFAULT){const i=W.getInstance(),n=typeof t=="string"?new x(t):t,a=i.fonts.find(c=>c.location.equals(e));if(!a)return 0;let h=0;const l=[],u=c=>c instanceof o?c.getTranslation():[c];n instanceof o?n.getTranslation().forEach(c=>{l.push(...u(c))}):l.push(n),n.siblings.forEach(c=>{c instanceof o?l.push(...c.getTranslation(),c):l.push(c)});for(let c=0;c<l.length;c++){const g=l[c];for(const T of g.text)h+=a.glyphs[T].getAdvance()}return h}draw(){var l,u;const e=W.getInstance().fonts.find(c=>c.location.equals(this.fontType));if(!e)return this;let i=0,n=0;this.container.removeChildren();const a=[],h=c=>c instanceof o?c.getTranslation():[c];this.text instanceof o?this.text.getTranslation().forEach(c=>{a.push(...h(c))}):(a.push(this.text),this.text.siblings.forEach(c=>{c instanceof o?a.push(...c.getTranslation(),c):a.push(c)}));for(let c=0;c<a.length;c++){const g=a[c],T=g.text,v=(u=(l=g.style.getColor())==null?void 0:l.getRgb())!=null?u:this.color;for(const b of T){const C=e.glyphs[b];if(b!==" "){const B=new I(C.texture);if(B.position.set(i,n+C.bearingY()),this.shadow){const F=new I(C.texture);F.position.set(i+1,n+C.bearingY()+1),F.tint=this.shadowC(v),this.container.addChild(F)}this.container.addChild(B),B.tint=v}i+=C.getAdvance()}}return this}setText(t){return this.text=typeof t=="string"?new x(t):t,this.draw(),this}setColor(t){return this.color=t,this.draw(),this}}class Mt{createSprite(t,e,i,n,a,h,l,u,c){const g=(u!=null?u:256)/(c!=null?c:256),T=new I(new O(t,new y(n*g,a*g,h*g,l*g)));return T.position.set(e,i),T}static createSprite(t,e,i,n,a,h,l,u,c){const g=(u!=null?u:256)/(c!=null?c:256),T=new I(new O(t,new y(n*g,a*g,h*g,l*g)));return T.position.set(e,i),T}createStringWithShadow(t,e,i,n,a){return R.textShadow(typeof t=="string"?new x(t):t,e,i,n,a)}static createStringWithShadow(t,e,i,n,a){return R.textShadow(typeof t=="string"?new x(t):t,e,i,n,a)}createTextWithShadow(t,e,i,n,a){return R.textShadow(t,e,i,n,a)}static createTextWithShadow(t,e,i,n,a){return R.textShadow(t,e,i,n,a)}createCenteredText(t,e,i,n,a){return R.textShadow(typeof t=="string"?new x(t):t,e-R.getWidth(typeof t=="string"?new x(t):t)/2,i,n,a)}}class S extends Mt{constructor(t=new x("")){super();s(this,"container",new st);s(this,"widgets",[]);s(this,"initialized",!1);s(this,"width",0);s(this,"height",0);s(this,"mc",W.getInstance());s(this,"title");s(this,"focused",null);s(this,"dragging",!1);this.title=typeof t=="string"?new x(t):t}initScreen(t,e,i){this.mc=t,this.width=e,this.height=i,this.container.removeChildren(),this.widgets=[],this.setFocused(null),this.init(),this.initialized=!0}resize(t,e,i){this.initScreen(t,e,i)}init(){}isDragging(){return this.dragging}setDragging(t){this.dragging=t}getFocused(){return this.focused}setFocused(t){this.focused=t}focusOn(t){this.setFocused(t)}hoveredElement(t,e){for(let i=0;i<this.widgets.length;i++)if(!!this.widgets[i].isMouseOver(t,e))return this.widgets[i]}changeFocus(t){let e=!1;const i=this.getFocused();if(e=i!==null,e&&i&&i.changeFocus(t))return!0;let n=this.widgets.indexOf(i),a=e&&n>=0?n+(t?1:0):t?0:this.widgets.length;if(a===this.widgets.length)return this.setFocused(null),!1;for(;a<this.widgets.length;){if(this.widgets[t?a:a-1<0?this.widgets.length-1:a-1].changeFocus(t))return this.setFocused(this.widgets[a]),!0;a=a+(t?1:-1),a<0&&(a=this.widgets.length-1),a>=this.widgets.length&&(a=0)}return this.setFocused(null),!1}mouseClicked(t,e,i){var n;for(let a=this.widgets.length-1;a>=0;a--)if(!!this.widgets[a].mouseClicked(t,e,i))return this.setFocused(this.widgets[a]),i===0&&this.setDragging(!0),!0;return(n=this.getFocused())==null||n.changeFocus(!0),this.setFocused(null),!1}mouseReleased(t,e,i){var n,a;return this.setDragging(!1),(a=(n=this.hoveredElement(t,e))==null?void 0:n.mouseReleased(t,e,i))!=null?a:!1}mouseMoved(t,e){}mouseDragged(t,e,i,n,a){return this.getFocused()!==null&&this.isDragging()&&i===0?this.getFocused().mouseDragged(t,e,i,n,a):!1}setInitialFocus(t){this.setFocused(t)}mouseScroll(t,e,i){var n,a;return(a=(n=this.hoveredElement(t,e))==null?void 0:n.mouseScroll(t,e,i))!=null?a:!1}isMouseOver(t,e){return!1}keyPressed(t,e,i){if(e==="Escape"&&this.shouldCloseOnEsc())return this.onClose(),!0;if(e==="Tab"){let n=!S.hasShiftDown();return this.changeFocus(n)||this.changeFocus(n),!1}return this.getFocused()!==null&&this.getFocused().keyPressed(t,e,i)}keyReleased(t,e,i){return this.getFocused()!==null&&this.getFocused().keyReleased(t,e,i)}charTyped(t){return this.getFocused()!==null&&this.getFocused().charTyped(t)}tick(){}removed(){}update(t,e,i){if(!!this.initialized)for(let n=0;n<this.widgets.length;n++)this.widgets[n].update(t,e,i)}openURL(t){window.open(t,"_blank","noopener,noreferrer")}shouldCloseOnEsc(){return!0}onClose(){this.mc.setScreen(null)}addWidget(t){return this.widgets.push(t),t.init(),this.container.addChild(t.container),t}addGuiText(t){return this.container.addChild(t.container),t}addBackground(){var e;const t=(e=this.mc)==null?void 0:e.textures.background;if(t){const i=new ae(t,this.width,this.height);i.tileScale.set(2,2);const n=new ut;n.beginFill(0,.78),n.drawRect(0,0,this.width,this.height),n.endFill(),this.container.addChild(i,n)}}static hasControlDown(){return z.isKeyPressed("ControlLeft")||z.isKeyPressed("ControlRight")}static hasShiftDown(){return z.isKeyPressed("ShiftLeft")||z.isKeyPressed("ShiftRight")}static hasAltDown(){return z.isKeyPressed("AltLeft")||z.isKeyPressed("AltRight")}static isCut(t){return t==="KeyX"&&S.hasControlDown()&&!S.hasShiftDown()&&!S.hasAltDown()}static isPaste(t){return t==="KeyV"&&S.hasControlDown()&&!S.hasShiftDown()&&!S.hasAltDown()}static isCopy(t){return t==="KeyC"&&S.hasControlDown()&&!S.hasShiftDown()&&!S.hasAltDown()}static isSelectAll(t){return t==="KeyA"&&S.hasControlDown()&&!S.hasShiftDown()&&!S.hasAltDown()}}const _t=class{static onOrOff(t){return t?_t.ON:_t.OFF}static composeToggleText(t,e){return new x("").append(t).append(": ").append(this.onOrOff(e))}static composeGenericOptionText(t,e){return new o("options.generic_value",t,e)}};let f=_t;s(f,"ON",new o("options.on")),s(f,"OFF",new o("options.off")),s(f,"DONE",new o("gui.done")),s(f,"CANCEL",new o("gui.cancel")),s(f,"YES",new o("gui.yes")),s(f,"NO",new o("gui.no")),s(f,"PROCEED",new o("gui.proceed")),s(f,"BACK",new o("gui.back"));const Q=class extends Mt{constructor(t,e,i,n,a){super();s(this,"container");s(this,"initialized");s(this,"width");s(this,"height");s(this,"x");s(this,"y");s(this,"message");s(this,"_message_Gui");s(this,"hovered");s(this,"active",!0);s(this,"visible",!0);s(this,"focused",!1);s(this,"alpha",1);this.initialized=!1,this.container=new st,this.x=~~t,this.y=~~e,this.width=~~i,this.height=~~n,this.message=a,this.hovered=!1}init(){this.container.visible=this.visible,this.createLayout(),this.initialized=!0}createLayout(){const t=W.getInstance(),e=this.getUY(this.isHovered()),i=this.createSprite(t.textures[Q.WIDGETS_TEXTURE.getFullPath()].baseTexture,0,0,0,46+e*20,this.width/2,20),n=this.createSprite(t.textures[Q.WIDGETS_TEXTURE.getFullPath()].baseTexture,this.width/2,0,200-this.width/2,46+e*20,this.width/2,20);i.name="bgL",n.name="bgR",this._message_Gui=this.createCenteredText(this.message,this.width/2,(this.height-8)/2,this.active?Q.activeColor:Q.lockedColor),this.container.position.set(this.x,this.y),this.container.addChild(i,n),this._message_Gui&&this.container.addChild(this._message_Gui.container)}updateLayout(t){var e;if(!!this.initialized)if(t)(e=this._message_Gui)==null||e.container.position.set(this.width/2-R.getWidth(this.getMessage())/2,(this.height-8)/2);else{const i=this.getUY(this.isHovered());this.container.getChildByName("bgL").texture.frame=new y(0,46+i*20,this.width/2,20),this.container.getChildByName("bgR").texture.frame=new y(200-this.width/2,46+i*20,this.width/2,20)}}updateGuiTexts(){this._message_Gui&&this._message_Gui.setText(this.message).setColor(this.active?Q.activeColor:Q.lockedColor)}update(t,e,i){this.initialized||this.init();const n=this.isOver(t,e);this.hovered&&!n?(this.hovered=!1,this.updateLayout()):n&&!this.hovered&&(this.hovered=!0,this.updateLayout())}tick(){}onClick(t,e){}onRelease(t,e){}onDrag(t,e,i,n){}mouseClicked(t,e,i){return!this.active||!this.visible?!1:this.isValidClickButton(i)&&this.isOver(t,e)?(this.onClick(t,e),!0):!1}mouseReleased(t,e,i){return this.isValidClickButton(i)?(this.onRelease(t,e),!0):!1}mouseDragged(t,e,i,n,a){return this.isValidClickButton(i)?(this.onDrag(t,e,n,a),!0):!1}mouseMoved(t,e){}mouseScroll(t,e,i){return!1}isMouseOver(t,e){return this.isOver(t,e)}keyPressed(t,e,i){return!1}keyReleased(t,e,i){return!1}charTyped(t){return!1}isOver(t,e){return this.active&&this.visible&&t>=this.x&&e>=this.y&&t<this.x+this.width&&e<this.y+this.height}isValidClickButton(t){return t===0}setMessage(t){var e;this.message=t,(e=this._message_Gui)==null||e.setText(t),this.updateLayout(!0)}getMessage(){return this.message}setWidth(t){this.width=t}getWidth(){return this.width}changeFocus(t){return!this.active||!this.visible?!1:(this.focused=!this.focused,this.onFocusedChanged(this.focused),this.updateLayout(),this.focused)}onFocusedChanged(t){}setActive(t){const e=this.active;this.active=t,e!==this.active&&(this.updateLayout(),this.updateGuiTexts())}setAlpha(t){this.alpha=t,this.container.alpha=t}isHovered(){return this.focused||this.hovered}getUY(t){return this.active?t?2:1:0}};let N=Q;s(N,"WIDGETS_TEXTURE",new q("textures/gui/widgets.png")),s(N,"activeColor",16777215),s(N,"lockedColor",10526880);class re extends N{constructor(t,e,i,n,a){super(t,e,i,n,a)}onClick(t,e){this.onPress()}keyPressed(t,e,i){return!this.active||!this.visible?!1:e==="Enter"||e=="Space"?(this.onPress(),!0):!1}}class p extends re{constructor(t,e,i,n,a,h){super(t,e,i,n,typeof a=="string"?new x(a):a);s(this,"onPressFunc");this.onPressFunc=h}onPress(){this.onPressFunc(this)}}const Z=class extends N{constructor(t,e,i,n,a,h=null){super(t,e,i,n,a);s(this,"editableColor",14737632);s(this,"uneditableColor",7368816);s(this,"text","");s(this,"changedListener",null);s(this,"maxLength",32);s(this,"focusedTicks",0);s(this,"selectionStart",0);s(this,"selectionEnd",0);s(this,"_caret");h!==null&&this.setText(h.getText())}setChangedListener(t){this.changedListener=t}tick(){++this.focusedTicks,this.focused&&Math.floor(this.focusedTicks/6)%2==0?this._caret&&(this._caret.visible=!0):this._caret&&(this._caret.visible=!1)}createLayout(){const t=new ut;t.beginFill(Z.BACKGROUND_COLOR),t.drawRect(0,0,this.width,this.height),t.endFill(),t.beginFill(this.focused?Z.FOCUS_BORDER_COLOR:Z.BORDER_COLOR),t.drawRect(-1,0,this.width+2,-1),t.drawRect(-1,0,1,this.height),t.drawRect(this.width,0,1,this.height),t.drawRect(-1,this.height,this.width+2,1),t.endFill(),t.name="bg";const e=new ut;e.beginFill(16777215),e.drawRect(0,0,1,8),e.endFill(),this._caret=e,this._message_Gui=this.createStringWithShadow(this.text,4,(this.height-8)/2,this.active?this.editableColor:this.uneditableColor),e.position.set(R.getWidth(this.text)+4,(this.height-8)/2),e.visible=this.focused&&~~(this.focusedTicks/6)%2==0,this.container.position.set(this.x,this.y),this.container.addChild(t,e),this._message_Gui&&this.container.addChild(this._message_Gui.container)}updateLayout(t){var e;if(!!this.initialized)if(t)(e=this._message_Gui)==null||e.container.position.set(4,(this.height-8)/2),this._caret&&this._message_Gui&&this._caret.position.set(R.getWidth(this.text)+4,(this.height-8)/2);else{let i;(i=this.container.getChildByName("bg"))&&(i.clear(),i.beginFill(Z.BACKGROUND_COLOR),i.drawRect(0,0,this.width,this.height),i.endFill(),i.beginFill(this.focused?Z.FOCUS_BORDER_COLOR:Z.BORDER_COLOR),i.drawRect(-1,0,this.width+2,-1),i.drawRect(-1,0,1,this.height),i.drawRect(this.width,0,1,this.height),i.drawRect(-1,this.height,this.width+2,1),i.endFill())}}updateGuiTexts(){}getSelectedText(){const t=Math.min(this.selectionStart,this.selectionEnd),e=Math.max(this.selectionStart,this.selectionEnd);return this.text.substring(t,e)}setText(t){this.text=t.length>this.maxLength?t.substring(0,this.maxLength):t,this.onChanged(t)}getText(){return this.text}write(t){var e;this.text=(this.text+t).slice(0,this.maxLength),(e=this._message_Gui)==null||e.setText(this.text),this.updateLayout(!0)}onChanged(t){var e;this.changedListener!==null&&this.changedListener(t),(e=this._message_Gui)==null||e.setText(t),this.updateLayout(!0)}keyPressed(t,e,i){switch(e){case"Backspace":return this.erase(-1),!0}return super.keyPressed(t,e,i)}erase(t){S.hasControlDown()||this.eraseCharacters(t)}eraseCharacters(t){var e;this.text.length<0||(this.text=this.text.slice(0,-1),(e=this._message_Gui)==null||e.setText(this.text),this.updateLayout(!0))}charTyped(t){return this.write(t),!0}mouseClicked(t,e,i){const n=t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height;return this.setTextFieldFocused(n),n}setTextFieldFocused(t){this.focused=t,this.updateLayout()}static isValidChar(t){return!0}};let wt=Z;s(wt,"BORDER_COLOR",10526880),s(wt,"FOCUS_BORDER_COLOR",16777215),s(wt,"BACKGROUND_COLOR",0);class Ae extends S{constructor(t){super("Create New World");s(this,"prevScreen");s(this,"nameInput");s(this,"seedInput");this.prevScreen=t}tick(){var t,e;(t=this.nameInput)==null||t.tick(),(e=this.seedInput)==null||e.tick()}init(){this.addBackground(),this.addGuiText(this.createCenteredText(this.title,this.width/2,20,16777215));const t=this.height/4+24;this.nameInput=this.addWidget(new wt(this.width/2-100,t-48,200,20,new x(""),this.nameInput)),this.seedInput=this.addWidget(new wt(this.width/2-100,t-24,200,20,new x(""),this.seedInput)),this.addWidget(new p(this.width/2-100,t,200,20,"Flat",()=>{})).setActive(!1),this.addWidget(new p(this.width/2-100,t+24,200,20,"Void",()=>{})).setActive(!1),this.addWidget(new p(this.width/2-100,t+48,200,20,"Default (In development)",()=>{})).setActive(!1),this.addWidget(new p(this.width/2-100,t+128,200,20,f.CANCEL,()=>{this.mc.setScreen(this.prevScreen)}))}}const L=class{constructor(t,e,i,n,a){s(this,"name");s(this,"code");s(this,"modifier");s(this,"stringValue");s(this,"colorIndex");s(this,"colorValue");typeof i=="boolean"&&n===void 0?(this.name=t,this.code=e,this.modifier=i,this.colorIndex=-1,this.colorValue=null,this.stringValue="\xA7"+e):typeof i=="number"?(this.name=t,this.code=e,this.modifier=!1,this.colorIndex=i,this.colorValue=n,this.stringValue="\xA7"+e):(this.name=t,this.code=e,this.modifier=i,this.colorIndex=n,this.colorValue=a,this.stringValue="\xA7"+e)}getName(){return this.colorValue?"#"+this.colorValue:this.name}getCode(){return this.code}getColorIndex(){return this.colorIndex}isModifier(){return this.modifier}isColor(){return!this.modifier&&this!==L.RESET}getColorValue(){return this.colorValue}toString(){return this.stringValue}[Symbol.toString()](){return this.stringValue}};let w=L;s(w,"BLACK",new L("BLACK","0",0,0)),s(w,"DARK_BLUE",new L("DARK_BLUE","1",1,170)),s(w,"DARK_GREEN",new L("DARK_GREEN","2",2,43520)),s(w,"DARK_AQUA",new L("DARK_AQUA","3",3,43690)),s(w,"DARK_RED",new L("DARK_RED","4",4,11141120)),s(w,"DARK_PURPLE",new L("DARK_PURPLE","5",5,11141290)),s(w,"GOLD",new L("GOLD","6",6,16755200)),s(w,"GRAY",new L("GRAY","7",7,11184810)),s(w,"DARK_GRAY",new L("DARK_GRAY","8",8,5592405)),s(w,"BLUE",new L("BLUE","9",9,5592575)),s(w,"GREEN",new L("GREEN","a",10,5635925)),s(w,"AQUA",new L("AQUA","b",11,5636095)),s(w,"RED",new L("RED","c",12,16733525)),s(w,"LIGHT_PURPLE",new L("LIGHT_PURPLE","d",13,16733695)),s(w,"YELLOW",new L("YELLOW","e",14,16777045)),s(w,"WHITE",new L("WHITE","f",15,16777215)),s(w,"OBFUSCATED",new L("OBFUSCATED","k",!0)),s(w,"BOLD",new L("BOLD","l",!0)),s(w,"STRIKETHROUGH",new L("STRIKETHROUGH","m",!0)),s(w,"UNDERLINE",new L("UNDERLINE","n",!0)),s(w,"ITALIC",new L("ITALIC","o",!0)),s(w,"RESET",new L("RESET","r",-1,null));const Ct=class extends S{constructor(t){super();s(this,"baseSpeed");s(this,"speed");s(this,"spaceKeyPressed");s(this,"mKeyPressed");s(this,"pressedCtrlKeys");s(this,"credits");s(this,"goUp",!1);s(this,"paused",!1);s(this,"centeredLines");s(this,"creditsHeight");s(this,"time");s(this,"bg");s(this,"bgOv");s(this,"vig");s(this,"guiTexts",[]);s(this,"guiTextCont",new st);this.time=0,this.baseSpeed=t?.5:.75,this.speed=this.baseSpeed,this.spaceKeyPressed=!1,this.mKeyPressed=!1,this.creditsHeight=1/0,this.pressedCtrlKeys=new Set}getSpeed(){return this.spaceKeyPressed&&this.mKeyPressed?this.baseSpeed*(20+this.pressedCtrlKeys.size*15):this.spaceKeyPressed?this.baseSpeed*(5+this.pressedCtrlKeys.size*15):this.baseSpeed}init(){this.addBackground(),this.addVignette(),this.credits===void 0?(this.credits=[],this.centeredLines=new Set,this.load("texts/credits.json").then(h=>{var l,u;this.readCredits(h),this.creditsHeight=((u=(l=this.credits)==null?void 0:l.length)!=null?u:0)*12,this.createCreditTexts()})):(this.guiTexts=[],this.guiTextCont.removeChildren(),this.createCreditTexts());const t=new st;t.name="title";const e=this.width/2-137,i=this.height+50,n=this.mc.textures["minecraft:textures/gui/title/minecraft.png"].baseTexture;t.addChild(...zt(e,i,(h,l)=>{const u=new I(new O(n,new y(0,0,155,44))),c=new I(new O(n,new y(0,45,155,44)));return u.position.set(h,l),c.position.set(h+155,l),[u,c]}));const a=new I(new O(this.mc.textures["minecraft:textures/gui/title/edition.png"].baseTexture,new y(0,0,148,14)));a.position.set(e+88-25,i+37),t.addChild(a),this.container.addChild(t),this.container.addChild(this.guiTextCont)}createCreditTexts(){if(!this.credits)return;let t=this.width/2-137,i=this.height+50+100;for(let n=0;n<this.credits.length;n++){const a=this.createTextWithShadow(this.credits[n],t,i,16777215);this.guiTexts.push(a),this.guiTextCont.addChild(a.container),i+=12}}update(t,e,i){var a;this.time+=this.paused?0:i*this.speed*(this.goUp?-1:1);const n=-this.time;super.update(t,e,i);for(let h=0;h<this.guiTexts.length;h++)this.guiTexts[h].container.y=this.guiTexts[h].y+n,this.guiTexts[h].container.y<-20||this.guiTexts[h].container.y>this.height+30?(this.guiTexts[h].container.visible=!1,this.guiTexts[h].container.renderable=!1):(this.guiTexts[h].container.renderable=!0,this.guiTexts[h].container.visible=!0);this.container.getChildByName("title").y=n,(a=this.bg)==null||a.tilePosition.set(0,n*.5)}async load(t){return await(await fetch(t)).text()}readCredits(t){const e=JSON.parse(t);for(const i of e){this.addText(Ct.SEPARATOR_LINE,!0),this.addText(new D(i.section).formatted(w.YELLOW),!0),this.addText(Ct.SEPARATOR_LINE,!0),this.addEmptyLine(),this.addEmptyLine();for(const n of i.titles){this.addText(new D(n.title).formatted(w.GRAY));for(const a of n.names)this.addText(new D(Ct.CENTERED_LINE_PREFIX+a).formatted(w.WHITE));this.addEmptyLine(),this.addEmptyLine()}}}addText(t,e){var i,n,a,h;e&&((a=this.centeredLines)==null||a.add((n=(i=this.credits)==null?void 0:i.length)!=null?n:0)),(h=this.credits)==null||h.push(typeof t=="string"?new x(t):t)}addEmptyLine(){var t;(t=this.credits)==null||t.push(new x(""))}keyPressed(t,e,i){return e==="KeyP"&&S.hasControlDown()&&S.hasAltDown()?this.paused=!0:e==="ControlLeft"||e==="ControlRight"?this.pressedCtrlKeys.add(e):e==="Space"?this.spaceKeyPressed=!0:e==="KeyM"&&(this.mKeyPressed=!0),e==="KeyB"&&S.hasControlDown()&&(this.goUp=!0),this.speed=this.getSpeed(),super.keyPressed(t,e,i)}keyReleased(t,e,i){return e==="KeyP"&&S.hasControlDown()&&S.hasAltDown()?this.paused=!1:e==="Space"?this.spaceKeyPressed=!1:e==="ControlLeft"||e==="ControlRight"?this.pressedCtrlKeys.delete(e):e==="KeyM"&&(this.mKeyPressed=!1),e==="KeyB"&&S.hasControlDown()&&S.hasAltDown()&&(this.goUp=!1),this.speed=this.getSpeed(),super.keyReleased(t,e,i)}addBackground(){var e;const t=(e=this.mc)==null?void 0:e.textures.background;t&&(this.bg=new ae(t,this.width,this.height),this.bg.tileScale.set(3,3),this.bgOv=new ut,this.bgOv.beginFill(0,.82),this.bgOv.drawRect(0,0,this.width,this.height),this.bgOv.endFill(),this.container.addChild(this.bg,this.bgOv))}addVignette(){var e;const t=(e=this.mc)==null?void 0:e.textures.vignette;if(t){this.container.sortableChildren=!0,this.vig=new Te(t,128,128,128,128),this.vig.width=this.width,this.vig.height=this.height;const i=new Se.ColorMatrixFilter;i.negative(!0),i.blendMode=2,this.vig.zIndex=10,this.vig.filters=[i],this.container.addChild(this.vig)}}tick(){let t=this.creditsHeight+this.height+this.height+24;this.time>t&&this.mc.setScreen(null)}};let Dt=Ct;s(Dt,"SEPARATOR_LINE",new D("============").formatted(w.WHITE)),s(Dt,"CENTERED_LINE_PREFIX","           ");class nt extends S{constructor(t,e){super(e);s(this,"prevScreen");this.prevScreen=t}init(){this.addBackground()}onClose(){var t;(t=this.mc)==null||t.setScreen(this.prevScreen)}}class lt{static of(t,e,i){if(e&&i){const n=[...e],a=[...i];return new class extends lt{getCurrent(){return t()?a:n}getDefaults(){return n}}}else{const n=[...t];return new class extends lt{getCurrent(){return n}getDefaults(){return n}}}}}class Ht{constructor(t){s(this,"initialIndex");s(this,"value");s(this,"valueToText");s(this,"_values",lt.of([]));s(this,"optionTextOmitted");this.valueToText=t,this.value=null,this.initialIndex=0,this.optionTextOmitted=!1}values(t,e,i){return i?this._values=lt.of(t,e,i):e?this._values=lt.of(()=>!1,t,e):this._values=lt.of(t),this}initially(t){this.value=t;const e=this._values.getDefaults().indexOf(t);return e!=-1&&(this.initialIndex=e),this}omitKeyText(){return this.optionTextOmitted=!0,this}build(t,e,i,n,a,h=(l,u)=>{}){const l=this._values.getDefaults(),u=this.value!=null?this.value:l[this.initialIndex],c=this.valueToText(u),g=this.optionTextOmitted?c:f.composeGenericOptionText(a,c);return new It(t,e,i,n,g,a,this.initialIndex,u,this._values,this.valueToText,h,this.optionTextOmitted)}}const At=class extends re{constructor(t,e,i,n,a,h,l,u,c,g,T,v){super(t,e,i,n,a);s(this,"optionText");s(this,"index");s(this,"value");s(this,"values");s(this,"valueToText");s(this,"onValueChangeCallback");s(this,"optionTextOmitted");this.optionText=h,this.index=l,this.value=u,this.values=c,this.valueToText=g,this.onValueChangeCallback=T,this.optionTextOmitted=v}onPress(){this.cycle(1)}cycle(t){const e=this.values.getCurrent();this.index=Math.floor((this.index+t)%e.length);const i=e[this.index];this.internalSetValue(i),this.onValueChangeCallback(this,i)}getValue(t){if(t!==void 0){const e=this.values.getCurrent();return e[Math.floor((this.index+t)%e.length)]}else return this.value}internalSetValue(t){const e=this.composeText(t);this.setMessage(e),this.value=t}composeText(t){return this.optionTextOmitted?this.valueToText(t):this.composeGenericOptionText(t)}composeGenericOptionText(t){return f.composeGenericOptionText(this.optionText,this.valueToText(t))}static builder(t){return new Ht(t)}static onOffBuilder(t,e){return t&&e?new Ht(i=>i!==!1?t:e).values(At.BOOLEAN_VALUES):typeof t=="boolean"?At.onOffBuilder().initially(t):new Ht(i=>i!==!1?f.ON:f.OFF).values(At.BOOLEAN_VALUES)}};let It=At;s(It,"BOOLEAN_VALUES",[!0,!1]);class he{constructor(t){s(this,"key");this.key=new o(t)}getDisplayPrefix(){return this.key}getPixelLabel(t){return new o("options.pixel_value",this.getDisplayPrefix(),t)}getPercentLabel(t){return new o("options.percent_value",this.getDisplayPrefix(),~~(t*100))}getPercentAdditionLabel(t){return new o("options.percent_add_value",this.getDisplayPrefix(),t)}getGenericLabel(t){return typeof t=="number"&&this.getGenericLabel(new D(t.toString())),new o("options.generic_value",this.getDisplayPrefix(),t)}}class m extends he{constructor(t,e,i,n){super(t);s(this,"getter");s(this,"setter");s(this,"buttonBuilderFactory");this.getter=e,this.setter=i,this.buttonBuilderFactory=n}static createFromEnum(t,e,i,n,a){return new m(t,n,a,()=>It.builder(i).values(e))}static create(t,e,i){return new m(t,e,i,It.onOffBuilder)}createButton(t,e,i,n){return this.buttonBuilderFactory().initially(this.getter(t)).build(e,i,n,20,this.getDisplayPrefix(),(a,h)=>{this.setter(t,this,h),t.save()})}}class be extends N{constructor(t,e,i,n,a,h){super(t,e,i,n,typeof a=="string"?new x(a):a);s(this,"value");this.value=h}createLayout(){const t=W.getInstance(),e=this.getUY(this.isHovered()),i=this.createSprite(t.textures[N.WIDGETS_TEXTURE.getFullPath()].baseTexture,0,0,0,46+0*20,this.width/2,20),n=this.createSprite(t.textures[N.WIDGETS_TEXTURE.getFullPath()].baseTexture,this.width/2,0,200-this.width/2,46+0*20,this.width/2,20);i.name="bgL",n.name="bgR";const a=this.createSprite(t.textures[N.WIDGETS_TEXTURE.getFullPath()].baseTexture,~~(this.value*(this.width-8)),0,0,46+e*20,4,20),h=this.createSprite(t.textures[N.WIDGETS_TEXTURE.getFullPath()].baseTexture,~~(this.value*(this.width-8))+4,0,200-4,46+e*20,4,20);a.name="TbgL",h.name="TbgR",this._message_Gui=this.createCenteredText(this.message,this.width/2,(this.height-8)/2,this.active?N.activeColor:N.lockedColor),this.container.position.set(this.x,this.y),this.container.addChild(i,n,a,h,this._message_Gui.container)}updateLayout(t){var e;if(!!this.initialized)if(t)(e=this._message_Gui)==null||e.container.position.set(this.width/2-R.getWidth(this.getMessage())/2,(this.height-8)/2);else{const i=this.getUY(this.isHovered());this.container.getChildByName("bgL").texture.frame=new y(0,46+0*20,this.width/2,20),this.container.getChildByName("bgR").texture.frame=new y(200-this.width/2,46+0*20,this.width/2,20),this.container.getChildByName("TbgL").texture.frame=new y(0,46+i*20,4,20),this.container.getChildByName("TbgR").texture.frame=new y(200-4,46+i*20,4,20),this.container.getChildByName("TbgL").position.set(~~(this.value*(this.width-8)),0),this.container.getChildByName("TbgR").position.set(~~(this.value*(this.width-8))+4,0)}}onClick(t,e){this.setValueFromMouse(t)}keyPressed(t,e,i){const n=e==="ArrowLeft";if(n||e==="ArrowRight"){const a=n?-1:1;this.setValue(this.value+a/(this.width-8))}return!1}onDrag(t,e,i,n){this.setValueFromMouse(t),super.onDrag(t,e,i,n)}setValueFromMouse(t){this.setValue((t-(this.x+4))/(this.width-8))}setValue(t){const e=this.value;this.value=Math.min(1,Math.max(t,0)),e!==this.value&&this.applyValue(),this.updateMessage(),this.updateLayout()}}class oe extends be{constructor(t,e,i,n,a,h){super(e,i,n,a,new D(""),h);s(this,"options");this.options=t}}class Oe extends oe{constructor(t,e,i,n,a,h){super(t,e,i,n,a,h.getRatio(h.get(t)));s(this,"option");this.option=h,this.updateMessage()}applyValue(){this.option.set(this.options,this.option.getValue(this.value)),this.options.save()}updateMessage(){this.setMessage(this.option.getDisplayString(this.options))}}const Ie=(d,t,e)=>t+d*(e-t);class E extends he{constructor(t,e,i,n,a,h,l){super(t);s(this,"step");s(this,"min");s(this,"max");s(this,"getter");s(this,"setter");s(this,"displayStringGetter");this.min=e,this.max=i,this.step=n,this.getter=a,this.setter=h,this.displayStringGetter=l}createButton(t,e,i,n){return new Oe(t,e,i,n,20,this)}getRatio(t){return Math.min(1,Math.max(0,(this.adjust(t)-this.min)/(this.max-this.min)))}getValue(t){return this.adjust(Ie(Math.min(Math.max(t,0),1),this.min,this.max))}adjust(t){return this.step>0&&(t=this.step*Math.round(t/this.step)),Math.min(this.max,Math.max(t,this.min))}getMin(){return this.min}getMax(){return this.max}setMax(t){this.max=t}set(t,e){this.setter(t,e)}get(t){return this.getter(t)}getDisplayString(t){return this.displayStringGetter(t,this)}}class r{}s(r,"BIOME_BLEND_RADIUS",new E("options.biomeBlendRadius",0,7,1,t=>t.biomeBlendRadius,(t,e)=>{t.biomeBlendRadius=$.clamp(e,0,7)},(t,e)=>{const n=~~e.get(t)*2+1;return e.getGenericLabel(new o("options.biomeBlendRadius."+n))})),s(r,"CHAT_HEIGHT_FOCUSED",new E("options.chat.height.focused",0,1,0,t=>t.chatHeightFocused,(t,e)=>{t.chatHeightFocused=e},(t,e)=>{const i=e.getRatio(e.get(t));return e.getPixelLabel(Math.floor(i*160+20))})),s(r,"SATURATION",new E("options.chat.height.unfocused",0,1,0,t=>t.chatHeightUnfocused,(t,e)=>{t.chatHeightUnfocused=e},(t,e)=>{const i=e.getRatio(e.get(t));return e.getPixelLabel(Math.floor(i*160+20))})),s(r,"CHAT_OPACITY",new E("options.chat.opacity",0,1,0,t=>t.chatOpacity,(t,e)=>{t.chatOpacity=e},(t,e)=>{const i=e.getRatio(e.get(t));return e.getPercentLabel(i*.9+.1)})),s(r,"CHAT_SCALE",new E("options.chat.scale",0,1,0,t=>t.chatScale,(t,e)=>{t.chatScale=e},(t,e)=>{const i=e.getRatio(e.get(t));return i===0?f.composeToggleText(e.getDisplayPrefix(),!1):e.getPercentLabel(i)})),s(r,"CHAT_WIDTH",new E("options.chat.width",0,1,0,t=>t.chatWidth,(t,e)=>{t.chatWidth=e},(t,e)=>{const i=e.getRatio(e.get(t));return e.getPixelLabel(Math.floor(i*280+40))})),s(r,"CHAT_LINE_SPACING",new E("options.chat.line_spacing",0,1,0,t=>t.chatLineSpacing,(t,e)=>{t.chatLineSpacing=e},(t,e)=>e.getPercentLabel(e.getRatio(e.get(t))))),s(r,"CHAT_DELAY_INSTANT",new E("options.chat.delay_instant",0,6,.1,t=>t.chatDelay,(t,e)=>{t.chatDelay=e},(t,e)=>{const i=e.get(t);return i<=0?new o("options.chat.delay_none"):new o("options.chat.delay",i)})),s(r,"FOV",new E("options.fov",30,110,1,t=>t.fov,(t,e)=>{t.fov=e},(t,e)=>{const i=e.get(t);return i===70?e.getGenericLabel(new o("options.fov.min")):i===e.getMax()?e.getGenericLabel(new o("options.fov.max")):e.getGenericLabel(~~i)})),s(r,"FOV_EFFECT_SCALE",new E("options.fovEffectScale",0,1,0,t=>Math.pow(t.fovEffectScale,2),(t,e)=>{t.fovEffectScale=Math.sqrt(e)},(t,e)=>{const i=e.getRatio(e.get(t));return i===0?e.getGenericLabel(f.OFF):e.getPercentLabel(i)})),s(r,"DISTORTION_EFFECT_SCALE",new E("options.screenEffectScale",0,1,0,t=>t.distortionEffectScale,(t,e)=>{t.distortionEffectScale=e},(t,e)=>{const i=e.getRatio(e.get(t));return i===0?e.getGenericLabel(f.OFF):e.getPercentLabel(i)})),s(r,"FRAMERATE_LIMIT",new E("options.framerateLimit",10,260,10,t=>t.maxFps,(t,e)=>{t.maxFps=~~e},(t,e)=>{const i=e.get(t);return i===e.getMax()?e.getGenericLabel(new o("options.framerateLimit.max")):e.getGenericLabel(new o("options.framerate",~~i))})),s(r,"GAMMA",new E("options.gamma",0,1,0,t=>t.gamma,(t,e)=>{t.gamma=e},(t,e)=>{const n=~~(e.getRatio(e.get(t))*100);return n===0?e.getGenericLabel(new o("options.gamma.min")):n===50?e.getGenericLabel(new o("options.gamma.default")):n===100?e.getGenericLabel(new o("options.gamma.max")):e.getGenericLabel(n)})),s(r,"MIPMAP_LEVELS",new E("options.mipmapLevels",0,4,1,t=>t.mipmapLevels,(t,e)=>{t.mipmapLevels=~~e},(t,e)=>{const i=e.get(t);return i===0?f.composeToggleText(e.getDisplayPrefix(),!1):e.getGenericLabel(~~i)})),s(r,"MOUSE_WHEEL_SENSITIVITY",new E("options.mouseWheelSensitivity",.01,10,.01,t=>t.mouseWheelSensitivity,(t,e)=>{t.mouseWheelSensitivity=e},(t,e)=>{const i=e.getRatio(e.get(t));return e.getGenericLabel(new D(e.getValue(i).toFixed(2)))})),s(r,"RAW_MOUSE_INPUT",m.create("options.rawMouseInput",t=>t.rawMouseInput,(t,e,i)=>{t.rawMouseInput=i})),s(r,"RENDER_DISTANCE",new E("options.renderDistance",2,16,1,t=>t.viewDistance,(t,e)=>{t.viewDistance=~~e},(t,e)=>{const i=e.get(t);return e.getGenericLabel(new o("options.chunks",~~i))})),s(r,"SIMULATION_DISTANCE",new E("options.simulationDistance",5,16,1,t=>t.simulationDistance,(t,e)=>{t.simulationDistance=~~e},(t,e)=>{const i=e.get(t);return e.getGenericLabel(new o("options.chunks",~~i))})),s(r,"ENTITY_DISTANCE_SCALING",new E("options.entityDistanceScaling",.5,5,.25,t=>t.entityDistanceScaling,(t,e)=>{t.entityDistanceScaling=e},(t,e)=>{const i=e.get(t);return e.getPercentLabel(i)})),s(r,"SENSITIVITY",new E("options.sensitivity",0,1,0,t=>t.mouseSensitivity,(t,e)=>{t.mouseSensitivity=e},(t,e)=>{const i=e.getRatio(e.get(t));return i===0?e.getGenericLabel(new o("options.sensitivity.min")):i===1?e.getGenericLabel(new o("options.sensitivity.max")):e.getPercentLabel(2*i)})),s(r,"TEXT_BACKGROUND_OPACITY",new E("options.accessibility.text_background_opacity",0,1,0,t=>t.textBackgroundOpacity,(t,e)=>{t.textBackgroundOpacity=e},(t,e)=>e.getPercentLabel(e.getRatio(e.get(t))))),s(r,"AO",m.createFromEnum("options.ao",G.values(),t=>new o(t.getTranslationKey()),t=>t.ao,(t,e,i)=>{t.ao=i})),s(r,"ATTACK_INDICATOR",m.createFromEnum("options.attackIndicator",tt.values(),t=>new o(t.getTranslationKey()),t=>t.attackIndicator,(t,e,i)=>{t.attackIndicator=i})),s(r,"VISIBILITY",m.createFromEnum("options.chat.visibility",et.values(),t=>new o(t.getTranslationKey()),t=>t.chatVisibility,(t,e,i)=>{t.chatVisibility=i})),s(r,"NARRATOR",m.createFromEnum("options.narrator",J.values(),t=>new o("options.narrator.notavailable"),t=>t.narrator,(t,e,i)=>{t.narrator=i})),s(r,"PARTICLES",m.createFromEnum("options.particles",it.values(),t=>new o(t.getTranslationKey()),t=>t.particles,(t,e,i)=>{t.particles=i})),s(r,"CLOUDS",m.createFromEnum("options.renderClouds",P.values(),t=>new o(t.getTranslationKey()),t=>t.cloudRenderMode,(t,e,i)=>{t.cloudRenderMode=i})),s(r,"AUTO_JUMP",m.create("options.autoJump",t=>t.autoJump,(t,e,i)=>{t.autoJump=i})),s(r,"AUTO_SUGGESTIONS",m.create("options.autoSuggestCommands",t=>t.autoSuggestions,(t,e,i)=>{t.autoSuggestions=i})),s(r,"CHAT_COLOR",m.create("options.chat.color",t=>t.chatColors,(t,e,i)=>{t.chatColors=i})),s(r,"HIDE_MATCHED_NAMES",m.create("options.hideMatchedNames",t=>t.hideMatchedNames,(t,e,i)=>{t.hideMatchedNames=i})),s(r,"CHAT_LINKS",m.create("options.chat.links",t=>t.chatLinks,(t,e,i)=>{t.chatLinks=i})),s(r,"CHAT_LINKS_PROMPT",m.create("options.chat.links.prompt",t=>t.chatLinksPrompt,(t,e,i)=>{t.chatLinksPrompt=i})),s(r,"DISCRETE_MOUSE_SCROLL",m.create("options.discrete_mouse_scroll",t=>t.discreteMouseScroll,(t,e,i)=>{t.discreteMouseScroll=i})),s(r,"VSYNC",m.create("options.vsync",t=>t.enableVsync,(t,e,i)=>{t.enableVsync=i})),s(r,"ENTITY_SHADOWS",m.create("options.entityShadows",t=>t.entityShadows,(t,e,i)=>{t.entityShadows=i})),s(r,"FORCE_UNICODE_FONT",m.create("options.forceUnicodeFont",t=>t.forceUnicodeFont,(t,e,i)=>{t.forceUnicodeFont=i})),s(r,"INVERT_MOUSE",m.create("options.invertMouse",t=>t.invertYMouse,(t,e,i)=>{t.invertYMouse=i})),s(r,"REALMS_NOTIFICATIONS",m.create("options.realmsNotifications",t=>t.realmsNotifications,(t,e,i)=>{t.realmsNotifications=i})),s(r,"ALLOW_SERVER_LISTING",m.create("options.allowServerListing",t=>t.allowServerListing,(t,e,i)=>{t.allowServerListing=i})),s(r,"REDUCED_DEBUG_INFO",m.create("options.reducedDebugInfo",t=>t.reducedDebugInfo,(t,e,i)=>{t.reducedDebugInfo=i})),s(r,"SUBTITLES",m.create("options.showSubtitles",t=>t.showSubtitles,(t,e,i)=>{t.showSubtitles=i})),s(r,"TOUCHSCREEN",m.create("options.touchscreen",t=>t.touchscreen,(t,e,i)=>{t.touchscreen=i})),s(r,"FULLSCREEN",m.create("options.fullscreen",t=>t.fullscreen,(t,e,i)=>{t.fullscreen=i})),s(r,"VIEW_BOBBING",m.create("options.viewBobbing",t=>t.bobView,(t,e,i)=>{t.bobView=i})),s(r,"MONOCHROME_LOGO",m.create("options.darkMojangStudiosBackgroundColor",t=>t.monochromeLogo,(t,e,i)=>{t.monochromeLogo=i})),s(r,"HIDE_LIGHTNING_FLASHES",m.create("options.hideLightningFlashes",t=>t.hideLightningFlashes,(t,e,i)=>{t.hideLightningFlashes=i})),s(r,"SHOW_AUTOSAVE_INDICATOR",m.create("options.autosaveIndicator",t=>t.showAutosaveIndicator,(t,e,i)=>{t.showAutosaveIndicator=i}));const bt=class extends nt{constructor(t){super(t,new o("options.accessibility.title"));s(this,"_title_Gui")}init(){super.init();for(let t=0;t<bt.OPTIONS.length;t++)this.addWidget(bt.OPTIONS[t].createButton(this.mc.gameOptions,this.width/2-155+160*(t%2),34+~~(t/2)*24,150));this.addWidget(new p(this.width/2-155,this.height-27,150,20,new o("options.accessibility.link"),()=>{this.openURL(bt.GUIDE_URL)})).setActive(!0),this.addWidget(new p(this.width/2+5,this.height-27,150,20,f.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}};let yt=bt;s(yt,"GUIDE_URL","https://aka.ms/MinecraftJavaAccessibility"),s(yt,"OPTIONS",[r.NARRATOR,r.SUBTITLES,r.TEXT_BACKGROUND_OPACITY,r.CHAT_OPACITY,r.CHAT_LINE_SPACING,r.CHAT_DELAY_INSTANT,r.AUTO_JUMP,r.DISTORTION_EFFECT_SCALE,r.FOV_EFFECT_SCALE,r.MONOCHROME_LOGO,r.HIDE_LIGHTNING_FLASHES]);const Pt=class extends nt{constructor(t){super(t,new o("options.chat.title"));s(this,"_title_Gui")}init(){super.init();for(let t=0;t<Pt.OPTIONS.length;t++)this.addWidget(Pt.OPTIONS[t].createButton(this.mc.gameOptions,this.width/2-155+160*(t%2),34+~~(t/2)*24,150));this.addWidget(new p(this.width/2-100,this.height-27,200,20,f.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}};let Yt=Pt;s(Yt,"OPTIONS",[r.VISIBILITY,r.CHAT_COLOR,r.CHAT_LINKS,r.CHAT_LINKS_PROMPT,r.CHAT_OPACITY,r.TEXT_BACKGROUND_OPACITY,r.CHAT_SCALE,r.CHAT_LINE_SPACING,r.CHAT_DELAY_INSTANT,r.CHAT_WIDTH,r.CHAT_HEIGHT_FOCUSED,r.SATURATION,r.NARRATOR,r.AUTO_SUGGESTIONS,r.HIDE_MATCHED_NAMES,r.REDUCED_DEBUG_INFO]);class Re extends nt{constructor(t){super(t,new o("controls.title"));s(this,"_title_Gui")}init(){super.init();let t=this.width/2-155,e=t+160,i=this.height/6-12;this.addWidget(new p(t,i,150,20,new o("options.mouse_settings"),n=>{})),this.addWidget(new p(e,i,150,20,new o("controls.keybinds"),n=>{})),this.addWidget(r.AUTO_JUMP.createButton(this.mc.gameOptions,t,i+=24,150)),i+=24,this.addWidget(new p(this.width/2-100,this.height-29,200,20,f.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,15,16777215),this.container.addChild(this._title_Gui.container)}}class De extends nt{constructor(t){super(t,new o("options.language"));s(this,"_title_Gui");s(this,"lang")}init(){super.init(),this.lang=this.mc.languageManager.getLanguage();const t=Array.from(this.mc.languageManager.getAllLanguages().values());let e=this.width/2-155,i=40;const n=[];for(let a=0;a<t.length;a++)n.push(this.addWidget(new p(e+160*(a%2),i+~~(a/2)*24,150,20,new D(t[a].toString()),h=>{this.lang=t[a],n.forEach((l,u)=>{l.setActive(this.lang.getCode()!==t[u].getCode())})}))),n[a].setActive(this.lang.getCode()!==t[a].getCode());this.addWidget(r.FORCE_UNICODE_FONT.createButton(this.mc.gameOptions,this.width/2-155,this.height-38,150)),this.addWidget(new p(this.width/2-155+160,this.height-38,150,20,f.DONE,()=>{var a;((a=this.lang)==null?void 0:a.getCode())!==this.mc.languageManager.getLanguage().getCode()&&(this.mc.languageManager.setLanguage(this.lang),this.mc.gameOptions.language=this.lang.getCode(),this.mc.reloadResources(),this.mc.gameOptions.save()),setTimeout(()=>this.mc.setScreen(this.prevScreen),0)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,16,16777215),this.container.addChild(this._title_Gui.container)}}const Bt=class extends nt{constructor(t){super(t,new o("options.online.title"));s(this,"_title_Gui")}init(){super.init();for(let t=0;t<Bt.OPTIONS.length;t++)this.addWidget(Bt.OPTIONS[t].createButton(this.mc.gameOptions,this.width/2-155+160*(t%2),34+~~(t/2)*24,150));this.addWidget(new p(this.width/2-100,this.height-27,200,20,f.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}};let Xt=Bt;s(Xt,"OPTIONS",[r.REALMS_NOTIFICATIONS,r.ALLOW_SERVER_LISTING]);class Fe extends nt{constructor(t){super(t,new o("options.skinCustomisation.title"));s(this,"_title_Gui")}init(){super.init(),this.addWidget(new p(this.width/2-100,this.height/6,200,20,f.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}}class se extends oe{constructor(t,e,i,n,a){super(t.gameOptions,e,i,a,20,t.gameOptions.getSoundVolume(n));s(this,"category");this.category=n,this.updateMessage()}updateMessage(){const t=this.value===0?f.OFF:new D(~~(this.value*100)+"%");this.setMessage(new o("soundCategory."+this.category.getName()).append(": ").append(t))}applyValue(){this.options.setSoundVolume(this.category,this.value),this.options.save()}}class Ne extends nt{constructor(t){super(t,new o("options.sounds.title"));s(this,"_title_Gui")}init(){super.init();let t=this.height/6-12,e=0;this.addWidget(new se(this.mc,this.width/2-155+e%2*160,t+22*(e>>1),A.MASTER,310)),e+=2;for(const i of A.values())i!=A.MASTER&&(this.addWidget(new se(this.mc,this.width/2-155+e%2*160,t+22*(e>>1),i,150)),++e);e%2==1&&++e,this.addWidget(r.SUBTITLES.createButton(this.mc.gameOptions,this.width/2-75,t+22*((e+=2)>>1),150)),this.addWidget(new p(this.width/2-100,t+22*((e+=2)>>1),200,20,f.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,15,16777215),this.container.addChild(this._title_Gui.container)}}const Wt=class extends nt{constructor(t){super(t,new o("options.videoTitle"));s(this,"_title_Gui")}init(){super.init();for(let t=0;t<Wt.OPTIONS.length;t++)this.addWidget(Wt.OPTIONS[t].createButton(this.mc.gameOptions,this.width/2-155+160*(t%2),34+~~(t/2)*24,150));this.addWidget(new p(this.width/2-100,this.height-27,200,20,f.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,5,16777215),this.container.addChild(this._title_Gui.container)}};let jt=Wt;s(jt,"OPTIONS",[r.RENDER_DISTANCE,r.SIMULATION_DISTANCE,r.AO,r.FRAMERATE_LIMIT,r.VSYNC,r.VIEW_BOBBING,r.ATTACK_INDICATOR,r.GAMMA,r.CLOUDS,r.FULLSCREEN,r.PARTICLES,r.MIPMAP_LEVELS,r.ENTITY_SHADOWS,r.DISTORTION_EFFECT_SCALE,r.ENTITY_DISTANCE_SCALING,r.FOV_EFFECT_SCALE,r.SHOW_AUTOSAVE_INDICATOR]);class ke extends S{constructor(t){super(new o("options.title"));s(this,"prevScreen");this.prevScreen=t}init(){super.init(),this.addBackground();const t=this.width/2-155,e=this.height/6+48-6;this.addWidget(r.FOV.createButton(this.mc.gameOptions,t,this.height/6-12,150)),this.addWidget(new p(t+160,this.height/6-12,150,20,new o("options.online"),()=>{this.mc.setScreen(new Xt(this))})),this.addWidget(new p(t,e,150,20,new o("options.skinCustomisation"),()=>{this.mc.setScreen(new Fe(this))})),this.addWidget(new p(t+160,e,150,20,new o("options.sounds"),()=>{this.mc.setScreen(new Ne(this))})),this.addWidget(new p(t,e+24,150,20,new o("options.video"),()=>{this.mc.setScreen(new jt(this))})),this.addWidget(new p(t+160,e+24,150,20,new o("options.controls"),()=>{this.mc.setScreen(new Re(this))})),this.addWidget(new p(t,e+48,150,20,new o("options.language"),()=>{this.mc.setScreen(new De(this))})),this.addWidget(new p(t+160,e+48,150,20,new o("options.chat.title"),()=>{this.mc.setScreen(new Yt(this))})),this.addWidget(new p(t,e+72,150,20,new o("options.resourcepack"),()=>{})).setActive(!1),this.addWidget(new p(t+160,e+72,150,20,new o("options.accessibility.title"),()=>{this.mc.setScreen(new yt(this))})),this.addWidget(new p(t+55,e+72+48+6,200,20,f.DONE,()=>{this.mc.setScreen(this.prevScreen)}))}}class ne extends p{constructor(t,e,i,n,a,h,l,u,c,g){super(t,e,i,n,c,g);s(this,"texture");s(this,"u");s(this,"v");s(this,"hoveredVOffset");this.texture=u,this.u=a,this.v=h,this.hoveredVOffset=l}createLayout(){const t=W.getInstance(),e=this.createSprite(t.textures[this.texture.getFullPath()].baseTexture,0,0,this.u,this.v+(this.isHovered()?this.hoveredVOffset:0),this.width,this.height);e.name="bg",this.container.position.set(this.x,this.y),this.container.addChild(e)}updateLayout(){!this.initialized||(this.container.getChildByName("bg").texture.frame=new y(this.u,this.v+(this.isHovered()?this.hoveredVOffset:0),this.width,this.height))}}function zt(d,t,e){let i=[];return i.push(...e(d-1,t).map(n=>(n.tint=0,n))),i.push(...e(d+1,t).map(n=>(n.tint=0,n))),i.push(...e(d,t-1).map(n=>(n.tint=0,n))),i.push(...e(d,t+1).map(n=>(n.tint=0,n))),i.push(...e(d,t)),i}const Ot=class extends S{constructor(){super();s(this,"isMinceraft");s(this,"splashText");s(this,"copyrightTextWidth");s(this,"copyrightTextX");s(this,"copyUnderline");s(this,"splashTextScale");s(this,"_splash");s(this,"panoramaBox");s(this,"panoramaTime",0);this.splashText="",this.splashTextScale=1,this.isMinceraft=Math.random()<1e-4,this.copyrightTextWidth=0,this.copyrightTextX=0}onClose(){this.panoramaBox&&(this.mc.scene.remove(this.panoramaBox),this.panoramaBox=void 0)}init(){if(this.splashText===""&&(this.splashText=this.mc.getSplashTextLoader().get()),!this.panoramaBox){this.mc.cameraOrtho.updateProjectionMatrix(),this.mc.cameraOrtho.position.set(0,0,0),this.mc.cameraOrtho.rotation.set(0,0,0);const u=new Le(1e3,1e3,1e3),c=new dt(this.mc.textures["minecraft:textures/gui/title/background/panorama_0.png"].baseTexture.resource.source);c.needsUpdate=!0;const g=new dt(this.mc.textures["minecraft:textures/gui/title/background/panorama_1.png"].baseTexture.resource.source);g.needsUpdate=!0;const T=new dt(this.mc.textures["minecraft:textures/gui/title/background/panorama_2.png"].baseTexture.resource.source);T.needsUpdate=!0;const v=new dt(this.mc.textures["minecraft:textures/gui/title/background/panorama_3.png"].baseTexture.resource.source);v.needsUpdate=!0;const b=new dt(this.mc.textures["minecraft:textures/gui/title/background/panorama_4.png"].baseTexture.resource.source);b.needsUpdate=!0;const C=new dt(this.mc.textures["minecraft:textures/gui/title/background/panorama_5.png"].baseTexture.resource.source);C.needsUpdate=!0;const B=[new gt({map:g,transparent:!0,side:pt}),new gt({map:v,transparent:!0,side:pt}),new gt({map:b,transparent:!0,side:pt}),new gt({map:C,transparent:!0,side:pt}),new gt({map:c,transparent:!0,side:pt}),new gt({map:T,transparent:!0,side:pt})],F=new xe(u,B);F.onBeforeRender=()=>{this.panoramaTime+=.01,F.rotation.y=Math.PI+this.panoramaTime*.01,F.rotation.z=Math.sin(-this.panoramaTime*.001)*.001},this.panoramaBox=F}this.mc.scene.add(this.panoramaBox),this.copyrightTextWidth=R.getWidth(Ot.COPYRIGHT),this.copyrightTextX=this.width-this.copyrightTextWidth-2;const t=this.width/2-100,e=this.height/4+48,i=this.width/2-137,n=30,a=this.mc.textures["minecraft:textures/gui/title/minecraft.png"].baseTexture,h=new I(new O(this.mc.textures["minecraft:textures/gui/title/edition.png"].baseTexture,new y(0,0,148,14)));h.position.set(i+88-25,67),this.isMinceraft?this.container.addChild(...zt(i,n,(u,c)=>{const g=new I(new O(a,new y(0,0,99,44))),T=new I(new O(a,new y(129,0,27,44))),v=new I(new O(a,new y(126,0,3,44))),b=new I(new O(a,new y(99,0,26,44))),C=new I(new O(a,new y(0,45,155,44)));return g.position.set(u,c),T.position.set(u+99,c),v.position.set(u+99+26,c),b.position.set(u+99+26+3,c),C.position.set(u+155,c),[g,T,v,b,C]})):this.container.addChild(...zt(i,n,(u,c)=>{const g=new I(new O(a,new y(0,0,155,44))),T=new I(new O(a,new y(0,45,155,44)));return g.position.set(u,c),T.position.set(u+155,c),[g,T]})),this.container.addChild(h),this.addWidget(new p(t,e,200,20,new o("menu.singleplayer"),()=>{this.mc.setScreen(new Ae(this))})),this.addWidget(new p(t,e+24,200,20,new o("menu.multiplayer"),()=>{})).setActive(!1),this.addWidget(new p(t,e+48,200,20,new o("menu.online"),()=>{})).setActive(!1),this.addWidget(new ne(t-24,e+72+12,20,20,0,106,20,N.WIDGETS_TEXTURE,new D(""),()=>{this.mc.gameOptions.guiScale===1?(this.mc.updateGuiScale(2),this.mc.gameOptions.save()):this.mc.gameOptions.guiScale===2?(this.mc.updateGuiScale(3),this.mc.gameOptions.save()):this.mc.gameOptions.guiScale===3?(this.mc.updateGuiScale(4),this.mc.gameOptions.save()):(this.mc.updateGuiScale(1),this.mc.gameOptions.save())})),this.addWidget(new p(t,e+72+12,98,20,new o("menu.options"),()=>{this.mc.setScreen(new ke(this))})),this.addWidget(new p(t+102,e+72+12,98,20,new o("menu.quit"),()=>{})).setActive(!1),this.addWidget(new ne(t+204,e+72+12,20,20,0,0,20,Ot.ACCESSIBILITY_ICON_TEXTURE,new D(""),()=>{this.mc.setScreen(new yt(this))})),this.addGuiText(this.createTextWithShadow(new D("Made by KM. Not official if somehow you couldn't figure that out on your own.").formatted(w.DARK_GRAY),2,2,16777215)),this.addGuiText(this.createStringWithShadow("Minecraft JS v0.0.1-a",2,this.height-10,16777215)),this.addGuiText(this.createStringWithShadow(Ot.COPYRIGHT,this.copyrightTextX,this.height-10,16777215)),this.copyUnderline=new ut,this.copyUnderline.beginFill(16777215),this.copyUnderline.drawRect(0,0,this.copyrightTextWidth,1),this.copyUnderline.endFill(),this.copyUnderline.position.set(this.copyrightTextX,this.height-1),this.copyUnderline.visible=!1,this.container.addChild(this.copyUnderline);const l=1.8-Math.abs(Math.sin(Date.now()%1e3/1e3*6.2831855)*.1);this.splashTextScale=l*100/(R.getWidth(this.splashText)*1.15+32),this._splash=this.addGuiText(this.createTextWithShadow(new x(this.splashText.substring(0,Math.floor(this.splashText.length/2))).formatted(w.YELLOW).append(new x(this.splashText.substring(Math.floor(this.splashText.length/2))).formatted(w.BLUE)),this.width/2+90,62,16776960)),this._splash.container.pivot.x=this._splash.container.width/2,this._splash.container.pivot.y=this._splash.container.height/2,this._splash.container.rotation=-20*Math.PI/180,this._splash.container.scale.set(this.splashTextScale,this.splashTextScale)}mouseClicked(t,e,i){return super.mouseClicked(t,e,i)?!0:t>this.copyrightTextX&&t<this.copyrightTextX+this.copyrightTextWidth&&e>this.height-10&&e<this.height?(this.mc.setScreen(new Dt(!1)),!0):!1}update(t,e,i){super.update(t,e,i);const n=1.8-Math.abs(Math.sin(Date.now()%1e3/1e3*6.2831855)*.1);this.splashTextScale=n*100/(R.getWidth(this.splashText)*1.15+32),this._splash&&this._splash.container.scale.set(this.splashTextScale,this.splashTextScale),this.copyUnderline&&(this.copyUnderline.visible=t>this.copyrightTextX&&t<this.copyrightTextX+this.copyrightTextWidth&&e>this.height-10&&e<this.height)}shouldCloseOnEsc(){return!1}};let Ft=Ot;s(Ft,"ACCESSIBILITY_ICON_TEXTURE",new q("textures/gui/accessibility.png")),s(Ft,"COPYRIGHT","Copyright Mojang AB. Do not distribute!");const Me=new W(()=>new Ft,[]);Me.run();
