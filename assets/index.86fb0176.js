var Ot=Object.defineProperty;var bt=(d,t,e)=>t in d?Ot(d,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[t]=e;var s=(d,t,e)=>(bt(d,typeof t!="symbol"?t+"":t,e),e);import{C as W,S as nt,T as pt,R as V,G as Q,A as Rt,L as At,s as yt,a as It,b as Et,N as Dt,f as kt}from"./vendor.26c21b6a.js";const Mt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}};Mt();class Nt{async setContent(t){try{await navigator.clipboard.writeText(t)}catch{}}async getContent(){try{return await navigator.clipboard.readText()}catch{return""}}}class Ut{constructor(t){s(this,"reloaderCount");s(this,"reloadedCount");s(this,"waitingReloaders");this.reloaderCount=t.length,this.reloadedCount=0,this.waitingReloaders=new Set(t),(i=>i.reduce((n,r)=>n.then(()=>(this.waitingReloaders.delete(r),this.reloadedCount++,r.reload())),Promise.resolve()))(t)}getProgress(){return this.reloadedCount/this.reloaderCount}isComplete(){return this.getProgress()===1}}class I{constructor(t,e){s(this,"namespace");s(this,"path");if(e)this.path=e,this.namespace=t;else{const i=this.splitLocation(t);this.path=i.path,this.namespace=i.namespace}}splitLocation(t){const e=t.substring(0,t.indexOf(":"));return{namespace:e.length===0?"minecraft":e,path:t.substring(t.indexOf(":")+1,t.length)}}getFullPath(){return`${this.namespace}:${this.path}`}equals(t){return t===this?!0:t instanceof I?t.namespace===this.namespace&&t.path===this.path:!1}}class v{static getAlpha(t){return t>>>24}static getRed(t){return t>>16&255}static getGreen(t){return t>>8&255}static getBlue(t){return t&255}static getArgb(t,e,i,n){return t<<24|e<<16|i<<8|n}static getRgb(t,e,i){return t<<16|e<<8|i}static mixColor(t,e){return v.getArgb(v.getAlpha(t)*v.getAlpha(e)/255,v.getRed(t)*v.getRed(e)/255,v.getGreen(t)*v.getGreen(e)/255,v.getBlue(t)*v.getBlue(e)/255)}}const B=class{static create(){const t=new Map;return new class extends B{constructor(){super(...arguments);s(this,"map",t)}get(e){var i;return(i=this.map.get(e))!=null?i:e}hasTranslation(e){return this.map.has(e)}isRightToLeft(){return!1}}}static getInstance(){return B.instance}static setInstance(t){B.instance=t}};let H=B;s(H,"DEFAULT_LANGUAGE","en_us"),s(H,"instance",B.create());const rt={ALT:new I("minecraft:alt"),ILLAGERALT:new I("minecraft:illageralt"),DEFAULT:new I("minecraft:default")};class O{constructor(t,e,i,n,r,a){s(this,"container");s(this,"text");s(this,"x");s(this,"y");s(this,"color");s(this,"shadow");s(this,"fontType");this.container=new W,this.text=e,this.fontType=t,this.x=i,this.y=n,this.color=r,this.shadow=a,this.container.position.set(this.x,this.y)}static textShadow(t,e,i,n=16777215,r=rt.DEFAULT){return new O(r,t,e,i,n,!0).draw()}shadowC(t){const e=(t>>16&255)*.25<<16,i=(t>>8&255)*.25<<8,n=(t&255)*.25;return e|i|n}static getWidth(t,e=rt.DEFAULT){const i=R.getInstance(),n=typeof t=="string"?new T(t):t,r=i.fonts.find(h=>h.location.equals(e));if(!r)return 0;let a=0;const c=[];n instanceof C?c.push(...n.getTranslation()):c.push(n),n.siblings.forEach(h=>{h instanceof C?c.push(...h.getTranslation(),h):c.push(h)});for(let h=0;h<c.length;h++){const f=c[h];for(const p of f.text)a+=r.glyphs[p].getAdvance()}return a}draw(){var a,c;const e=R.getInstance().fonts.find(h=>h.location.equals(this.fontType));if(!e)return this;let i=0,n=0;this.container.removeChildren();const r=[];this.text instanceof C?r.push(...this.text.getTranslation()):r.push(this.text),this.text.siblings.forEach(h=>{h instanceof C?r.push(...h.getTranslation(),h):r.push(h)});for(let h=0;h<r.length;h++){const f=r[h],p=f.text,x=(c=(a=f.style.getColor())==null?void 0:a.getRgb())!=null?c:this.color;for(const b of p){const y=e.glyphs[b];if(b!==" "){const D=new nt(y.texture);if(D.position.set(i,n+y.bearingY()),this.shadow){const A=new nt(y.texture);A.position.set(i+1,n+y.bearingY()+1),A.tint=this.shadowC(x),this.container.addChild(A)}this.container.addChild(D),D.tint=x}i+=y.getAdvance()}}return this}setText(t){return this.text=typeof t=="string"?new T(t):t,this.draw(),this}setColor(t){return this.color=t,this.draw(),this}}class St{constructor(t,e){s(this,"rgb");s(this,"name");this.rgb=t,this.name=e!=null?e:null}getRgb(){return this.rgb}static fromRgb(t){return new St(t)}}const N=class{constructor(t,e){s(this,"color");s(this,"font");this.color=t,this.font=e}getColor(){return this.color}isEmpty(){return this==N.EMPTY}getFont(){return this.font!==null?this.font:rt.DEFAULT}withColor(t){return typeof t=="number"?new N(St.fromRgb(t),this.font):new N(t,this.font)}withFont(t){return new N(this.color,t)}};let wt=N;s(wt,"EMPTY",new N(null,null));class T{constructor(t){s(this,"siblings",[]);s(this,"text");s(this,"style",wt.EMPTY);this.text=t}asString(){let t=this.text;return this.siblings.forEach(e=>{t=e.asString()}),t}append(t){return this.siblings.push(typeof t=="string"?new T(t):t),this}formatted(t){return t.getColorValue()&&(this.style=this.style.withColor(t.getColorValue())),this}}class o extends T{}const xt=class extends T{constructor(t,...e){super(t);s(this,"translations",[]);s(this,"languageCache");s(this,"key");s(this,"args");this.key=t,this.args=e}updateTranslations(){const t=H.getInstance();if(t===this.languageCache)return;this.languageCache=t;const e=t.get(this.key);let i=[];this.forEachPart(e,n=>{i.push(n)}),this.translations=i}forEachPart(t,e){const i=t.split(/%s/g);for(let n=0;n<i.length;n++)i[n]!==""&&e(new o(i[n])),i[n+1]!==void 0&&e(this.getArg(n))}getArg(t){if(t>=this.args.length)throw new Error("No more args man. sry...");const e=this.args[t];return e instanceof T?e:e===null?xt.NULL_ARGUMENT:new o(e.toString())}getTranslation(){return this.updateTranslations(),this.translations}};let C=xt;s(C,"ARG_FORMAT",/%(?:(\\d+)\\$)?([A-Za-z%]|$)/),s(C,"NULL_ARGUMENT",new o("null"));class at{createSprite(t,e,i,n,r,a,c,h,f){const p=(h!=null?h:256)/(f!=null?f:256),x=new nt(new pt(t,new V(n*p,r*p,a*p,c*p)));return x.position.set(e,i),x}static createSprite(t,e,i,n,r,a,c,h,f){const p=(h!=null?h:256)/(f!=null?f:256),x=new nt(new pt(t,new V(n*p,r*p,a*p,c*p)));return x.position.set(e,i),x}createStringWithShadow(t,e,i,n,r){return O.textShadow(typeof t=="string"?new T(t):t,e,i,n,r)}static createStringWithShadow(t,e,i,n,r){return O.textShadow(typeof t=="string"?new T(t):t,e,i,n,r)}createTextWithShadow(t,e,i,n,r){return O.textShadow(t,e,i,n,r)}static createTextWithShadow(t,e,i,n,r){return O.textShadow(t,e,i,n,r)}createCenteredText(t,e,i,n,r){return O.textShadow(typeof t=="string"?new T(t):t,e-O.getWidth(typeof t=="string"?new T(t):t)/2,i,n,r)}}class Pt{constructor(){s(this,"container");this.container=new Q}init(){}drawBar(t){this.container.clear(),this.container.beginFill(16777215),this.container.drawRect(0,0,200,1),this.container.drawRect(0,1,1,12),this.container.drawRect(0,13,200,1),this.container.drawRect(199,1,1,12),this.container.drawRect(2,2,196*t,10),this.container.endFill()}setProgress(t){this.drawBar(t)}}const _=class{constructor(t,e){s(this,"container");s(this,"mcUI");s(this,"reload");s(this,"bar");s(this,"completeAfterTimer");s(this,"progress");s(this,"isFading");s(this,"showingLogg",!1);s(this,"logo");s(this,"bg");s(this,"oldW");s(this,"oldH");this.container=new W,this.mcUI=t,this.reload=e,this.bar=new Pt,this.completeAfterTimer=-1,this.progress=0,this.oldW=0,this.oldH=0,this.isFading=!1,this.container.sortableChildren=!0}init(){const t=window.innerWidth/3,e=window.innerHeight/3;this.oldW=t,this.oldH=e;const i=new Q;i.beginFill(this.mcUI.gameOptions.monochromeLogo?_.MONOCHROME_BLACK:_.MOJANG_RED),i.drawRect(0,0,t,e),i.endFill(),this.bg=i,this.container.addChild(i);let n=this.reload.getProgress();this.progress=this.progress*.95+n*.050000012,this.bar.setProgress(this.progress),this.bar.container.zIndex=10,this.bar.container.position.set(t/2-100,e/1.5-7),this.container.addChild(this.bar.container)}update(t){var n,r,a,c,h,f;const e=this.mcUI.getScaledWidth(),i=this.mcUI.getScaledHeight();if(!this.showingLogg&&this.mcUI.textures["minecraft:textures/gui/title/mojangstudios.png"]){const p=this.mcUI.textures["minecraft:textures/gui/title/mojangstudios.png"],x=at.createSprite(p.baseTexture,0,0,0,0,512,256);x.width=128,x.height=64;const b=at.createSprite(p.baseTexture,128,0,0,256,512,256);b.width=128,b.height=64;const y=new W;y.position.set(e/2-128,i/1.5-7-14-64-20),y.addChild(x,b),this.container.addChild(y),this.showingLogg=!0,this.logo=y}(this.oldH!==i||this.oldW!==e)&&((n=this.bg)==null||n.clear(),(r=this.bg)==null||r.beginFill(this.mcUI.gameOptions.monochromeLogo?_.MONOCHROME_BLACK:_.MOJANG_RED),(a=this.bg)==null||a.drawRect(0,0,e,i),(c=this.bg)==null||c.endFill()),this.progress=this.progress*.95+this.reload.getProgress()*.05,this.bar.setProgress(this.progress),this.bar.container.position.set(e/2-100,i/1.5-7),(h=this.logo)==null||h.position.set(e/2-128,i/1.5-7-14-64-20),this.completeAfterTimer!==-1&&this.completeAfterTimer++,this.isFading?this.container.alpha-=t*.05:.99999-this.progress<9e-5&&(this.isFading=!0,(f=this.mcUI.screen)==null||f.initScreen(this.mcUI,this.mcUI.getScaledWidth(),this.mcUI.getScaledHeight())),this.container.alpha<=0&&this.mcUI.setOverlay(null)}};let K=_;s(K,"MOJANG_RED",v.getRgb(239,50,61)),s(K,"MONOCHROME_BLACK",v.getRgb(0,0,0)),s(K,"PRISMARINE",v.getRgb(96,164,144));class Gt{constructor(t,e){s(this,"tickDelta");s(this,"lastFrameDuration");s(this,"prevTimeMillis");s(this,"tickTime");this.tickDelta=0,this.lastFrameDuration=0,this.tickTime=1e3/t,this.prevTimeMillis=e}beginRenderTick(t){this.lastFrameDuration=(t-this.prevTimeMillis)/this.tickTime,this.prevTimeMillis=t,this.tickDelta+=this.lastFrameDuration;let e=~~this.tickDelta;return this.tickDelta-=e,e}}const L=class{constructor(t,e,i,n,r,a,c){s(this,"image");s(this,"texture");s(this,"offsetX");s(this,"offsetY");s(this,"width");s(this,"height");s(this,"advance");s(this,"ascent");this.image=t,this.offsetX=e,this.offsetY=i,this.width=n,this.height=r,this.advance=a,this.ascent=c,this.texture=new pt(this.image.baseTexture,new V(this.offsetX,this.offsetY,this.width,this.height))}static getColorAtPixel(t,e,i){const n=4*(t.width*i+e);return{r:t.data[n+0],g:t.data[n+1],b:t.data[n+2],a:t.data[n+3]}}static getActualGlyphWidth(t,e,i,n,r){(L.TEMPCTX.canvas.width!==n||L.f)&&(L.TEMPCTX.canvas.width=n),(L.TEMPCTX.canvas.height!==r||L.f)&&(L.TEMPCTX.canvas.height=r),L.TEMPCTX.drawImage(t,e,i,n,r,0,0,n,r);const a=L.TEMPCTX.getImageData(0,0,n,r);let c;for(c=n-1;c>=0;--c)for(let h=0;h<r;++h)if(L.getColorAtPixel(a,c,h).a!==0)return c+1;return c+1}getAdvance(){return this.advance}bearingY(){return 7-this.ascent-3*2+6}};let Y=L;s(Y,"TEMPCTX",document.createElement("canvas").getContext("2d")),s(Y,"f",!0),(()=>{L.TEMPCTX.imageSmoothingEnabled=!1})();class Ft{constructor(t){s(this,"mc");s(this,"cX");s(this,"cY");this.mc=t,this.cX=-1,this.cY=-1}cursorMove(t,e){if(this.mc.overlay===null&&this.mc.screen){const i=t/(window.innerWidth/this.mc.getScaledWidth()),n=e/(window.innerHeight/this.mc.getScaledHeight()),r=(t-this.cX)/(window.innerWidth/this.mc.getScaledWidth()),a=(e-this.cY)/(window.innerHeight/this.mc.getScaledHeight());this.mc.screen.mouseDragged(i,n,0,r,a)}this.cX=t,this.cY=e}cursorButton(t,e,i,n){if(this.mc.overlay===null&&this.mc.screen){const r=t/(window.innerWidth/this.mc.getScaledWidth()),a=e/(window.innerHeight/this.mc.getScaledHeight());n===1?this.mc.screen.mouseClicked(r,a,i):this.mc.screen.mouseReleased(r,a,i)}}keyPress(t,e,i,n){this.mc.overlay===null&&this.mc.screen&&(n===1?this.mc.screen.keyPressed(t,e,i):this.mc.screen.keyReleased(t,e,i))}setup(){document.addEventListener("mousemove",t=>this.cursorMove(t.clientX,t.clientY)),document.addEventListener("mousedown",t=>this.cursorButton(t.clientX,t.clientY,t.button,1)),document.addEventListener("mouseup",t=>this.cursorButton(t.clientX,t.clientY,t.button,0)),document.addEventListener("keydown",t=>this.keyPress(t.key,t.code,t.keyCode,1)),document.addEventListener("keyup",t=>this.keyPress(t.key,t.code,t.keyCode,0))}getX(){return this.cX}getY(){return this.cY}}const Ct=class{constructor(){s(this,"splashTexts");this.splashTexts=[]}async reload(){(await(await fetch(Ct.RESOURCE.path)).text()).split(`
`).forEach(e=>{this.splashTexts.push(e.trim())})}get(){const t=new Date;return t.getMonth()+1===12&&t.getDate()===24?"Merry X-mas!":t.getMonth()+1===1&&t.getDate()===1?"Happy new year!":t.getMonth()+1===10&&t.getDate()===31?"OOoooOOOoooo! Spooky!":this.splashTexts.length<1?"missingno":this.splashTexts[Math.round(Math.random()*this.splashTexts.length)]}};let ft=Ct;s(ft,"RESOURCE",new I("texts/splashes.txt"));const U=class{constructor(t){s(this,"translationKey");U.ALL_VALUES.push(this),this.translationKey=t}static values(){return U.ALL_VALUES}getTranslationKey(){return this.translationKey}};let E=U;s(E,"ALL_VALUES",[]),s(E,"OFF",new U("OFF")),s(E,"FAST",new U("Fast")),s(E,"FANCY",new U("Fancy"));class ht{constructor(t){s(this,"mc");s(this,"monochromeLogo");s(this,"guiScale");s(this,"language");s(this,"hudHidden");s(this,"hideLightningFlashes");s(this,"rawMouseInput");s(this,"autoJump");s(this,"autoSuggestions");s(this,"chatColors");s(this,"chatLinks");s(this,"chatLinksPrompt");s(this,"enableVsync");s(this,"entityShadows");s(this,"forceUnicodeFont");s(this,"invertYMouse");s(this,"discreteMouseScroll");s(this,"realmsNotifications");s(this,"allowServerListing");s(this,"reducedDebugInfo");s(this,"showSubtitles");s(this,"backgroundForChatOnly");s(this,"touchscreen");s(this,"fullscreen");s(this,"bobView");s(this,"sneakToggled");s(this,"sprintToggled");s(this,"skipMultiplayerWarning");s(this,"hideMatchedNames");s(this,"showAutosaveIndicator");s(this,"cloudRenderMode");s(this,"requestSave");this.mc=t,this.requestSave=!1,this.monochromeLogo=!0,this.guiScale=3,this.hudHidden=!1,this.language="en_us",this.hideLightningFlashes=!1,this.rawMouseInput=!0,this.autoJump=!0,this.autoSuggestions=!0,this.chatColors=!0,this.chatLinks=!0,this.chatLinksPrompt=!0,this.enableVsync=!0,this.entityShadows=!0,this.forceUnicodeFont=!1,this.invertYMouse=!1,this.discreteMouseScroll=!1,this.realmsNotifications=!0,this.allowServerListing=!0,this.reducedDebugInfo=!1,this.showSubtitles=!1,this.backgroundForChatOnly=!0,this.touchscreen=!1,this.fullscreen=!1,this.bobView=!0,this.sneakToggled=!1,this.sprintToggled=!1,this.skipMultiplayerWarning=!1,this.hideMatchedNames=!0,this.showAutosaveIndicator=!0,this.cloudRenderMode=E.FANCY}load(){let t=null;if(!(t=localStorage.getItem("optionsv1")))return;window.addEventListener("storage",i=>{var n;this.requestSave?this.requestSave=!1:i.key==="optionsv1"&&localStorage.setItem(i.key,(n=i.oldValue)!=null?n:"")});const e={};t.split(`
`).map(i=>i.trim()).forEach(i=>{const n=i.split(":").slice(0,2);e[n[0]]=n[1]}),this.accept(new class{constructor(){s(this,"options",e)}visitInt(i,n){const r=this.options[i];return r&&parseInt(r)||n}visitBoolean(i,n){const r=this.options[i];return r?r.toLowerCase()==="true":n}visitString(i,n){var r;return(r=this.options[i])!=null?r:n}visitObject(i,n,r,a){const c=this.options[i];return c===null?n:r(c)}})}save(){let t="";this.accept(new class{add(e,i){t+=`${e}:${i}
`}visitInt(e,i){return this.add(e,i),i}visitBoolean(e,i){return this.add(e,i),i}visitString(e,i){return this.add(e,i),i}visitObject(e,i,n,r){return this.add(e,r(i)),i}}),this.requestSave=!0,localStorage.setItem("optionsv1",t)}accept(t){this.monochromeLogo=t.visitBoolean("monochromeLogo",this.monochromeLogo),this.guiScale=t.visitInt("guiScale",this.guiScale),this.hudHidden=t.visitBoolean("hudHidden",this.hudHidden),this.language=t.visitString("language",this.language),this.hideLightningFlashes=t.visitBoolean("hideLightningFlashes",this.hideLightningFlashes),this.rawMouseInput=t.visitBoolean("rawMouseInput",this.rawMouseInput),this.autoJump=t.visitBoolean("autoJump",this.autoJump),this.autoSuggestions=t.visitBoolean("autoSuggestions",this.autoSuggestions),this.chatColors=t.visitBoolean("chatColors",this.chatColors),this.chatLinks=t.visitBoolean("chatLinks",this.chatLinks),this.chatLinksPrompt=t.visitBoolean("chatLinksPrompt",this.chatLinksPrompt),this.enableVsync=t.visitBoolean("enableVsync",this.enableVsync),this.entityShadows=t.visitBoolean("entityShadows",this.entityShadows),this.forceUnicodeFont=t.visitBoolean("forceUnicodeFont",this.forceUnicodeFont),this.invertYMouse=t.visitBoolean("invertYMouse",this.invertYMouse),this.discreteMouseScroll=t.visitBoolean("discreteMouseScroll",this.discreteMouseScroll),this.realmsNotifications=t.visitBoolean("realmsNotifications",this.realmsNotifications),this.allowServerListing=t.visitBoolean("allowServerListing",this.allowServerListing),this.reducedDebugInfo=t.visitBoolean("reducedDebugInfo",this.reducedDebugInfo),this.showSubtitles=t.visitBoolean("showSubtitles",this.showSubtitles),this.backgroundForChatOnly=t.visitBoolean("backgroundForChatOnly",this.backgroundForChatOnly),this.touchscreen=t.visitBoolean("touchscreen",this.touchscreen),this.fullscreen=t.visitBoolean("fullscreen",this.fullscreen),this.bobView=t.visitBoolean("bobView",this.bobView),this.sneakToggled=t.visitBoolean("sneakToggled",this.sneakToggled),this.sprintToggled=t.visitBoolean("sprintToggled",this.sprintToggled),this.skipMultiplayerWarning=t.visitBoolean("skipMultiplayerWarning",this.skipMultiplayerWarning),this.hideMatchedNames=t.visitBoolean("hideMatchedNames",this.hideMatchedNames),this.showAutosaveIndicator=t.visitBoolean("showAutosaveIndicator",this.showAutosaveIndicator),this.cloudRenderMode=t.visitObject("renderClouds",this.cloudRenderMode,ht.loadCloudRenderMode,ht.saveCloudRenderMode)}static loadCloudRenderMode(t){switch(t){case"true":return E.FANCY;case"fast":return E.FAST}return E.OFF}static saveCloudRenderMode(t){switch(t){case E.FANCY:return"true";case E.FAST:return"fast"}return"false"}}class ot{constructor(t,e,i,n){s(this,"code");s(this,"region");s(this,"name");s(this,"rightToLeft");this.code=t,this.region=e,this.name=i,this.rightToLeft=n}getCode(){return this.code}getName(){return this.name}getRegion(){return this.region}isRightToLeft(){return this.rightToLeft}toString(){return`${this.name} (${this.region})`}[Symbol.toString()](){return`${this.name} (${this.region})`}equals(t){return this===t?!0:t instanceof ot?this.code===t.code:!1}}class Tt extends H{constructor(t,e){super();s(this,"translations");s(this,"rightToLeft");this.translations=t,this.rightToLeft=e}static async load(t){const e=new Map;let i=!1;for(const n of t){i||(i=n.isRightToLeft());const r=await(await fetch(`lang/${n.getCode()}.json`)).json();Object.entries(r).forEach(([a,c])=>{e.set(a,c)})}return new Tt(new Map(e),i)}get(t){var e;return(e=this.translations.get(t))!=null?e:t}hasTranslation(t){return this.translations.has(t)}isRightToLeft(){return this.rightToLeft}}const P=class{constructor(t){s(this,"languageDefs",new Map([["en_us",P.ENGLISH_US]]));s(this,"currentLanguageCode");s(this,"language",P.ENGLISH_US);this.currentLanguageCode=t}static async loadAvailableLanguages(){const t=await(await fetch("pack.mcmeta")).json(),e=new Map;for(const[i,n]of Object.entries(t.language))e.set(i,new ot(i,n.region,n.name,n.bidirectional));return e}async reload(){var n,r;this.languageDefs=await P.loadAvailableLanguages();const t=(n=this.languageDefs.get(P.DEFAULT_LANGUAGE_CODE))!=null?n:P.ENGLISH_US;this.language=(r=this.languageDefs.get(this.currentLanguageCode))!=null?r:t;const e=[t];this.language!==t&&e.push(this.language);const i=await Tt.load(e);H.setInstance(i)}setLanguage(t){this.currentLanguageCode=t.getCode(),this.language=t}getLanguage(t){return t?this.languageDefs.get(t):this.language}getAllLanguages(){return new Set(Array.from(this.languageDefs.values()).sort((t,e)=>t.getCode()<e.getCode()?-1:t.getCode()>e.getCode()?1:0))}};let tt=P;s(tt,"DEFAULT_LANGUAGE_CODE","en_us"),s(tt,"ENGLISH_US",new ot("en_us","US","English",!1));class Wt{asyncLoader(t,e){return new Promise(i=>{t.loader.add(e).load(()=>{i(t.loader.resources[e])})})}async reload(){var e;const t=R.getInstance();await new Promise(i=>{t.loader.add([{name:"minecraft:textures/gui/title/mojangstudios.png",url:"textures/gui/title/mojangstudios.png"}]).load(()=>{t.textures["minecraft:textures/gui/title/mojangstudios.png"]=t.loader.resources["minecraft:textures/gui/title/mojangstudios.png"].texture,i()})}),await new Promise(i=>{setTimeout(i,3e3)});for(const i of Object.values(rt)){const n=await(await fetch(`font/${i.path}.json`)).json(),r={};for(const a of n.providers){const c=new I(a.file),h=await this.asyncLoader(t,`textures/${c.path}`),f=h.data,p=h.texture,x=(e=a.ascent)!=null?e:7,b=p.width,y=p.height,D=b/a.chars[0].length,A=y/a.chars.length;for(let X=0;X<a.chars.length;X++){let ut=0;for(const vt of a.chars[X])vt!==" "&&(r[vt]=new Y(p,ut*D,X*A,D,A,Y.getActualGlyphWidth(f,ut*D,X*A,D,A)+1,x)),ut++}r[" "]=new Y(p,0,0,4,A,4,x)}t.fonts.push({location:i,glyphs:r})}}}class Bt{async reload(){await new Promise((t,e)=>{const i=R.getInstance();i.loader.add([{name:"minecraft:textures/gui/widgets.png",url:"textures/gui/widgets.png"},{name:"background",url:"textures/gui/background.png"},{name:"vignette",url:"textures/misc/vignette.png"},{name:"minecraft:textures/gui/accessibility.png",url:"textures/gui/accessibility.png"},{name:"minecraft:textures/gui/title/minecraft.png",url:"textures/gui/title/minecraft.png"},{name:"minecraft:textures/gui/title/edition.png",url:"textures/gui/title/edition.png"}]).load(()=>{i.textures["minecraft:textures/gui/widgets.png"]=i.loader.resources["minecraft:textures/gui/widgets.png"].texture,i.textures.background=i.loader.resources.background.texture,i.textures.vignette=i.loader.resources.vignette.texture,i.textures["minecraft:textures/gui/accessibility.png"]=i.loader.resources["minecraft:textures/gui/accessibility.png"].texture,i.textures["minecraft:textures/gui/title/minecraft.png"]=i.loader.resources["minecraft:textures/gui/title/minecraft.png"].texture,i.textures["minecraft:textures/gui/title/edition.png"]=i.loader.resources["minecraft:textures/gui/title/edition.png"].texture,t()})})}}const ct=class{constructor(t,e){s(this,"app");s(this,"root");s(this,"screen");s(this,"overlay");s(this,"loader");s(this,"clipboard");s(this,"inputHandler");s(this,"fps",0);s(this,"nextUpdateTime",0);s(this,"currFps",-1);s(this,"renderTickCounter",new Gt(20,0));s(this,"textures");s(this,"fonts",[]);s(this,"titleGetter");s(this,"splashTextLoader");s(this,"gameOptions");s(this,"scaleFactor");s(this,"languageManager");ct.instance=this,this.titleGetter=t,this.app=new Rt({width:window.innerWidth,height:window.innerHeight,resizeTo:window}),this.gameOptions=new ht(this),this.gameOptions.load(),this.scaleFactor=this.calculateScaleFactor(this.gameOptions.guiScale),this.loader=new At,this.textures={},this.languageManager=new tt(this.gameOptions.language),this.clipboard=new Nt,this.root=new W,this.screen=null,this.overlay=null,this.inputHandler=new Ft(this),this.inputHandler.setup(),this.splashTextLoader=new ft,this.setOverlay(new K(this,new Ut([new Wt,new Bt,this.languageManager,this.splashTextLoader,...e]))),setTimeout(()=>this.setScreen(this.titleGetter()),0)}async run(){yt.SCALE_MODE=It.NEAREST,yt.ROUND_PIXELS=!1,this.app.stage.addChild(this.root),this.root.scale.set(this.gameOptions.guiScale),this.root.sortableChildren=!0,window.addEventListener("resize",()=>{this.windowResized()});const t=()=>{this.update(),requestAnimationFrame(t)};this.nextUpdateTime=Date.now(),requestAnimationFrame(t),document.body.appendChild(this.app.view)}update(){var e,i;const t=this.renderTickCounter.beginRenderTick(Date.now());for(let n=0;n<Math.min(10,t);++n)this.tick();for((e=this.overlay)==null||e.update(this.renderTickCounter.lastFrameDuration),(i=this.screen)==null||i.update(this.inputHandler.getX()/this.gameOptions.guiScale,this.inputHandler.getY()/this.gameOptions.guiScale,this.renderTickCounter.lastFrameDuration),++this.fps;Date.now()>=this.nextUpdateTime+1e3;)this.currFps=this.fps,this.nextUpdateTime+=1e3,this.fps=0}tick(){var t;(t=this.screen)==null||t.tick()}windowResized(){var e;const t=this.calculateScaleFactor(this.gameOptions.guiScale);this.scaleFactor=t,this.root.scale.set(t),(this.overlay===null||this.overlay&&this.overlay.isFading)&&((e=this.screen)==null||e.resize(this,this.getScaledWidth(),this.getScaledHeight()))}setScreen(t){this.screen&&(this.screen.removed(),this.screen.container.parent.removeChild(this.screen.container)),this.screen=t,this.screen===null&&(this.screen=this.titleGetter()),this.screen&&(this.overlay===null&&this.screen.initScreen(this,this.getScaledWidth(),this.getScaledHeight()),this.root.addChild(this.screen.container))}setOverlay(t){this.overlay&&this.overlay.container.parent.removeChild(this.overlay.container),this.overlay=t,this.overlay&&(this.overlay.init(),this.overlay.container.zIndex=1e3,this.root.addChild(this.overlay.container))}getScaledWidth(){return window.innerWidth/this.scaleFactor}getScaledHeight(){return window.innerHeight/this.scaleFactor}getSplashTextLoader(){return this.splashTextLoader}updateGuiScale(t){this.gameOptions.guiScale=t,this.root.scale.set(this.gameOptions.guiScale),this.windowResized()}static getInstance(){return ct.instance}calculateScaleFactor(t){let e;for(e=1;e!==t&&e<window.innerWidth&&e<window.innerHeight&&window.innerWidth/(e+1)>=320&&window.innerHeight/(e+1)>=240-10;++e);return e}};let R=ct;s(R,"instance");class Z extends at{constructor(t=new T("")){super();s(this,"container",new W);s(this,"widgets",[]);s(this,"initialized",!1);s(this,"width",0);s(this,"height",0);s(this,"mc",R.getInstance());s(this,"title");s(this,"dragging",!1);this.title=typeof t=="string"?new T(t):t}initScreen(t,e,i){this.mc=t,this.width=e,this.height=i,this.container.removeChildren(),this.widgets=[],this.init(),this.initialized=!0}resize(t,e,i){this.initScreen(t,e,i)}init(){}mouseClicked(t,e,i){for(let n=0;n<this.widgets.length;n++)if(this.widgets[n].mouseClicked(t,e,i))return i===0&&(this.dragging=!0),!0;return!1}mouseReleased(t,e,i){return this.dragging=!1,!1}mouseMoved(t,e){}mouseDragged(t,e,i,n,r){for(let a=0;a<this.widgets.length;a++)if(this.widgets[a].isMouseOver(t,e)&&this.dragging&&i===0)return this.widgets[a].mouseDragged(t,e,i,n,r);return!1}mouseScroll(t,e,i){return!1}isMouseOver(t,e){return!1}keyPressed(t,e,i){return e==="Escape"&&this.shouldCloseOnEsc()?(this.onClose(),!0):!1}keyReleased(t,e,i){return!1}charTyped(t){return!1}tick(){}removed(){}update(t,e,i){if(!!this.initialized)for(let n=0;n<this.widgets.length;n++)this.widgets[n].update(t,e,i)}openURL(t){window.open(t,"_blank","noopener,noreferrer")}shouldCloseOnEsc(){return!0}onClose(){this.mc.setScreen(null)}addWidget(t){return this.widgets.push(t),t.init(),this.container.addChild(t.container),t}addGuiText(t){return this.container.addChild(t.container),t}addBackground(){var e;const t=(e=this.mc)==null?void 0:e.textures.background;if(t){const i=new Et(t,this.width,this.height);i.tileScale.set(2,2);const n=new Q;n.beginFill(0,.78),n.drawRect(0,0,this.width,this.height),n.endFill(),this.container.addChild(i,n)}}}const k=class extends at{constructor(t,e,i,n,r){super();s(this,"container");s(this,"initialized");s(this,"width");s(this,"height");s(this,"x");s(this,"y");s(this,"message");s(this,"_message_Gui");s(this,"hovered");s(this,"active",!0);s(this,"visible",!0);s(this,"alpha",1);this.initialized=!1,this.container=new W,this.x=~~t,this.y=~~e,this.width=~~i,this.height=~~n,this.message=r,this.hovered=!1}init(){this.container.visible=this.visible,this.createLayout(),this.initialized=!0}createLayout(){const t=R.getInstance(),e=this.getUY(this.hovered),i=this.createSprite(t.textures[k.WIDGETS_TEXTURE.getFullPath()].baseTexture,0,0,0,46+e*20,this.width/2,20),n=this.createSprite(t.textures[k.WIDGETS_TEXTURE.getFullPath()].baseTexture,this.width/2,0,200-this.width/2,46+e*20,this.width/2,20);i.name="bgL",n.name="bgR",this._message_Gui=this.createCenteredText(this.message,this.width/2,(this.height-8)/2,this.active?k.activeColor:k.lockedColor),this.container.position.set(this.x,this.y),this.container.addChild(i,n,this._message_Gui.container)}updateLayout(t){var e;if(!!this.initialized)if(t)(e=this._message_Gui)==null||e.container.position.set(this.width/2-O.getWidth(this.getMessage())/2,(this.height-8)/2);else{const i=this.getUY(this.hovered);this.container.getChildByName("bgL").texture.frame=new V(0,46+i*20,this.width/2,20),this.container.getChildByName("bgR").texture.frame=new V(200-this.width/2,46+i*20,this.width/2,20)}}updateGuiTexts(){this._message_Gui&&this._message_Gui.setText(this.message).setColor(this.active?k.activeColor:k.lockedColor)}update(t,e,i){this.initialized||this.init();const n=this.isOver(t,e);this.hovered&&!n?(this.hovered=!1,this.updateLayout()):n&&!this.hovered&&(this.hovered=!0,this.updateLayout())}tick(){}onClick(t,e){}onRelease(t,e){}onDrag(t,e,i,n){}mouseClicked(t,e,i){return!this.active||!this.visible?!1:this.isValidClickButton(i)&&this.isOver(t,e)?(this.onClick(t,e),!0):!1}mouseReleased(t,e,i){return this.isValidClickButton(i)?(this.onRelease(t,e),!0):!1}mouseDragged(t,e,i,n,r){return this.isValidClickButton(i)?(this.onDrag(t,e,n,r),!0):!1}mouseMoved(t,e){}mouseScroll(t,e,i){return!1}isMouseOver(t,e){return this.isOver(t,e)}keyPressed(t,e,i){return!1}keyReleased(t,e,i){return!1}charTyped(t){return!1}isOver(t,e){return this.active&&this.visible&&t>=this.x&&e>=this.y&&t<this.x+this.width&&e<this.y+this.height}isValidClickButton(t){return t===0}setMessage(t){var e;this.message=t,(e=this._message_Gui)==null||e.setText(t),this.updateLayout(!0)}getMessage(){return this.message}setWidth(t){this.width=t}getWidth(){return this.width}setActive(t){const e=this.active;this.active=t,e!==this.active&&(this.updateLayout(),this.updateGuiTexts())}setAlpha(t){this.alpha=t,this.container.alpha=t}getUY(t){return this.active?t?2:1:0}};let G=k;s(G,"WIDGETS_TEXTURE",new I("textures/gui/widgets.png")),s(G,"activeColor",16777215),s(G,"lockedColor",10526880);class g extends G{constructor(t,e,i,n,r,a){super(t,e,i,n,typeof r=="string"?new T(r):r);s(this,"onPress");this.onPress=a}onClick(){this.onPress(this)}}class Lt extends g{constructor(t,e,i,n,r,a,c,h,f,p){super(t,e,i,n,f,p);s(this,"texture");s(this,"u");s(this,"v");s(this,"hoveredVOffset");this.texture=h,this.u=r,this.v=a,this.hoveredVOffset=c}createLayout(){const t=R.getInstance(),e=this.createSprite(t.textures[this.texture.getFullPath()].baseTexture,0,0,this.u,this.v+(this.hovered?this.hoveredVOffset:0),this.width,this.height);e.name="bg",this.container.position.set(this.x,this.y),this.container.addChild(e)}updateLayout(){!this.initialized||(this.container.getChildByName("bg").texture.frame=new V(this.u,this.v+(this.hovered?this.hoveredVOffset:0),this.width,this.height))}}class _t extends Z{constructor(t){super("Create New World");s(this,"prevScreen");this.prevScreen=t}init(){this.addBackground(),this.addGuiText(this.createCenteredText(this.title,this.width/2,20,16777215));const t=this.height/3+24;this.addWidget(new g(this.width/2-100,t,200,20,"Flat",()=>{})),this.addWidget(new g(this.width/2-100,t+24,200,20,"Void",()=>{})),this.addWidget(new g(this.width/2-100,t+48,200,20,"Default (In development)",()=>{})),this.addWidget(new g(this.width/2-100,t+96,200,20,"Cancel",()=>{this.mc.setScreen(this.prevScreen)}))}}const w=class{constructor(t,e,i,n,r){s(this,"name");s(this,"code");s(this,"modifier");s(this,"stringValue");s(this,"colorIndex");s(this,"colorValue");typeof i=="boolean"&&n===void 0?(this.name=t,this.code=e,this.modifier=i,this.colorIndex=-1,this.colorValue=null,this.stringValue="\xA7"+e):typeof i=="number"?(this.name=t,this.code=e,this.modifier=!1,this.colorIndex=i,this.colorValue=n,this.stringValue="\xA7"+e):(this.name=t,this.code=e,this.modifier=i,this.colorIndex=n,this.colorValue=r,this.stringValue="\xA7"+e)}getCode(){return this.code}getColorIndex(){return this.colorIndex}isModifier(){return this.modifier}isColor(){return!this.modifier&&this!==w.RESET}getColorValue(){return this.colorValue}};let u=w;s(u,"BLACK",new w("BLACK","0",0,0)),s(u,"DARK_BLUE",new w("DARK_BLUE","1",1,170)),s(u,"DARK_GREEN",new w("DARK_GREEN","2",2,43520)),s(u,"DARK_AQUA",new w("DARK_AQUA","3",3,43690)),s(u,"DARK_RED",new w("DARK_RED","4",4,11141120)),s(u,"DARK_PURPLE",new w("DARK_PURPLE","5",5,11141290)),s(u,"GOLD",new w("GOLD","6",6,16755200)),s(u,"GRAY",new w("GRAY","7",7,11184810)),s(u,"DARK_GRAY",new w("DARK_GRAY","8",8,5592405)),s(u,"BLUE",new w("BLUE","9",9,5592575)),s(u,"GREEN",new w("GREEN","a",10,5635925)),s(u,"AQUA",new w("AQUA","b",11,5636095)),s(u,"RED",new w("RED","c",12,16733525)),s(u,"LIGHT_PURPLE",new w("LIGHT_PURPLE","d",13,16733695)),s(u,"YELLOW",new w("YELLOW","e",14,16777045)),s(u,"WHITE",new w("WHITE","f",15,16777215)),s(u,"OBFUSCATED",new w("OBFUSCATED","k",!0)),s(u,"BOLD",new w("BOLD","l",!0)),s(u,"STRIKETHROUGH",new w("STRIKETHROUGH","m",!0)),s(u,"UNDERLINE",new w("UNDERLINE","n",!0)),s(u,"ITALIC",new w("ITALIC","o",!0)),s(u,"RESET",new w("RESET","r",-1,null));const j=class extends Z{constructor(t){super();s(this,"endCredits");s(this,"baseSpeed");s(this,"speed");s(this,"spaceKeyPressed");s(this,"pressedCtrlKeys");s(this,"credits");s(this,"centeredLines");s(this,"creditsHeight");s(this,"time");s(this,"bg");s(this,"bgOv");s(this,"vig");s(this,"guiTexts",[]);s(this,"guiTextCont",new W);this.time=0,this.endCredits=t,this.baseSpeed=t?.5:.75,this.speed=this.baseSpeed,this.spaceKeyPressed=!1,this.creditsHeight=1/0,this.pressedCtrlKeys=new Set}getSpeed(){return this.spaceKeyPressed?this.baseSpeed*(5+this.pressedCtrlKeys.size*15):this.baseSpeed}init(){this.addBackground(),this.addVignette(),this.credits===void 0&&(this.credits=[],this.centeredLines=new Set,this.load("texts/credits.json").then(t=>{var e,i;this.readCredits(t),this.creditsHeight=((i=(e=this.credits)==null?void 0:e.length)!=null?i:0)*12,this.createCreditTexts()}))}createCreditTexts(){if(!this.credits)return;let t=this.width/2-137,i=this.height+50+100;for(let n=0;n<this.credits.length;n++){const r=this.createTextWithShadow(this.credits[n],t,i,16777215);this.guiTexts.push(r),this.guiTextCont.addChild(r.container),i+=12}this.container.addChild(this.guiTextCont)}update(t,e,i){var r;this.time+=i*this.speed;const n=-this.time;super.update(t,e,i);for(let a=0;a<this.guiTexts.length;a++)this.guiTexts[a].container.y<-20||this.guiTexts[a].container.y>this.height+30?(this.guiTexts[a].container.visible=!1,this.guiTexts[a].container.renderable=!1):(this.guiTexts[a].container.renderable=!0,this.guiTexts[a].container.visible=!0),this.guiTexts[a].container.y=this.guiTexts[a].y+n;(r=this.bg)==null||r.tilePosition.set(0,n)}async load(t){return await(await fetch(t)).text()}readCredits(t){const e=JSON.parse(t);for(const i of e){this.addText(j.SEPARATOR_LINE,!0),this.addText(new o(i.section).formatted(u.YELLOW),!0),this.addText(j.SEPARATOR_LINE,!0),this.addEmptyLine(),this.addEmptyLine();for(const n of i.titles){this.addText(new o(n.title).formatted(u.GRAY));for(const r of n.names)this.addText(new o(j.CENTERED_LINE_PREFIX+r).formatted(u.WHITE));this.addEmptyLine(),this.addEmptyLine()}}}addText(t,e){var i,n,r,a;e&&((r=this.centeredLines)==null||r.add((n=(i=this.credits)==null?void 0:i.length)!=null?n:0)),(a=this.credits)==null||a.push(typeof t=="string"?new T(t):t)}addEmptyLine(){var t;(t=this.credits)==null||t.push(new T(""))}keyPressed(t,e,i){return e==="ControlLeft"||e==="ControlRight"?this.pressedCtrlKeys.add(e):e==="Space"&&(this.spaceKeyPressed=!0),this.speed=this.getSpeed(),super.keyPressed(t,e,i)}keyReleased(t,e,i){return e==="Space"?this.spaceKeyPressed=!1:(e==="ControlLeft"||e==="ControlRight")&&this.pressedCtrlKeys.delete(e),this.speed=this.getSpeed(),super.keyReleased(t,e,i)}addBackground(){var e;const t=(e=this.mc)==null?void 0:e.textures.background;t&&(this.bg=new Et(t,this.width,this.height),this.bg.tileScale.set(3,3),this.bgOv=new Q,this.bgOv.beginFill(0,.82),this.bgOv.drawRect(0,0,this.width,this.height),this.bgOv.endFill(),this.container.addChild(this.bg,this.bgOv))}addVignette(){var e;const t=(e=this.mc)==null?void 0:e.textures.vignette;if(t){this.container.sortableChildren=!0,this.vig=new Dt(t,128,128,128,128),this.vig.width=this.width,this.vig.height=this.height;const i=new kt.ColorMatrixFilter;i.negative(!0),i.blendMode=2,this.vig.zIndex=10,this.vig.filters=[i],this.container.addChild(this.vig)}}tick(){let t=this.creditsHeight+this.height+this.height+24;this.time>t&&this.mc.setScreen(null)}};let et=j;s(et,"SEPARATOR_LINE",new o("============").formatted(u.WHITE)),s(et,"CENTERED_LINE_PREFIX","           ");const lt=class{static onOrOff(t){return t?lt.ON:lt.OFF}static composeToggleText(t,e){return new T("").append(t).append(": ").append(this.onOrOff(e))}static composeGenericOptionText(t,e){return new C("options.generic_value",t,e)}};let S=lt;s(S,"ON",new o("ON")),s(S,"OFF",new o("OFF")),s(S,"DONE",new o("Done")),s(S,"CANCEL",new o("Cancel")),s(S,"YES",new o("Yes")),s(S,"NO",new o("No")),s(S,"PROCEED",new o("Proceed")),s(S,"BACK",new o("Back"));class F{static of(t,e,i){if(e&&i){const n=[...e],r=[...i];return new class extends F{getCurrent(){return t()?r:n}getDefaults(){return n}}}else{const n=[...t];return new class extends F{getCurrent(){return n}getDefaults(){return n}}}}}class gt{constructor(t){s(this,"initialIndex");s(this,"value");s(this,"valueToText");s(this,"_values",F.of([]));s(this,"optionTextOmitted");this.valueToText=t,this.value=null,this.initialIndex=0,this.optionTextOmitted=!1}values(t,e,i){return i?this._values=F.of(t,e,i):e?this._values=F.of(()=>!1,t,e):this._values=F.of(t),this}initially(t){this.value=t;const e=this._values.getDefaults().indexOf(t);return e!=-1&&(this.initialIndex=e),this}omitKeyText(){return this.optionTextOmitted=!0,this}build(t,e,i,n,r,a=(c,h)=>{}){const c=this._values.getDefaults(),h=this.value!=null?this.value:c[this.initialIndex],f=this.valueToText(h),p=this.optionTextOmitted?f:S.composeGenericOptionText(r,f);return new $(t,e,i,n,p,r,this.initialIndex,h,this._values,this.valueToText,a,this.optionTextOmitted)}}const z=class extends G{constructor(t,e,i,n,r,a,c,h,f,p,x,b){super(t,e,i,n,r);s(this,"optionText");s(this,"index");s(this,"value");s(this,"values");s(this,"valueToText");s(this,"onValueChangeCallback");s(this,"optionTextOmitted");this.optionText=a,this.index=c,this.value=h,this.values=f,this.valueToText=p,this.onValueChangeCallback=x,this.optionTextOmitted=b}onClick(t,e){this.cycle(1)}cycle(t){const e=this.values.getCurrent();this.index=Math.floor((this.index+t)%e.length);const i=e[this.index];this.internalSetValue(i),this.onValueChangeCallback(this,i)}getValue(t){if(t!==void 0){const e=this.values.getCurrent();return e[Math.floor((this.index+t)%e.length)]}else return this.value}internalSetValue(t){const e=this.composeText(t);this.setMessage(e),this.value=t}composeText(t){return this.optionTextOmitted?this.valueToText(t):this.composeGenericOptionText(t)}composeGenericOptionText(t){return S.composeGenericOptionText(this.optionText,this.valueToText(t))}static builder(t){return new gt(t)}static onOffBuilder(t,e){return t&&e?new gt(i=>i!==!1?t:e).values(z.BOOLEAN_VALUES):typeof t=="boolean"?z.onOffBuilder().initially(t):new gt(i=>i!==!1?S.ON:S.OFF).values(z.BOOLEAN_VALUES)}};let $=z;s($,"BOOLEAN_VALUES",[!0,!1]);class Ht{constructor(t){s(this,"key");this.key=new C(t)}getDisplayPrefix(){return this.key}getPixelLabel(t){return new C("options.pixel_value",this.getDisplayPrefix(),t)}getPercentLabel(t){return new C("options.percent_value",this.getDisplayPrefix(),~~(t*100))}getPercentAdditionLabel(t){return new C("options.percent_add_value",this.getDisplayPrefix(),t)}getGenericLabel(t){return typeof t=="number"&&this.getGenericLabel(new o(t.toString())),new C("options.generic_value",this.getDisplayPrefix(),t)}}class m extends Ht{constructor(t,e,i,n){super(t);s(this,"getter");s(this,"setter");s(this,"buttonBuilderFactory");this.getter=e,this.setter=i,this.buttonBuilderFactory=n}static createFromEnum(t,e,i,n,r){return new m(t,n,r,()=>$.builder(i).values(e))}static create(t,e,i){return new m(t,e,i,$.onOffBuilder)}createButton(t,e,i,n){return this.buttonBuilderFactory().initially(this.getter(t)).build(e,i,n,20,this.getDisplayPrefix(),(r,a)=>{this.setter(t,this,a),t.save()})}}class l{}s(l,"HUD_HIDDEN",m.create("Hide HUD",t=>t.hudHidden,(t,e,i)=>{t.hudHidden=i})),s(l,"MONOCHROME_LOGO",m.create("Monochrome Logo",t=>t.monochromeLogo,(t,e,i)=>{t.monochromeLogo=i})),s(l,"HIDE_LIGHTNING_FLASHES",m.create("Hide Lightning Flashes",t=>t.hideLightningFlashes,(t,e,i)=>{t.hideLightningFlashes=i})),s(l,"RAW_MOUSE_INPUT",m.create("Raw Mouse Input",t=>t.rawMouseInput,(t,e,i)=>{t.rawMouseInput=i})),s(l,"AUTO_JUMP",m.create("Auto-Jump",t=>t.autoJump,(t,e,i)=>{t.autoJump=i})),s(l,"AUTO_SUGGESTIONS",m.create("Auto Suggest Commands",t=>t.autoSuggestions,(t,e,i)=>{t.autoSuggestions=i})),s(l,"CHAT_COLOR",m.create("Chat Color",t=>t.chatColors,(t,e,i)=>{t.chatColors=i})),s(l,"HIDE_MATCHED_NAMES",m.create("Hide Matched Names",t=>t.hideMatchedNames,(t,e,i)=>{t.hideMatchedNames=i})),s(l,"CHAT_LINKS",m.create("Chat Links",t=>t.chatLinks,(t,e,i)=>{t.chatLinks=i})),s(l,"CHAT_LINKS_PROMPT",m.create("Chat Links Prompt",t=>t.chatLinksPrompt,(t,e,i)=>{t.chatLinksPrompt=i})),s(l,"DISCRETE_MOUSE_SCROLL",m.create("Discrete Mouse Scroll",t=>t.discreteMouseScroll,(t,e,i)=>{t.discreteMouseScroll=i})),s(l,"VSYNC",m.create("Vsync",t=>t.enableVsync,(t,e,i)=>{t.enableVsync=i})),s(l,"ENTITY_SHADOWS",m.create("Entity Shadows",t=>t.entityShadows,(t,e,i)=>{t.entityShadows=i})),s(l,"FORCE_UNICODE_FONT",m.create("Force Unicode Font",t=>t.forceUnicodeFont,(t,e,i)=>{t.forceUnicodeFont=i})),s(l,"INVERT_MOUSE",m.create("Invert Mouse",t=>t.invertYMouse,(t,e,i)=>{t.invertYMouse=i})),s(l,"REALMS_NOTIFICATIONS",m.create("Realms Notifications",t=>t.realmsNotifications,(t,e,i)=>{t.realmsNotifications=i})),s(l,"ALLOW_SERVER_LISTING",m.create("Allow Server Listing",t=>t.allowServerListing,(t,e,i)=>{t.allowServerListing=i})),s(l,"REDUCED_DEBUG_INFO",m.create("Reduced Debug Info",t=>t.reducedDebugInfo,(t,e,i)=>{t.reducedDebugInfo=i})),s(l,"SUBTITLES",m.create("Show Subtitles",t=>t.showSubtitles,(t,e,i)=>{t.showSubtitles=i})),s(l,"CLOUDS",m.createFromEnum("Clouds",E.values(),t=>new C(t.getTranslationKey()),t=>t.cloudRenderMode,(t,e,i)=>{t.cloudRenderMode=i}));class M extends Z{constructor(t,e){super(e);s(this,"prevScreen");this.prevScreen=t}init(){this.addBackground()}onClose(){var t;(t=this.mc)==null||t.setScreen(this.prevScreen)}}const J=class extends M{constructor(t){super(t,new o("Accessibility Settings"));s(this,"_title_Gui")}init(){super.init();for(let t=0;t<J.OPTIONS.length;t++)this.addWidget(J.OPTIONS[t].createButton(this.mc.gameOptions,this.width/2-155+160*(t%2),42+~~(t/2)*24,150));this.addWidget(new g(this.width/2-155,this.height-27,150,20,new o("Accessibility Guide"),()=>{this.openURL(J.GUIDE_URL)})).setActive(!0),this.addWidget(new g(this.width/2+5,this.height-27,150,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}};let it=J;s(it,"GUIDE_URL","https://aka.ms/MinecraftJavaAccessibility"),s(it,"OPTIONS",[l.AUTO_SUGGESTIONS,l.CHAT_COLOR,l.CHAT_LINKS,l.CHAT_LINKS_PROMPT,l.HIDE_LIGHTNING_FLASHES,l.HIDE_MATCHED_NAMES,l.SUBTITLES,l.MONOCHROME_LOGO]);class Yt extends M{constructor(t){super(t,new o("Chat Settings"));s(this,"_title_Gui")}init(){super.init(),this.addWidget(new g(this.width/2-100,this.height-27,200,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}}class Vt extends M{constructor(t){super(t,new o("Controls"));s(this,"_title_Gui")}init(){super.init(),this.addWidget(new g(this.width/2-100,this.height-29,200,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,15,16777215),this.container.addChild(this._title_Gui.container)}}class Xt extends M{constructor(t){super(t,new o("Language..."));s(this,"_title_Gui")}init(){super.init(),this.addWidget(l.FORCE_UNICODE_FONT.createButton(this.mc.gameOptions,this.width/2-155,this.height-38,150)),this.addWidget(new g(this.width/2-155+160,this.height-38,150,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,16,16777215),this.container.addChild(this._title_Gui.container)}}class Kt extends M{constructor(t){super(t,new o("Chat Settings"));s(this,"_title_Gui")}init(){super.init(),this.addWidget(new g(this.width/2-100,this.height-27,200,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}}class jt extends M{constructor(t){super(t,new o("Skin Customization"));s(this,"_title_Gui")}init(){super.init(),this.addWidget(new g(this.width/2-100,this.height/6,200,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,20,16777215),this.container.addChild(this._title_Gui.container)}}class zt extends M{constructor(t){super(t,new o("Music and Sound Settings"));s(this,"_title_Gui")}init(){super.init();let t=0,e=0;this.addWidget(new g(this.width/2-100,t+22*((e+=2)>>1),200,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,15,16777215),this.container.addChild(this._title_Gui.container)}}const dt=class extends M{constructor(t){super(t,new o("Video Settings"));s(this,"_title_Gui")}init(){super.init();for(let t=0;t<dt.OPTIONS.length;t++)this.addWidget(dt.OPTIONS[t].createButton(this.mc.gameOptions,this.width/2-155+160*(t%2),42+~~(t/2)*24,150));this.addWidget(new g(this.width/2-100,this.height-27,200,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)})),this._title_Gui=this.createCenteredText(this.title,this.width/2,5,16777215),this.container.addChild(this._title_Gui.container)}};let mt=dt;s(mt,"OPTIONS",[l.CLOUDS,l.VSYNC,l.ENTITY_SHADOWS]);class Jt extends Z{constructor(t){super(new o("Options"));s(this,"prevScreen");this.prevScreen=t}init(){super.init(),this.addBackground();const t=this.width/2-155,e=this.height/6+48-6;this.addWidget(l.HUD_HIDDEN.createButton(this.mc.gameOptions,t,this.height/6-12,150)),this.addWidget(new g(t+160,this.height/6-12,150,20,new o("Online..."),()=>{this.mc.setScreen(new Kt(this))})),this.addWidget(new g(t,e,150,20,new o("Skin Customization..."),()=>{this.mc.setScreen(new jt(this))})),this.addWidget(new g(t+160,e,150,20,new o("Music & Sound..."),()=>{this.mc.setScreen(new zt(this))})),this.addWidget(new g(t,e+24,150,20,new o("Video Settings..."),()=>{this.mc.setScreen(new mt(this))})),this.addWidget(new g(t+160,e+24,150,20,new o("Controls"),()=>{this.mc.setScreen(new Vt(this))})),this.addWidget(new g(t,e+48,150,20,new o("Language..."),()=>{this.mc.setScreen(new Xt(this))})),this.addWidget(new g(t+160,e+48,150,20,new o("Chat Settings..."),()=>{this.mc.setScreen(new Yt(this))})),this.addWidget(new g(t,e+72,150,20,new o("Resource Packs..."),()=>{})).setActive(!1),this.addWidget(new g(t+160,e+72,150,20,new o("Accessibility Settings..."),()=>{this.mc.setScreen(new it(this))})),this.addWidget(new g(t+55,e+72+48+6,200,20,S.DONE,()=>{this.mc.setScreen(this.prevScreen)}))}}const q=class extends Z{constructor(t){super();s(this,"doBackgroundFade");s(this,"isMinceraft");s(this,"splashText");s(this,"copyrightTextWidth");s(this,"copyrightTextX");s(this,"copyUnderline");s(this,"splashTextScale");s(this,"_splash");s(this,"fpsGuiText");this.splashText="",this.splashTextScale=1,this.doBackgroundFade=t,this.isMinceraft=Math.random()<1e-4,this.copyrightTextWidth=0,this.copyrightTextX=0}init(){var i;this.addBackground(),this.splashText===""&&(this.splashText=this.mc.getSplashTextLoader().get()),this.copyrightTextWidth=O.getWidth(q.COPYRIGHT),this.copyrightTextX=this.width-this.copyrightTextWidth-2;const t=this.width/2-100,e=this.height/4+48;this.addWidget(new g(t,e,200,20,new o("Single").append(new T("player").formatted(u.BLUE)).formatted(u.YELLOW),()=>{this.mc.setScreen(new _t(this))})),this.addWidget(new g(t,e+24,200,20,new C("menu.multiplayer"),()=>{})).setActive(!1),this.addWidget(new g(t,e+48,200,20,new o("Minecraft Realms"),()=>{})).setActive(!1),this.addWidget(new Lt(t-24,e+72+12,20,20,0,106,20,G.WIDGETS_TEXTURE,new o(""),()=>{this.mc.gameOptions.guiScale===1?(this.mc.updateGuiScale(2),this.mc.gameOptions.save()):this.mc.gameOptions.guiScale===2?(this.mc.updateGuiScale(3),this.mc.gameOptions.save()):this.mc.gameOptions.guiScale===3?(this.mc.updateGuiScale(4),this.mc.gameOptions.save()):(this.mc.updateGuiScale(1),this.mc.gameOptions.save())})),this.addWidget(new g(t,e+72+12,98,20,new o("Options..."),()=>{this.mc.setScreen(new Jt(this))})),this.addWidget(new g(t+102,e+72+12,98,20,new o("Quit Game"),()=>{})).setActive(!1),this.addWidget(new Lt(t+204,e+72+12,20,20,0,0,20,q.ACCESSIBILITY_ICON_TEXTURE,new o(""),()=>{})),this.addGuiText(this.createTextWithShadow(new o("Made by KM. Not official if somehow you couldn't figure that out on your own.").formatted(u.DARK_GRAY),2,2,16777215)),this.addGuiText(this.createStringWithShadow("Minecraft Web v0.0.1-a",2,this.height-10,16777215)),this.addGuiText(this.createStringWithShadow(q.COPYRIGHT,this.copyrightTextX,this.height-10,16777215)),this.copyUnderline=new Q,this.copyUnderline.beginFill(16777215),this.copyUnderline.drawRect(0,0,this.copyrightTextWidth,1),this.copyUnderline.endFill(),this.copyUnderline.position.set(this.copyrightTextX,this.height-1),this.copyUnderline.visible=!1,this.container.addChild(this.copyUnderline),this._splash=this.addGuiText(this.createStringWithShadow((i=this.splashText)!=null?i:"",this.width/2+90,62,16776960)),this._splash.container.pivot.x=this._splash.container.width/2,this._splash.container.pivot.y=this._splash.container.height/2,this._splash.container.rotation=-20*Math.PI/180,this.fpsGuiText=this.addGuiText(this.createStringWithShadow(this.mc.currFps+" FPS",2,12,16777215))}mouseClicked(t,e,i){return super.mouseClicked(t,e,i)?!0:t>this.copyrightTextX&&t<this.copyrightTextX+this.copyrightTextWidth&&e>this.height-10&&e<this.height?(this.mc.setScreen(new et(!1)),!0):!1}update(t,e,i){super.update(t,e,i);const n=1.8-Math.abs(Math.sin(Date.now()%1e3/1e3*6.2831855)*.1);this.splashTextScale=n*100/(O.getWidth(this.splashText)*1.15+32),this._splash&&this._splash.container.scale.set(this.splashTextScale,this.splashTextScale),this.copyUnderline&&(this.copyUnderline.visible=t>this.copyrightTextX&&t<this.copyrightTextX+this.copyrightTextWidth&&e>this.height-10&&e<this.height)}tick(){super.tick()}shouldCloseOnEsc(){return!1}};let st=q;s(st,"ACCESSIBILITY_ICON_TEXTURE",new I("textures/gui/accessibility.png")),s(st,"COPYRIGHT","Copyright Mojang AB. Do not distribute!");const qt=new R(()=>new st,[]);qt.run();
